
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>Monte Carlo Â· Arcane Algorithm Archive</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.7.5">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-bibtex-cite/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-api-language-selector/api-language-selector.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../metropolis/metropolis.html" />
    
    
    <link rel="prev" href="../euclidean_algorithm/euclidean_algorithm.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Algorithm Archive
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../introduction/introduction.html">
            
                <a href="../introduction/introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../how_to_contribute/how_to_contribute.html">
            
                <a href="../how_to_contribute/how_to_contribute.html">
            
                    
                    How To Contribute
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../code_reviews/code_reviewers.html">
            
                <a href="../code_reviews/code_reviewers.html">
            
                    
                    Code Reviewers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../plotting/plotting.html">
            
                <a href="../plotting/plotting.html">
            
                    
                    Plotting
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../domain_coloring/domain_coloring.html">
            
                <a href="../domain_coloring/domain_coloring.html">
            
                    
                    Domain Coloring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../IFS/IFS.html">
            
                <a href="../IFS/IFS.html">
            
                    
                    Iterated Function Systems
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../barnsley/barnsley.html">
            
                <a href="../barnsley/barnsley.html">
            
                    
                    The Barnsley Fern
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../data_structures/data_structures.html">
            
                <a href="../data_structures/data_structures.html">
            
                    
                    Data Structures
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../stacks_and_queues/stacks_and_queues.html">
            
                <a href="../stacks_and_queues/stacks_and_queues.html">
            
                    
                    Stacks and Queues
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../mathematical_background/mathematical_background.html">
            
                <a href="../mathematical_background/mathematical_background.html">
            
                    
                    Mathematical Background
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../notation/notation.html">
            
                <a href="../notation/notation.html">
            
                    
                    Complexity Notation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../affine_transformations/affine_transformations.html">
            
                <a href="../affine_transformations/affine_transformations.html">
            
                    
                    Affine Transformations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../bitlogic/bitlogic.html">
            
                <a href="../bitlogic/bitlogic.html">
            
                    
                    Bit Logic
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../taylor_series_expansion/taylor_series_expansion.html">
            
                <a href="../taylor_series_expansion/taylor_series_expansion.html">
            
                    
                    Taylor Series
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../convolutions/convolutions.html">
            
                <a href="../convolutions/convolutions.html">
            
                    
                    Convolutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.5.1" data-path="../convolutions/1d/1d.html">
            
                <a href="../convolutions/1d/1d.html">
            
                    
                    Convolutions in 1D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5.2" data-path="../convolutions/multiplication/multiplication.html">
            
                <a href="../convolutions/multiplication/multiplication.html">
            
                    
                    Multiplication as a Convolution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5.3" data-path="../convolutions/2d/2d.html">
            
                <a href="../convolutions/2d/2d.html">
            
                    
                    Convolutions of Images (2D)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5.4" data-path="../convolutions/convolutional_theorem/convolutional_theorem.html">
            
                <a href="../convolutions/convolutional_theorem/convolutional_theorem.html">
            
                    
                    Convolutional Theorem
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../box_muller/box_muller.html">
            
                <a href="../box_muller/box_muller.html">
            
                    
                    Box Muller Transform
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.6.1" data-path="../box_muller/box_muller_rejection.html">
            
                <a href="../box_muller/box_muller_rejection.html">
            
                    
                    How costly is rejection sampling?
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../probability_distributions/distributions.html">
            
                <a href="../probability_distributions/distributions.html">
            
                    
                    Probability Distributions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../tree_traversal/tree_traversal.html">
            
                <a href="../tree_traversal/tree_traversal.html">
            
                    
                    Tree Traversal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../euclidean_algorithm/euclidean_algorithm.html">
            
                <a href="../euclidean_algorithm/euclidean_algorithm.html">
            
                    
                    Euclidean Algorithm
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.9" data-path="monte_carlo_integration.html">
            
                <a href="monte_carlo_integration.html">
            
                    
                    Monte Carlo
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../metropolis/metropolis.html">
            
                <a href="../metropolis/metropolis.html">
            
                    
                    Metropolis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../matrix_methods/matrix_methods.html">
            
                <a href="../matrix_methods/matrix_methods.html">
            
                    
                    Matrix Methods
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../gaussian_elimination/gaussian_elimination.html">
            
                <a href="../gaussian_elimination/gaussian_elimination.html">
            
                    
                    Gaussian Elimination
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../thomas_algorithm/thomas_algorithm.html">
            
                <a href="../thomas_algorithm/thomas_algorithm.html">
            
                    
                    Thomas Algorithm
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../computational_geometry/computational_geometry.html">
            
                <a href="../computational_geometry/computational_geometry.html">
            
                    
                    Computational Geometry
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../gift_wrapping/gift_wrapping.html">
            
                <a href="../gift_wrapping/gift_wrapping.html">
            
                    
                    Gift Wrapping
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1.1" data-path="../jarvis_march/jarvis_march.html">
            
                <a href="../jarvis_march/jarvis_march.html">
            
                    
                    Jarvis March
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.2" data-path="../graham_scan/graham_scan.html">
            
                <a href="../graham_scan/graham_scan.html">
            
                    
                    Graham Scan
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../cooley_tukey/cooley_tukey.html">
            
                <a href="../cooley_tukey/cooley_tukey.html">
            
                    
                    FFT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../decision_problems/decision_problems.html">
            
                <a href="../decision_problems/decision_problems.html">
            
                    
                    Decision Problems
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../stable_marriage_problem/stable_marriage_problem.html">
            
                <a href="../stable_marriage_problem/stable_marriage_problem.html">
            
                    
                    Stable Marriage Problem
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../physics_solvers/physics_solvers.html">
            
                <a href="../physics_solvers/physics_solvers.html">
            
                    
                    Physics Solvers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../verlet_integration/verlet_integration.html">
            
                <a href="../verlet_integration/verlet_integration.html">
            
                    
                    Verlet Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../quantum_systems/quantum_systems.html">
            
                <a href="../quantum_systems/quantum_systems.html">
            
                    
                    Quantum Systems
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.2.1" data-path="../split-operator_method/split-operator_method.html">
            
                <a href="../split-operator_method/split-operator_method.html">
            
                    
                    Split-Operator Method
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../data_compression/data_compression.html">
            
                <a href="../data_compression/data_compression.html">
            
                    
                    Data Compression
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../huffman_encoding/huffman_encoding.html">
            
                <a href="../huffman_encoding/huffman_encoding.html">
            
                    
                    Huffman Encoding
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../computer_graphics/computer_graphics.html">
            
                <a href="../computer_graphics/computer_graphics.html">
            
                    
                    Computer Graphics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="../flood_fill/flood_fill.html">
            
                <a href="../flood_fill/flood_fill.html">
            
                    
                    Flood Fill
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="../quantum_information/quantum_information.html">
            
                <a href="../quantum_information/quantum_information.html">
            
                    
                    Quantum Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="../cryptography/cryptography.html">
            
                <a href="../cryptography/cryptography.html">
            
                    
                    Cryptography
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="../computus/computus.html">
            
                <a href="../computus/computus.html">
            
                    
                    Computus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="../approximate_counting/approximate_counting.html">
            
                <a href="../approximate_counting/approximate_counting.html">
            
                    
                    Approximate Counting Algorithm
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Monte Carlo</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="monte-carlo-integration">Monte Carlo Integration</h1>
<p>Monte Carlo methods were some of the first methods I ever used for research, and when I learned about them, they seemed like some sort of magic.
Their premise is simple: random numbers can be used to integrate arbitrary shapes embedded into other objects.
Nowadays, &quot;Monte Carlo&quot; has become a bit of a catch-all term for methods that use random numbers to produce real results, but it all started as a straightforward method to integrate objects.
No matter how you slice it, the idea seems a bit crazy at first.
After all, random numbers are random.
How could they possibly be used to find non-random values?</p>
<p>Well, imagine you have a square.
The area of the square is simple, <script type="math/tex; ">\text{Area}_{\text{square}} = \text{length} \times \text{width}</script>.
Since it&apos;s a square, the <script type="math/tex; ">\text{length}</script> and <script type="math/tex; ">\text{width}</script> are the same, so the formula is technically just <script type="math/tex; ">\text{Area}_{\text{square}} = \text{length}^2</script>.
If we embed a circle into the square with a radius <script type="math/tex; ">r = \tfrac{length}{2}</script> (shown below), then its area is <script type="math/tex; ">\text{Area}_{\text{circle}}=\pi r^2</script>.
For simplicity, we can also say that <script type="math/tex; ">\text{Area}_{\text{square}}=4r^2</script>.</p>
<p>
    <img class="center" src="res/square_circle.png" style="width:40%">
</p>

<p>Now, let&apos;s say we want to find the area of the circle without an equation.
As we said before, it&apos;s embedded in the square, so we should be able to find some ratio of the area of the square to the area of the circle:</p>
<p><script type="math/tex; mode=display">
\text{Ratio} = \frac{\text{Area}_{\text{circle}}}{\text{Area}_{\text{square}}}
</script></p>
<p>This means,</p>
<p><script type="math/tex; mode=display">
\text{Area}_{\text{circle}} = \text{Area}_{\text{square}}\times\text{Ratio} = 4r^2 \times \text{ratio}
</script></p>
<p>So, if we can find the <script type="math/tex; ">\text{Ratio}</script> and we know <script type="math/tex; ">r</script>, we should be able to easily find the <script type="math/tex; ">\text{Area}_{\text{circle}}</script>.
The question is, &quot;How do we easily find the <script type="math/tex; ">\text{Ratio}</script>?&quot;
Well, one way is with <em>random sampling</em>.
We basically just pick a bunch of points randomly in the square, and
each point is tested to see whether it&apos;s in the circle or not:</p>
<div class="code-method"><div class="code-method-definition"></div><div class="code-method-code"><div class="code-method-sample" data-lang="jl" data-name="Julia"><pre class="language-"><code class="lang-julia"><span class="token keyword">function</span> in_circle<span class="token punctuation">(</span>x_pos<span class="token punctuation">::</span>Float64<span class="token punctuation">,</span> y_pos<span class="token punctuation">::</span>Float64<span class="token punctuation">)</span>

    <span class="token comment"># Setting radius to 1 for unit circle</span>
    radius <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> x_pos<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> y_pos<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">&lt;</span> radius<span class="token operator">^</span><span class="token number">2</span>
<span class="token keyword">end</span>
</code></pre>
</div><div class="code-method-sample" data-lang="clj" data-name="Clojure"><pre class="language-"><code class="lang-clojure"><span class="token punctuation">(</span><span class="token keyword">defn</span> in-circle? <span class="token punctuation">[</span>pv r<span class="token punctuation">]</span>
  <span class="token string">&quot;take a vector representing point and radius return true if the
  point is inside the circle&quot;</span>
  <span class="token punctuation">(</span><span class="token keyword">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">-&gt;&gt;</span>
      pv
      <span class="token punctuation">(</span><span class="token keyword">map</span> <span class="token operator">#</span><span class="token punctuation">(</span><span class="token keyword">*</span> % %<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span><span class="token keyword">reduce</span> +<span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">(</span><span class="token keyword">*</span> r r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="c" data-name="C"><pre class="language-"><code class="lang-c">bool <span class="token function">in_circle</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="cpp" data-name="C++"><pre class="language-"><code class="lang-cpp"><span class="token comment">/**
 * Check if the point (x, y) is within a circle of a given radius.
 * @param x coordinate one
 * @param y coordinate two
 * @param r radius of the circle (optional)
 * @return true if (x, y) is within the circle.
 */</span>
<span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">in_circle</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">,</span> <span class="token keyword">double</span> r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">&lt;</span> r <span class="token operator">*</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="js" data-name="JavaScript"><pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">inCircle</span><span class="token punctuation">(</span><span class="token parameter">xPos<span class="token punctuation">,</span> yPos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Setting radius to 1 for unit circle</span>
  <span class="token keyword">let</span> radius <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> xPos <span class="token operator">*</span> xPos <span class="token operator">+</span> yPos <span class="token operator">*</span> yPos <span class="token operator">&lt;</span> radius <span class="token operator">*</span> radius<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="hs" data-name="Haskell"><pre class="language-"><code class="lang-haskell"><span class="token hvariable">inCircle</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token punctuation">,</span> <span class="token hvariable">y</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token hvariable">x</span><span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token hvariable">y</span><span class="token operator">^</span><span class="token number">2</span> <span class="token operator">&lt;</span> <span class="token number">1</span>
</code></pre>
</div><div class="code-method-sample" data-lang="rs" data-name="Rust"><pre class="language-"><code class="lang-rust"><span class="token keyword">fn</span> <span class="token function-definition function">in_circle</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
    x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">&lt;</span> radius <span class="token operator">*</span> radius
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="d" data-name="D"><pre class="language-"><code class="lang-d"><span class="token keyword">bool</span> <span class="token function">inCircle</span><span class="token punctuation">(</span><span class="token keyword">real</span> x<span class="token punctuation">,</span> <span class="token keyword">real</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">^^</span> <span class="token number">2</span> <span class="token operator">+</span> y <span class="token operator">^^</span> <span class="token number">2</span> <span class="token operator">&lt;</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="go" data-name="Go"><pre class="language-"><code class="lang-go"><span class="token keyword">func</span> <span class="token function">inCircle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x<span class="token operator">*</span>x<span class="token operator">+</span>y<span class="token operator">*</span>y <span class="token operator">&lt;</span> <span class="token number">1.0</span> <span class="token comment">// the radius of an unit circle is 1.0</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="r" data-name="R"><pre class="language-"><code class="lang-r">in_circle <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment"># Return True if the point is in the circle and False otherwise.</span>
        return<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span> <span class="token operator">&lt;</span> radius<span class="token operator">*</span>radius<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="java" data-name="Java"><pre class="language-"><code class="lang-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">inCircle</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="swift" data-name="Swift"><pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function-definition function">inCircle</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>x<span class="token operator">*</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y<span class="token operator">*</span>y<span class="token punctuation">)</span> <span class="token operator">&lt;</span> radius<span class="token operator">*</span>radius
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="py" data-name="Python"><pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">in_circle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;Return True if the point is in the circle and False otherwise.&quot;&quot;&quot;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span> <span class="token operator">&lt;</span> radius<span class="token operator">*</span>radius
</code></pre>
</div><div class="code-method-sample" data-lang="cs" data-name="C#"><pre class="language-"><code class="lang-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">IsInMe</span><span class="token punctuation">(</span><span class="token class-name">Point</span> point<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>X<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>Radius<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><div class="code-method-sample" data-lang="nim" data-name="Nim"><pre class="language-"><code class="lang-nim"><span class="token keyword">proc</span> <span class="token function">in_circle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token operator">:</span> float<span class="token punctuation">)</span><span class="token operator">:</span> bool <span class="token operator">=</span>
  <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">&lt;</span> radius <span class="token operator">*</span> radius
</code></pre>
</div><div class="code-method-sample" data-lang="ruby" data-name="Ruby"><pre class="language-"><code class="lang-ruby"><span class="token keyword">def</span> <span class="token method-definition"><span class="token function">in_circle</span></span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token comment"># Check if coords are in circle via Pythagorean Thm</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span> <span class="token operator">&lt;</span> radius<span class="token operator">*</span>radius
<span class="token keyword">end</span>
</code></pre>
</div><div class="code-method-sample" data-lang="f90" data-name="Fortran90"><pre class="language-"><code class="lang-fortran"><span class="token keyword">FUNCTION</span> in_circle<span class="token punctuation">(</span>pos_x<span class="token punctuation">,</span> pos_y<span class="token punctuation">,</span> r<span class="token punctuation">)</span>
    <span class="token keyword">IMPLICIT NONE</span>
    <span class="token keyword">REAL</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTENT</span><span class="token punctuation">(</span><span class="token keyword">IN</span><span class="token punctuation">)</span> <span class="token operator">::</span> pos_x<span class="token punctuation">,</span> pos_y<span class="token punctuation">,</span> r
    <span class="token keyword">LOGICAL</span>              <span class="token operator">::</span> in_circle

    in_circle <span class="token operator">=</span> <span class="token punctuation">(</span>pos_x <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> pos_y <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> r <span class="token operator">**</span> <span class="token number">2</span>

<span class="token keyword">END FUNCTION</span> in_circle
</code></pre>
</div><div class="code-method-sample" data-lang="factor" data-name="Factor"><pre class="language-"><code class="lang-factor"><span class="token quotation-delimiter operator">[</span> <span class="token comment">! in-circle check</span>
  <span class="token quotation-delimiter operator">[</span> <span class="token number">2</span> <span class="token normal-word">^</span> <span class="token quotation-delimiter operator">]</span> <span class="token combinators keyword">bi@</span> <span class="token math-builtin variable">+</span> <span class="token comment">! get the distance from the center</span>
  <span class="token number">1</span> <span class="token math-builtin variable">&lt;</span>           <span class="token comment">! see if it&apos;s less than the radius</span>
<span class="token quotation-delimiter operator">]</span>
</code></pre>
</div><div class="code-method-sample" data-lang="emojic" data-name="Emojicode"><pre class="language-"><code class="lang-emojicode">âï¸ ð¥ point âï¸ â¡ï¸ ð ð
  ðª pointâï¸ â¡ï¸ point_x
  ð« pointâï¸ â¡ï¸ point_y
  â©ï¸ ð¤point_x âï¸ point_x â point_y âï¸ point_yð¤ âï¸ ð¤radius âï¸ radiusð¤
ð
</code></pre>
</div><div class="code-method-sample" data-lang="php" data-name="PHP"><pre class="language-"><code class="lang-php"><span class="token keyword">function</span> <span class="token function-definition function">in_circle</span><span class="token punctuation">(</span><span class="token keyword type-hint">float</span> <span class="token variable">$positionX</span><span class="token punctuation">,</span> <span class="token keyword type-hint">float</span> <span class="token variable">$positionY</span><span class="token punctuation">,</span> <span class="token keyword type-hint">float</span> <span class="token variable">$radius</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">bool</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token variable">$positionX</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token variable">$positionY</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token variable">$radius</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="lua" data-name="Lua"><pre class="language-"><code class="lang-lua"><span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">in_circle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
  <span class="token keyword">return</span> x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y <span class="token operator">&lt;</span> <span class="token number">1</span>
<span class="token keyword">end</span>
</code></pre>
</div><div class="code-method-sample" data-lang="racket" data-name="Racket"><pre class="language-"><code class="lang-racket">(define (in-circle x y)
  &quot;Checks if a point is in a unit circle&quot;
  (&lt; (+ (sqr x) (sqr y)) 1))
</code></pre>
</div><div class="code-method-sample" data-lang="scala" data-name="Scala"><pre class="language-"><code class="lang-scala"><span class="token keyword">def</span> inCircle<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token operator">=</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">&lt;</span> <span class="token number">1</span>
</code></pre>
</div><div class="code-method-sample" data-lang="lisp" data-name="Common Lisp"><pre class="language-"><code class="lang-lisp"><span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">in-circle-p</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">x</span> <span class="token argument variable">y</span></span><span class="token punctuation">)</span></span>
  <span class="token string">&quot;Checks if a point is in a unit circle&quot;</span>
  <span class="token punctuation">(</span><span class="token car">&lt;</span> <span class="token punctuation">(</span><span class="token car">+</span> <span class="token punctuation">(</span><span class="token car">*</span> x x<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token car">*</span> y y<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="asm-x64" data-name="X86-64 Assembly"><pre class="language-"><code class="lang-asm-x64"># <span class="token register variable">xmm0</span> <span class="token operator">-</span> x
# <span class="token register variable">xmm1</span> <span class="token operator">-</span> y
# RET <span class="token register variable">rax</span> <span class="token operator">-</span> bool
<span class="token label function">in_circle:</span>
  mulsd  <span class="token register variable">xmm0</span>, <span class="token register variable">xmm0</span>                  # Calculate x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y
  mulsd  <span class="token register variable">xmm1</span>, <span class="token register variable">xmm1</span>
  addsd  <span class="token register variable">xmm0</span>, <span class="token register variable">xmm1</span>
  movsd  <span class="token register variable">xmm1</span>, one                   # Set circle radius to <span class="token number">1</span>
  xor    <span class="token register variable">rax</span>, <span class="token register variable">rax</span>
  comisd <span class="token register variable">xmm1</span>, <span class="token register variable">xmm0</span>                  # Return bool <span class="token register variable">xmm0</span> <span class="token operator">&lt;</span> <span class="token register variable">xmm1</span>
  seta <span class="token register variable">al</span>
  ret
</code></pre>
</div><div class="code-method-sample" data-lang="bash" data-name="Bash"><pre class="language-"><code class="lang-bash"><span class="token function-name function">inCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">local</span> ret
    <span class="token builtin class-name">local</span> mag
    <span class="token variable"><span class="token punctuation">((</span>ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">))</span></span>
    <span class="token keyword">if</span> <span class="token variable"><span class="token punctuation">((</span>$<span class="token number">1</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> $<span class="token number">2</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">&lt;</span> <span class="token number">1073676289</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">then</span> <span class="token comment"># 1073676289 = 32767 ** 2</span>
        <span class="token variable"><span class="token punctuation">((</span>ret <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">))</span></span>
    <span class="token keyword">fi</span>
    <span class="token builtin class-name">printf</span> <span class="token string">&quot;%d&quot;</span> <span class="token variable">$ret</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="kotlin" data-name="Kotlin"><pre class="language-"><code class="lang-kotlin"><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">inCircle</span><span class="token punctuation">(</span>x<span class="token operator">:</span> Double<span class="token punctuation">,</span> y<span class="token operator">:</span> Double<span class="token punctuation">,</span> radius<span class="token operator">:</span> Double <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y<span class="token punctuation">)</span> <span class="token operator">&lt;</span> radius <span class="token operator">*</span> radius
</code></pre>
</div><div class="code-method-sample" data-lang="m" data-name="Matlab"><pre class="language-"><code class="lang-matlab"><span class="token comment">% a 2 by n array, rows are xs and ys</span>
xy_array <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>   

<span class="token comment">% square every element in the array</span>
squares_array <span class="token operator">=</span> xy_array<span class="token operator">.^</span><span class="token number">2</span><span class="token punctuation">;</span>            

<span class="token comment">% sum the xs and ys and check if it&apos;s in the quarter circle</span>
incircle_array <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span>squares_array<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre>
</div><div class="code-method-sample" data-lang="scratch" data-name="Scratch"><p>
    <img class="center" src="code/scratch/InCircle.svg" style="width:40%">
</p></div><div class="code-method-sample" data-lang="coco" data-name="Coconut"><pre class="language-"><code class="lang-coconut">data point(x, y):
    def __abs__(self) = (self.x, self.y) |&gt; map$(pow$(?, 2)) |&gt; sum |&gt; math.sqrt

def in_circle(point(p), radius = 1):
    &quot;&quot;&quot;Return True if the point is in the circle and False otherwise.&quot;&quot;&quot;
    return abs(p) &lt; radius
</code></pre>
</div><div class="code-method-sample" data-lang="ps1" data-name="PowerShell"><pre class="language-"><code class="lang-powershell">ï»¿<span class="token keyword">function</span> Is-InCircle<span class="token punctuation">(</span><span class="token variable">$x</span><span class="token punctuation">,</span> <span class="token variable">$y</span><span class="token punctuation">,</span> <span class="token variable">$radius</span>=1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token namespace">[Math]</span>::Pow<span class="token punctuation">(</span><span class="token variable">$x</span><span class="token punctuation">,</span> 2<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token namespace">[Math]</span>::Pow<span class="token punctuation">(</span><span class="token variable">$y</span><span class="token punctuation">,</span> 2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-lt</span> <span class="token namespace">[Math]</span>::Pow<span class="token punctuation">(</span><span class="token variable">$radius</span><span class="token punctuation">,</span> 2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
</div></div></div>

<p>If it&apos;s in the circle, we increase an internal count by one, and in the end,</p>
<p><script type="math/tex; mode=display">
\text{Ratio} = \frac{\text{count in circle}}{\text{total number of points used}}
</script></p>
<p>If we use a small number of points, this will only give us a rough approximation, but as we start adding more and more points, the approximation becomes much, much better (as shown below)!</p>
<p>
    <img class="center" src="res/monte_carlo.gif" style="width:60%">
</p>

<p>The true power of Monte Carlo comes from the fact that it can be used to integrate literally any object that can be embedded into the square.
As long as you can write some function to tell whether the provided point is inside the shape you want (like <code>in_circle()</code> in this case), you can use Monte Carlo integration!
This is obviously an incredibly powerful tool and has been used time and time again for many different areas of physics and engineering.
I can guarantee that we will see similar methods crop up all over the place in the future!</p>
<h2 id="video-explanation">Video Explanation</h2>
<p>Here is a video describing Monte Carlo integration:</p>
<div style="text-align:center">
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/AyBNnkYrSWY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>

<h2 id="example-code">Example Code</h2>
<p>Monte Carlo methods are famous for their simplicity.
It doesn&apos;t take too many lines to get something simple going.
Here, we are just integrating a circle, like we described above; however, there is a small twist and trick.
Instead of calculating the area of the circle, we are instead trying to find the value of <script type="math/tex; ">\pi</script>, and
rather than integrating the entire circle, we are only integrating the upper right quadrant of the circle from <script type="math/tex; ">0 < x, y < 1</script>.
This saves a bit of computation time, but also requires us to multiply our output by <script type="math/tex; ">4</script>.</p>
<p>That&apos;s all there is to it!
Feel free to submit your version via pull request, and thanks for reading!</p>
<div class="code-method"><div class="code-method-definition"></div><div class="code-method-code"><div class="code-method-sample" data-lang="jl" data-name="Julia"><pre class="language-"><code class="lang-julia"><span class="token comment"># function to determine whether an x, y point is in the unit circle</span>
<span class="token keyword">function</span> in_circle<span class="token punctuation">(</span>x_pos<span class="token punctuation">::</span>Float64<span class="token punctuation">,</span> y_pos<span class="token punctuation">::</span>Float64<span class="token punctuation">)</span>

    <span class="token comment"># Setting radius to 1 for unit circle</span>
    radius <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> x_pos<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> y_pos<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">&lt;</span> radius<span class="token operator">^</span><span class="token number">2</span>
<span class="token keyword">end</span>

<span class="token comment"># function to integrate a unit circle to find pi via monte_carlo</span>
<span class="token keyword">function</span> monte_carlo<span class="token punctuation">(</span>n<span class="token punctuation">::</span>Int64<span class="token punctuation">)</span>

    pi_count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">:</span>n
        point_x <span class="token operator">=</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span>
        point_y <span class="token operator">=</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>in_circle<span class="token punctuation">(</span>point_x<span class="token punctuation">,</span> point_y<span class="token punctuation">)</span><span class="token punctuation">)</span>
            pi_count <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>

    <span class="token comment"># This is using a quarter of the unit sphere in a 1x1 box.</span>
    <span class="token comment"># The formula is pi = (box_length^2 / radius^2) * (pi_count / n), but we</span>
    <span class="token comment">#     are only using the upper quadrant and the unit circle, so we can use</span>
    <span class="token comment">#     4*pi_count/n instead</span>
    <span class="token keyword">return</span> <span class="token number">4</span><span class="token operator">*</span>pi_count<span class="token operator">/</span>n
<span class="token keyword">end</span>

pi_estimate <span class="token operator">=</span> monte_carlo<span class="token punctuation">(</span><span class="token number">10000000</span><span class="token punctuation">)</span>
<span class="token keyword">println</span><span class="token punctuation">(</span><span class="token string">&quot;The pi estimate is: &quot;</span><span class="token punctuation">,</span> pi_estimate<span class="token punctuation">)</span>
<span class="token keyword">println</span><span class="token punctuation">(</span><span class="token string">&quot;Percent error is: &quot;</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token operator">*</span> abs<span class="token punctuation">(</span>pi_estimate <span class="token operator">-</span> <span class="token constant">pi</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token constant">pi</span><span class="token punctuation">,</span> <span class="token string">&quot; %&quot;</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="clj" data-name="Clojure"><pre class="language-"><code class="lang-clojure"><span class="token punctuation">(</span><span class="token keyword">ns</span> monte-carlo.core<span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defn</span> in-circle? <span class="token punctuation">[</span>pv r<span class="token punctuation">]</span>
  <span class="token string">&quot;take a vector representing point and radius return true if the
  point is inside the circle&quot;</span>
  <span class="token punctuation">(</span><span class="token keyword">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">-&gt;&gt;</span>
      pv
      <span class="token punctuation">(</span><span class="token keyword">map</span> <span class="token operator">#</span><span class="token punctuation">(</span><span class="token keyword">*</span> % %<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span><span class="token keyword">reduce</span> +<span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">(</span><span class="token keyword">*</span> r r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defn</span> rand-point <span class="token punctuation">[</span>r<span class="token punctuation">]</span>
  <span class="token string">&quot;return a random point from (0,0) inclusive to (r,r) exclusive&quot;</span>
  <span class="token punctuation">(</span><span class="token function">repeatedly</span> <span class="token number">2</span> <span class="token operator">#</span><span class="token punctuation">(</span><span class="token keyword">rand</span> r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defn</span> monte-carlo <span class="token punctuation">[</span>n r<span class="token punctuation">]</span>
  <span class="token string">&quot;take the number of random points and radius return an estimate to
pi&quot;</span>
  <span class="token punctuation">(</span><span class="token function">*&apos;</span> <span class="token number">4</span> <span class="token punctuation">(</span><span class="token keyword">/</span> n<span class="token punctuation">)</span>
      <span class="token punctuation">(</span><span class="token keyword">loop</span> <span class="token punctuation">[</span>i n count <span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">zero?</span> i<span class="token punctuation">)</span>
          count
          <span class="token punctuation">(</span><span class="token keyword">recur</span> <span class="token punctuation">(</span><span class="token keyword">dec</span> i<span class="token punctuation">)</span>
                 <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in-circle?</span> <span class="token punctuation">(</span><span class="token function">rand-point</span> r<span class="token punctuation">)</span> r<span class="token punctuation">)</span>
                   <span class="token punctuation">(</span><span class="token keyword">inc</span> count<span class="token punctuation">)</span>
                   count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">defn</span> -main <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>constant-pi Math/PI
        computed-pi <span class="token punctuation">(</span><span class="token function">monte-carlo</span> <span class="token number">10000000</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">;; this may take some time on lower end machines</span>
        difference <span class="token punctuation">(</span><span class="token function">Math/abs</span> <span class="token punctuation">(</span><span class="token keyword">-</span> constant-pi computed-pi<span class="token punctuation">)</span><span class="token punctuation">)</span>
        error <span class="token punctuation">(</span><span class="token keyword">*</span> <span class="token number">100</span> <span class="token punctuation">(</span><span class="token keyword">/</span> difference constant-pi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">(</span><span class="token keyword">println</span> <span class="token string">&quot;world&apos;s PI: &quot;</span> constant-pi
             <span class="token string">&quot;,our PI: &quot;</span> <span class="token punctuation">(</span><span class="token keyword">double</span> computed-pi<span class="token punctuation">)</span>
             <span class="token string">&quot;,error: &quot;</span> error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="c" data-name="C"><pre class="language-"><code class="lang-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;math.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdbool.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>

bool <span class="token function">in_circle</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">double</span> <span class="token function">monte_carlo</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> samples<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> samples<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> RAND_MAX<span class="token punctuation">;</span>
        <span class="token keyword">double</span> y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> RAND_MAX<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in_circle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">4.0</span> <span class="token operator">*</span> count <span class="token operator">/</span> samples<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">double</span> estimate <span class="token operator">=</span> <span class="token function">monte_carlo</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;The estimate of pi is %g\n&quot;</span><span class="token punctuation">,</span> estimate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Percentage error: %0.2f%%\n&quot;</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token operator">*</span> <span class="token function">fabs</span><span class="token punctuation">(</span>M_PI <span class="token operator">-</span> estimate<span class="token punctuation">)</span> <span class="token operator">/</span> M_PI<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="cpp" data-name="C++"><pre class="language-"><code class="lang-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdlib&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;random&gt;</span></span>

<span class="token keyword">constexpr</span> <span class="token keyword">double</span> PI <span class="token operator">=</span> <span class="token number">3.14159265358979323846264338</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Check if the point (x, y) is within a circle of a given radius.
 * @param x coordinate one
 * @param y coordinate two
 * @param r radius of the circle (optional)
 * @return true if (x, y) is within the circle.
 */</span>
<span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">in_circle</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">,</span> <span class="token keyword">double</span> r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">&lt;</span> r <span class="token operator">*</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * Return an estimate of PI using Monte Carlo integration.
 * @param samples number of iterations to use
 * @return estimate of pi
 */</span>
<span class="token keyword">double</span> <span class="token function">monte_carlo_pi</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> samples<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> std<span class="token double-colon punctuation">::</span>default_random_engine generator<span class="token punctuation">;</span>
    <span class="token keyword">static</span> std<span class="token double-colon punctuation">::</span>uniform_real_distribution<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> <span class="token function">dist</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">unsigned</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> samples<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token function">dist</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> y <span class="token operator">=</span> <span class="token function">dist</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in_circle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token operator">++</span>count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">4.0</span> <span class="token operator">*</span> count <span class="token operator">/</span> samples<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">double</span> pi_estimate <span class="token operator">=</span> <span class="token function">monte_carlo_pi</span><span class="token punctuation">(</span><span class="token number">10000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Pi = &quot;</span> <span class="token operator">&lt;&lt;</span> pi_estimate <span class="token operator">&lt;&lt;</span> <span class="token char">&apos;\n&apos;</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Percent error is: &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token number">100</span> <span class="token operator">*</span> std<span class="token double-colon punctuation">::</span><span class="token function">abs</span><span class="token punctuation">(</span>pi_estimate <span class="token operator">-</span> PI<span class="token punctuation">)</span> <span class="token operator">/</span> PI <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; %\n&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="js" data-name="JavaScript"><pre class="language-"><code class="lang-javascript"><span class="token comment">// submitted by xam4lor</span>
<span class="token keyword">function</span> <span class="token function">inCircle</span><span class="token punctuation">(</span><span class="token parameter">xPos<span class="token punctuation">,</span> yPos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Setting radius to 1 for unit circle</span>
  <span class="token keyword">let</span> radius <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> xPos <span class="token operator">*</span> xPos <span class="token operator">+</span> yPos <span class="token operator">*</span> yPos <span class="token operator">&lt;</span> radius <span class="token operator">*</span> radius<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">monteCarlo</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> piCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pointX <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> pointY <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">inCircle</span><span class="token punctuation">(</span>pointX<span class="token punctuation">,</span> pointY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      piCount<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// This is using a quarter of the unit sphere in a 1x1 box.</span>
  <span class="token comment">// The formula is pi = (boxLength^2 / radius^2) * (piCount / n), but we</span>
  <span class="token comment">// are only using the upper quadrant and the unit circle, so we can use</span>
  <span class="token comment">// 4*piCount/n instead</span>
  <span class="token comment">// piEstimate = 4*piCount/n</span>
  <span class="token keyword">const</span> piEstimate <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> piCount <span class="token operator">/</span> n<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Percent error is: %s%&apos;</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>piEstimate <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">monteCarlo</span><span class="token punctuation">(</span><span class="token number">100000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><div class="code-method-sample" data-lang="hs" data-name="Haskell"><pre class="language-"><code class="lang-haskell"><span class="token import-statement"><span class="token keyword">import</span> System<span class="token punctuation">.</span>Random</span>

<span class="token hvariable">monteCarloPi</span> <span class="token operator">::</span> <span class="token constant">RandomGen</span> <span class="token hvariable">g</span> <span class="token operator">=&gt;</span> <span class="token hvariable">g</span> <span class="token operator">-&gt;</span> <span class="token constant">Int</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">monteCarloPi</span> <span class="token hvariable">g</span> <span class="token hvariable">n</span> <span class="token operator">=</span> <span class="token hvariable">count</span> <span class="token operator">$</span> <span class="token builtin">filter</span> <span class="token hvariable">inCircle</span> <span class="token operator">$</span> <span class="token hvariable">makePairs</span>
  <span class="token keyword">where</span> <span class="token hvariable">makePairs</span> <span class="token operator">=</span> <span class="token builtin">take</span> <span class="token hvariable">n</span> <span class="token operator">$</span> <span class="token hvariable">toPair</span> <span class="token punctuation">(</span><span class="token hvariable">randomRs</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token hvariable">g</span> <span class="token operator">::</span> <span class="token punctuation">[</span><span class="token constant">Float</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token hvariable">toPair</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">y</span><span class="token operator">:</span><span class="token hvariable">rest</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token punctuation">,</span> <span class="token hvariable">y</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token hvariable">toPair</span> <span class="token hvariable">rest</span>
        <span class="token hvariable">inCircle</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token punctuation">,</span> <span class="token hvariable">y</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token hvariable">x</span><span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token hvariable">y</span><span class="token operator">^</span><span class="token number">2</span> <span class="token operator">&lt;</span> <span class="token number">1</span>
        <span class="token hvariable">count</span> <span class="token hvariable">l</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token builtin">fromIntegral</span> <span class="token punctuation">(</span><span class="token builtin">length</span> <span class="token hvariable">l</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token builtin">fromIntegral</span> <span class="token hvariable">n</span>

<span class="token hvariable">main</span> <span class="token operator">=</span> <span class="token keyword">do</span>
  <span class="token hvariable">g</span> <span class="token operator">&lt;-</span> <span class="token hvariable">newStdGen</span>
  <span class="token keyword">let</span> <span class="token hvariable">p</span> <span class="token operator">=</span> <span class="token hvariable">monteCarloPi</span> <span class="token hvariable">g</span> <span class="token number">100000</span>
  <span class="token builtin">putStrLn</span> <span class="token operator">$</span> <span class="token string">&quot;Estimated pi: &quot;</span> <span class="token operator">++</span> <span class="token builtin">show</span> <span class="token hvariable">p</span>
  <span class="token builtin">putStrLn</span> <span class="token operator">$</span> <span class="token string">&quot;Percent error: &quot;</span> <span class="token operator">++</span> <span class="token builtin">show</span> <span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> <span class="token builtin">abs</span> <span class="token punctuation">(</span><span class="token builtin">pi</span> <span class="token operator">-</span> <span class="token hvariable">p</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token builtin">pi</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="rs" data-name="Rust"><pre class="language-"><code class="lang-rust"><span class="token comment">// Submitted by jess 3jane</span>

<span class="token keyword">extern</span> <span class="token keyword">crate</span> <span class="token module-declaration namespace">rand</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span><span class="token keyword">f64</span><span class="token punctuation">::</span><span class="token namespace">consts<span class="token punctuation">::</span></span><span class="token constant">PI</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">in_circle</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
    x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">&lt;</span> radius <span class="token operator">*</span> radius
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">monte_carlo</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token keyword">i64</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">f64</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token number">0</span><span class="token punctuation">..</span>n <span class="token punctuation">{</span>
        <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token namespace">rand<span class="token punctuation">::</span></span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token namespace">rand<span class="token punctuation">::</span></span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token function">in_circle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// return our pi estimate</span>
    <span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> count<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">f64</span> <span class="token operator">/</span> n <span class="token keyword">as</span> <span class="token keyword">f64</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> pi_estimate <span class="token operator">=</span> <span class="token function">monte_carlo</span><span class="token punctuation">(</span><span class="token number">10000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token macro property">println!</span><span class="token punctuation">(</span>
        <span class="token string">&quot;Percent error is {:.3}%&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token number">100.0</span> <span class="token operator">*</span> <span class="token punctuation">(</span>pi_estimate <span class="token operator">-</span> <span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token constant">PI</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="d" data-name="D"><pre class="language-"><code class="lang-d"><span class="token comment">///Returns true if a point (x, y) is in the circle with radius r</span>
<span class="token keyword">bool</span> <span class="token function">inCircle</span><span class="token punctuation">(</span><span class="token keyword">real</span> x<span class="token punctuation">,</span> <span class="token keyword">real</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">^^</span> <span class="token number">2</span> <span class="token operator">+</span> y <span class="token operator">^^</span> <span class="token number">2</span> <span class="token operator">&lt;</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">///Calculate pi using monte carlo</span>
<span class="token keyword">real</span> <span class="token function">monteCarloPI</span><span class="token punctuation">(</span><span class="token keyword">ulong</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">import</span> std<span class="token punctuation">.</span>algorithm <span class="token punctuation">:</span> count<span class="token punctuation">;</span>
    <span class="token keyword">import</span> std<span class="token punctuation">.</span>random <span class="token punctuation">:</span> uniform01<span class="token punctuation">;</span>
    <span class="token keyword">import</span> std<span class="token punctuation">.</span>range <span class="token punctuation">:</span> generate<span class="token punctuation">,</span> take<span class="token punctuation">;</span>
    <span class="token keyword">import</span> std<span class="token punctuation">.</span>typecons <span class="token punctuation">:</span> tuple<span class="token punctuation">;</span>

    <span class="token keyword">auto</span> piCount <span class="token operator">=</span>  <span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> tuple<span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;y&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>uniform01<span class="token punctuation">,</span> uniform01<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
        <span class="token punctuation">.</span>count<span class="token operator">!</span><span class="token punctuation">(</span>a <span class="token operator">=&gt;</span> <span class="token function">inCircle</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token punctuation">,</span> a<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> piCount <span class="token operator">*</span> <span class="token number">4.0</span> <span class="token operator">/</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">import</span> std<span class="token punctuation">.</span>math <span class="token punctuation">:</span> abs<span class="token punctuation">,</span> PI<span class="token punctuation">;</span>
    <span class="token keyword">import</span> std<span class="token punctuation">.</span>stdio <span class="token punctuation">:</span> writeln<span class="token punctuation">;</span>

    <span class="token keyword">auto</span> p <span class="token operator">=</span> <span class="token function">monteCarloPI</span><span class="token punctuation">(</span><span class="token number">100_000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Estimated pi: &quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Percent error: &quot;</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span>p <span class="token operator">-</span> PI<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">/</span> PI<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="go" data-name="Go"><pre class="language-"><code class="lang-go"><span class="token comment">// Submitted by Chinmaya Mahesh (chin123)</span>

<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;math&quot;</span>
    <span class="token string">&quot;math/rand&quot;</span>
    <span class="token string">&quot;time&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">inCircle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x<span class="token operator">*</span>x<span class="token operator">+</span>y<span class="token operator">*</span>y <span class="token operator">&lt;</span> <span class="token number">1.0</span> <span class="token comment">// the radius of an unit circle is 1.0</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">monteCarlo</span><span class="token punctuation">(</span>samples <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    count <span class="token operator">:=</span> <span class="token number">0</span>
    s <span class="token operator">:=</span> rand<span class="token punctuation">.</span><span class="token function">NewSource</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">UnixNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    r <span class="token operator">:=</span> rand<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> samples<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">,</span> y <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">Float64</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span><span class="token function">Float64</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token function">inCircle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            count <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    estimate <span class="token operator">:=</span> <span class="token number">4.0</span> <span class="token operator">*</span> <span class="token function">float64</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">float64</span><span class="token punctuation">(</span>samples<span class="token punctuation">)</span>

    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;The estimate of pi is&quot;</span><span class="token punctuation">,</span> estimate<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Which has an error of %f%%\n&quot;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token operator">*</span>math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>Pi<span class="token operator">-</span>estimate<span class="token punctuation">)</span><span class="token operator">/</span>math<span class="token punctuation">.</span>Pi<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">monteCarlo</span><span class="token punctuation">(</span><span class="token number">10000000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="r" data-name="R"><pre class="language-"><code class="lang-r">
in_circle <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment"># Return True if the point is in the circle and False otherwise.</span>
        return<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span> <span class="token operator">&lt;</span> radius<span class="token operator">*</span>radius<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

monte_carlo <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>n_samples<span class="token punctuation">,</span> radius <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment"># Return the estimate of pi using the monte carlo algorithm.</span>

        <span class="token comment"># Sample x, y from the uniform distribution</span>
        x <span class="token operator">&lt;-</span> runif<span class="token punctuation">(</span>n_samples<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> radius<span class="token punctuation">)</span>
        y <span class="token operator">&lt;-</span> runif<span class="token punctuation">(</span>n_samples<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> radius<span class="token punctuation">)</span>

        <span class="token comment"># Count the number of points inside the circle</span>
        in_circle_count <span class="token operator">&lt;-</span> sum<span class="token punctuation">(</span>in_circle<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Since we&apos;ve generated points in upper left quadrant ([0,radius], [0,])</span>
        <span class="token comment"># We need to multiply the number of points by 4    </span>
        pi_estimate <span class="token operator">&lt;-</span> <span class="token number">4</span> <span class="token operator">*</span> in_circle_count <span class="token operator">/</span> n_samples

        return<span class="token punctuation">(</span>pi_estimate<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

pi_estimate <span class="token operator">&lt;-</span> monte_carlo<span class="token punctuation">(</span><span class="token number">10000000</span><span class="token punctuation">)</span>
percent_error <span class="token operator">&lt;-</span> abs<span class="token punctuation">(</span>pi <span class="token operator">-</span> pi_estimate<span class="token punctuation">)</span><span class="token operator">/</span>pi

print<span class="token punctuation">(</span>paste<span class="token punctuation">(</span><span class="token string">&quot;The estimate of pi is: &quot;</span><span class="token punctuation">,</span> formatC<span class="token punctuation">(</span>pi_estimate<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
print<span class="token punctuation">(</span>paste<span class="token punctuation">(</span><span class="token string">&quot;The percent error is:: &quot;</span><span class="token punctuation">,</span> formatC<span class="token punctuation">(</span>percent_error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="java" data-name="Java"><pre class="language-"><code class="lang-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Random</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MonteCarlo</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">double</span> piEstimation <span class="token operator">=</span> <span class="token function">monteCarlo</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Estimated pi value: &quot;</span> <span class="token operator">+</span> piEstimation<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Percent error: &quot;</span> <span class="token operator">+</span> <span class="token number">100</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>piEstimation <span class="token operator">-</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// function to check whether point (x,y) is in unit circle</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">inCircle</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// function to calculate estimation of pi</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">monteCarlo</span><span class="token punctuation">(</span><span class="token keyword">int</span> samples<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> piCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> samples<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">double</span> x <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">double</span> y <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">inCircle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                piCount<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token number">4.0</span> <span class="token operator">*</span> piCount <span class="token operator">/</span> samples<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="swift" data-name="Swift"><pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function-definition function">inCircle</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>x<span class="token operator">*</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y<span class="token operator">*</span>y<span class="token punctuation">)</span> <span class="token operator">&lt;</span> radius<span class="token operator">*</span>radius
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function-definition function">monteCarlo</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Double</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> radius<span class="token punctuation">:</span> <span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">var</span> piCount <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> randX<span class="token punctuation">:</span> <span class="token class-name">Double</span>
    <span class="token keyword">var</span> randY<span class="token punctuation">:</span> <span class="token class-name">Double</span>

    <span class="token keyword">for</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">...</span>n <span class="token punctuation">{</span>
        randX <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token operator">..&lt;</span>radius<span class="token punctuation">)</span>
        randY <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token operator">..&lt;</span>radius<span class="token punctuation">)</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">inCircle</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> randX<span class="token punctuation">,</span> y<span class="token punctuation">:</span> randY<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> radius<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            piCount <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> piEstimate <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> piCount<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token class-name">Double</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> piEstimate
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> piEstimate <span class="token operator">=</span> <span class="token function">monteCarlo</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Pi estimate is: &quot;</span></span><span class="token punctuation">,</span> piEstimate<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Percent error is: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token number">100</span> <span class="token operator">*</span> <span class="token function">abs</span><span class="token punctuation">(</span>piEstimate <span class="token operator">-</span> <span class="token class-name">Double</span><span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token operator">/</span><span class="token class-name">Double</span><span class="token punctuation">.</span>pi</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">%&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="py" data-name="Python"><pre class="language-"><code class="lang-python"><span class="token keyword">import</span> math
<span class="token keyword">import</span> random


<span class="token keyword">def</span> <span class="token function">in_circle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;Return True if the point is in the circle and False otherwise.&quot;&quot;&quot;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span> <span class="token operator">&lt;</span> radius<span class="token operator">*</span>radius

<span class="token keyword">def</span> <span class="token function">monte_carlo</span><span class="token punctuation">(</span>n_samples<span class="token punctuation">,</span> radius <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;Return the estimate of pi using the monte carlo algorithm.&quot;&quot;&quot;</span>
    in_circle_count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n_samples<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># Sample x, y from the uniform distribution</span>
        x <span class="token operator">=</span> random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> radius<span class="token punctuation">)</span>
        y <span class="token operator">=</span> random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> radius<span class="token punctuation">)</span>

        <span class="token comment"># Count the number of points inside the circle</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>in_circle<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            in_circle_count <span class="token operator">+=</span> <span class="token number">1</span>

    <span class="token comment"># Since we&apos;ve generated points in upper right quadrant ([0,radius], [0, radius])</span>
    <span class="token comment"># We need to multiply the number of points by 4    </span>
    pi_estimate <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> in_circle_count <span class="token operator">/</span> <span class="token punctuation">(</span>n_samples<span class="token punctuation">)</span>

    <span class="token keyword">return</span> pi_estimate

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&apos;__main__&apos;</span><span class="token punctuation">:</span>

    pi_estimate <span class="token operator">=</span> monte_carlo<span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span>
    percent_error <span class="token operator">=</span> <span class="token number">100</span><span class="token operator">*</span><span class="token builtin">abs</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi <span class="token operator">-</span> pi_estimate<span class="token punctuation">)</span><span class="token operator">/</span>math<span class="token punctuation">.</span>pi

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;The estimate of pi is: {:.3f}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>pi_estimate<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;The percent error is: {:.3f}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>percent_error<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="cs" data-name="C#"><h5 id="montecarlocs">MonteCarlo.cs</h5>
<pre class="language-"><code class="lang-csharp"><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">MonteCarloIntegration</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MonteCarlo</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> samples<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> circle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Circle</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> samples<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token class-name"><span class="token keyword">var</span></span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Point</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span><span class="token function">NextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span><span class="token function">NextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>circle<span class="token punctuation">.</span><span class="token function">IsInMe</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    count<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token number">4.0</span> <span class="token operator">*</span> count <span class="token operator">/</span> samples<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="circlecs">Circle.cs</h5>
<pre class="language-"><code class="lang-csharp"><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">MonteCarloIntegration</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">struct</span> <span class="token class-name">Point</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> X <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> Y <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">double</span></span> x<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">double</span></span> y<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>X <span class="token operator">=</span> x<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>Y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Circle</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> Radius <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">private</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">double</span></span> radius<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>Radius <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">IsInMe</span><span class="token punctuation">(</span><span class="token class-name">Point</span> point<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>X<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>Radius<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="programcs">Program.cs</h5>
<pre class="language-"><code class="lang-csharp"><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">MonteCarloIntegration</span>
<span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">Program</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> monteCarlo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MonteCarlo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Running with 10,000,000 samples.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> piEstimate <span class="token operator">=</span> monteCarlo<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token number">10000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;The estimate of pi is: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">piEstimate</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;The percent error is: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>piEstimate <span class="token operator">-</span> Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> <span class="token number">100</span></span><span class="token punctuation">}</span></span><span class="token string">%&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="nim" data-name="Nim"><pre class="language-"><code class="lang-nim"><span class="token keyword">import</span> random
<span class="token keyword">import</span> math

<span class="token function">randomize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">proc</span> <span class="token function">in_circle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token operator">:</span> float<span class="token punctuation">)</span><span class="token operator">:</span> bool <span class="token operator">=</span>
  <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">&lt;</span> radius <span class="token operator">*</span> radius

<span class="token keyword">proc</span> <span class="token function">monte_carlo</span><span class="token punctuation">(</span>samples<span class="token operator">:</span> int<span class="token punctuation">)</span><span class="token operator">:</span> float <span class="token operator">=</span>
  <span class="token keyword">const</span> radius<span class="token operator">:</span> float <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token keyword">var</span> count<span class="token operator">:</span> int <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token keyword">for</span> i <span class="token operator">in</span> <span class="token number">0</span> <span class="token operator">..</span> <span class="token operator">&lt;</span> samples<span class="token operator">:</span>
    <span class="token keyword">let</span>
      x<span class="token operator">:</span> float <span class="token operator">=</span> <span class="token function">random</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span>
      y<span class="token operator">:</span> float <span class="token operator">=</span> <span class="token function">random</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token function">in_circle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">)</span><span class="token operator">:</span>
      count <span class="token operator">+=</span> <span class="token number">1</span>

  <span class="token keyword">let</span> pi_estimate<span class="token operator">:</span> float <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> count <span class="token operator">/</span> samples
  <span class="token keyword">return</span> pi_estimate

<span class="token keyword">let</span> estimate<span class="token operator">:</span> float <span class="token operator">=</span> <span class="token function">monte_carlo</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span>

echo <span class="token string">&quot;the estimate of pi is &quot;</span><span class="token punctuation">,</span> estimate
echo <span class="token string">&quot;percent error: &quot;</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>estimate <span class="token operator">-</span> PI<span class="token punctuation">)</span><span class="token operator">/</span>PI<span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="ruby" data-name="Ruby"><pre class="language-"><code class="lang-ruby"><span class="token keyword">def</span> <span class="token method-definition"><span class="token function">in_circle</span></span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token comment"># Check if coords are in circle via Pythagorean Thm</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span> <span class="token operator">&lt;</span> radius<span class="token operator">*</span>radius
<span class="token keyword">end</span>

<span class="token keyword">def</span> <span class="token method-definition"><span class="token function">monte_carlo</span></span><span class="token punctuation">(</span>n_samples<span class="token punctuation">,</span> radius<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token comment"># estimate pi via monte carlo sampling</span>
  in_circle_count <span class="token operator">=</span> <span class="token number">0.0</span>

  <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token number">0.</span><span class="token operator">..</span>n_samples
    <span class="token comment"># randomly choose coords within square</span>
    x <span class="token operator">=</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>radius
    y <span class="token operator">=</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>radius
    <span class="token keyword">if</span> in_circle<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">)</span>
      in_circle_count <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

  <span class="token comment"># circle area is pi*r^2 and rect area is 4r^2</span>
  <span class="token comment"># ratio between the two is then pi/4 so multiply by 4 to get pi</span>
  <span class="token keyword">return</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">(</span>in_circle_count <span class="token operator">/</span> n_samples<span class="token punctuation">)</span>

<span class="token keyword">end</span>


<span class="token comment"># Main</span>
pi_estimate <span class="token operator">=</span> monte_carlo<span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span>
percent_error <span class="token operator">=</span> <span class="token number">100</span> <span class="token operator">*</span> <span class="token punctuation">(</span>pi_estimate <span class="token operator">-</span> Math<span class="token double-colon punctuation">::</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">.</span>abs <span class="token operator">/</span> Math<span class="token double-colon punctuation">::</span><span class="token constant">PI</span>

puts <span class="token string-literal"><span class="token string">&quot;The estimate of pi is: </span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">pi_estimate<span class="token punctuation">.</span>round<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">}</span></span><span class="token string">&quot;</span></span>
puts <span class="token string-literal"><span class="token string">&quot;The percent error is: </span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">percent_error<span class="token punctuation">.</span>round<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">}</span></span><span class="token string">&quot;</span></span>
</code></pre>
</div><div class="code-method-sample" data-lang="f90" data-name="Fortran90"><pre class="language-"><code class="lang-fortran"><span class="token keyword">FUNCTION</span> in_circle<span class="token punctuation">(</span>pos_x<span class="token punctuation">,</span> pos_y<span class="token punctuation">,</span> r<span class="token punctuation">)</span>
    <span class="token keyword">IMPLICIT NONE</span>
    <span class="token keyword">REAL</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTENT</span><span class="token punctuation">(</span><span class="token keyword">IN</span><span class="token punctuation">)</span> <span class="token operator">::</span> pos_x<span class="token punctuation">,</span> pos_y<span class="token punctuation">,</span> r
    <span class="token keyword">LOGICAL</span>              <span class="token operator">::</span> in_circle

    in_circle <span class="token operator">=</span> <span class="token punctuation">(</span>pos_x <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> pos_y <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> r <span class="token operator">**</span> <span class="token number">2</span>

<span class="token keyword">END FUNCTION</span> in_circle 

<span class="token keyword">PROGRAM</span> monte_carlo

    <span class="token keyword">IMPLICIT NONE</span>

    <span class="token keyword">INTERFACE</span>
        <span class="token keyword">FUNCTION</span> in_circle<span class="token punctuation">(</span>pos_x<span class="token punctuation">,</span> pos_y<span class="token punctuation">,</span> r<span class="token punctuation">)</span> 
            <span class="token keyword">IMPLICIT NONE</span>
            <span class="token keyword">REAL</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTENT</span><span class="token punctuation">(</span><span class="token keyword">IN</span><span class="token punctuation">)</span> <span class="token operator">::</span> pos_x<span class="token punctuation">,</span> pos_y<span class="token punctuation">,</span> r
            <span class="token keyword">LOGICAL</span>              <span class="token operator">::</span> in_circle
        <span class="token keyword">END FUNCTION</span> in_circle 
    <span class="token keyword">END INTERFACE</span>

    <span class="token keyword">INTEGER</span>  <span class="token operator">::</span> i<span class="token punctuation">,</span>n
    <span class="token keyword">REAL</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">::</span> pos_x<span class="token punctuation">,</span>pos_y<span class="token punctuation">,</span> r<span class="token punctuation">,</span> pi_est<span class="token punctuation">,</span> pi_count<span class="token punctuation">,</span> pi_error<span class="token punctuation">,</span> pi

    <span class="token comment">! Calculate Pi from trigonometric functions as reference</span>
    pi       <span class="token operator">=</span> DACOS<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.d0</span><span class="token punctuation">)</span>
    n        <span class="token operator">=</span> <span class="token number">1000000</span>
    r        <span class="token operator">=</span> <span class="token number">1d0</span>
    pos_x    <span class="token operator">=</span> <span class="token number">0d0</span>
    pos_y    <span class="token operator">=</span> <span class="token number">0d0</span>
    pi_count <span class="token operator">=</span> <span class="token number">0d0</span>

    <span class="token keyword">DO</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>n

        <span class="token keyword">CALL</span> RANDOM_NUMBER<span class="token punctuation">(</span>pos_x<span class="token punctuation">)</span>
        <span class="token keyword">CALL</span> RANDOM_NUMBER<span class="token punctuation">(</span>pos_y<span class="token punctuation">)</span>

        <span class="token keyword">IF</span> <span class="token punctuation">(</span>in_circle<span class="token punctuation">(</span>pos_x<span class="token punctuation">,</span> pos_y<span class="token punctuation">,</span> r<span class="token punctuation">)</span> <span class="token operator">.EQV.</span> <span class="token boolean">.TRUE.</span><span class="token punctuation">)</span> <span class="token keyword">THEN</span> 

            pi_count <span class="token operator">=</span> pi_count <span class="token operator">+</span> <span class="token number">1d0</span>

        <span class="token keyword">END IF</span>
    <span class="token keyword">END DO</span>

    pi_est   <span class="token operator">=</span> <span class="token number">4d0</span> <span class="token operator">*</span> pi_count <span class="token operator">/</span> n
    pi_error <span class="token operator">=</span> <span class="token number">100d0</span> <span class="token operator">*</span> <span class="token punctuation">(</span>abs<span class="token punctuation">(</span>pi_est <span class="token operator">-</span> pi<span class="token punctuation">)</span><span class="token operator">/</span>pi<span class="token punctuation">)</span>

    <span class="token keyword">WRITE</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">&apos;(A, F12.4)&apos;</span><span class="token punctuation">)</span> <span class="token string">&apos;The pi estimate is: &apos;</span><span class="token punctuation">,</span> pi_est
    <span class="token keyword">WRITE</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token string">&apos;(A, F12.4, A)&apos;</span><span class="token punctuation">)</span> <span class="token string">&apos;Percent error is: &apos;</span><span class="token punctuation">,</span> pi_error<span class="token punctuation">,</span> <span class="token string">&apos; %&apos;</span>

<span class="token keyword">END PROGRAM</span> monte_carlo
</code></pre>
</div><div class="code-method-sample" data-lang="factor" data-name="Factor"><pre class="language-"><code class="lang-factor"><span class="token special-using function">USING: <span class="token string">locals</span> <span class="token string">random</span> <span class="token string">math.ranges</span> <span class="token string">math.functions</span></span> <span class="token semicolon-or-setlocal function">;</span>

<span class="token colon-syntax function">:: monte-carlo</span> <span class="token stack-effect-delimiter operator">(</span> <span class="token normal-word">n</span> <span class="token normal-word">in-shape?:</span> <span class="token stack-effect-delimiter operator">(</span> <span class="token normal-word">x</span> <span class="token normal-word">y</span> <span class="token stack-effect-delimiter operator">--</span> <span class="token kernel-builtin variable">?</span> <span class="token stack-effect-delimiter operator">)</span> <span class="token stack-effect-delimiter operator">--</span> <span class="token normal-word">%</span> <span class="token stack-effect-delimiter operator">)</span>
  <span class="token normal-word">n</span> <span class="token sequences-builtin variable">&lt;iota&gt;</span> <span class="token quotation-delimiter operator">[</span> <span class="token kernel-builtin variable">drop</span> <span class="token normal-word">random-unit</span> <span class="token normal-word">random-unit</span> <span class="token conventionally-named-word keyword">in-shape?</span> <span class="token kernel-builtin variable">call</span> <span class="token quotation-delimiter operator">]</span> <span class="token combinators keyword">count</span> <span class="token normal-word">n</span> <span class="token math-builtin variable">/</span>
<span class="token semicolon-or-setlocal function">;</span> <span class="token other-builtin-syntax operator">inline</span>

<span class="token comment">! Use the monte-carlo approximation to calculate pi</span>
<span class="token colon-syntax function">: monte-carlo-pi</span> <span class="token stack-effect-delimiter operator">(</span> <span class="token normal-word">n</span> <span class="token stack-effect-delimiter operator">--</span> <span class="token normal-word">pi-approx</span> <span class="token stack-effect-delimiter operator">)</span>
  <span class="token quotation-delimiter operator">[</span> <span class="token comment">! in-circle check</span>
    <span class="token quotation-delimiter operator">[</span> <span class="token number">2</span> <span class="token normal-word">^</span> <span class="token quotation-delimiter operator">]</span> <span class="token combinators keyword">bi@</span> <span class="token math-builtin variable">+</span> <span class="token comment">! get the distance from the center</span>
    <span class="token number">1</span> <span class="token math-builtin variable">&lt;</span>           <span class="token comment">! see if it&apos;s less than the radius</span>
  <span class="token quotation-delimiter operator">]</span>
  <span class="token normal-word">monte-carlo</span> <span class="token number">4</span> <span class="token math-builtin variable">*</span> <span class="token math-builtin variable">&gt;float</span>
<span class="token semicolon-or-setlocal function">;</span>

<span class="token special-using function">USING: <span class="token string">math.constants</span></span> <span class="token semicolon-or-setlocal function">;</span>
<span class="token number">10000000</span> <span class="token normal-word">monte-carlo-pi</span> <span class="token comment">! Approximate pi</span>
<span class="token kernel-builtin variable">dup</span> <span class="token normal-word">.</span>                   <span class="token comment">! Print the approximation</span>
<span class="token normal-word">pi</span> <span class="token math-builtin variable">-</span> <span class="token normal-word">pi</span> <span class="token math-builtin variable">/</span> <span class="token number">100</span> <span class="token math-builtin variable">*</span> <span class="token math-builtin variable">&gt;float</span> <span class="token math-builtin variable">abs</span> <span class="token normal-word">.</span>  <span class="token comment">! And the error margin</span>
</code></pre>
</div><div class="code-method-sample" data-lang="emojic" data-name="Emojicode"><pre class="language-"><code class="lang-emojicode">ð âï¸ ð
  ðð x ð¯
  ðð y ð¯

  ð ð¼ x ð¯ ð¼ y ð¯ ð ð

  âï¸ ðª â¡ï¸ ð¯ ð
    â©ï¸ x
  ð

  âï¸ ð« â¡ï¸ ð¯ ð
    â©ï¸ y
  ð
ð

ð ð ð
  ðð radius ð¯

  ð given_radius ð¯ ð
    ð§ given_radiusâï¸ â¡ï¸ ðradius
  ð

  âï¸ ð¥ point âï¸ â¡ï¸ ð ð
    ðª pointâï¸ â¡ï¸ point_x
    ð« pointâï¸ â¡ï¸ point_y
    â©ï¸ ð¤point_x âï¸ point_x â point_y âï¸ point_yð¤ âï¸ ð¤radius âï¸ radiusð¤
  ð
ð

ð ð¤¡ ð
  ð âï¸ ðââï¸ samples ð¢ â¡ï¸ ð¯ ð
    ððð 1.0 âï¸ â¡ï¸ circle
    0 â¡ï¸ ðð count

    ðð°ð âï¸ â¡ï¸ random

    ð i ðâ©â© 0 samplesâï¸ ð
      ðâï¸ð ð¯ randomâï¸ ð¯ randomâï¸âï¸ â¡ï¸ point
      âªï¸ ð¥ circle pointâï¸ ð
        count â¬ï¸ â 1
      ð
    ð

    â©ï¸ 4.0 âï¸ ð¯ countâï¸ â ð¯samplesâï¸
  ð
ð

ð ð
  ð ð¤Running with 10,000,000 samples.ð¤âï¸
  ðââï¸ðð¤¡ 10000000âï¸ â¡ï¸ pi_estimate
  ð ðªð¤The estimate of pi is: ð¤ ð¡ pi_estimate 10âðªâï¸
  ð§ ð¤pi_estimate â ð¥§ðð¯ âï¸ð¤âï¸ â ð¥§ðð¯ âï¸ âï¸ 100 â¡ï¸ percent_error
  ð ðªð¤The percent error is: ð¤ ð¡ percent_error 10â ð¤%ð¤ðªâï¸
ð
</code></pre>
</div><div class="code-method-sample" data-lang="php" data-name="PHP"><pre class="language-"><code class="lang-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">declare</span><span class="token punctuation">(</span>strict_types<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function-definition function">in_circle</span><span class="token punctuation">(</span><span class="token keyword type-hint">float</span> <span class="token variable">$positionX</span><span class="token punctuation">,</span> <span class="token keyword type-hint">float</span> <span class="token variable">$positionY</span><span class="token punctuation">,</span> <span class="token keyword type-hint">float</span> <span class="token variable">$radius</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">bool</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token variable">$positionX</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token variable">$positionY</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token variable">$radius</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function-definition function">random_zero_to_one</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">float</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">mt_rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">mt_getrandmax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function-definition function">monte_carlo</span><span class="token punctuation">(</span><span class="token keyword type-hint">int</span> <span class="token variable">$samples</span><span class="token punctuation">,</span> <span class="token keyword type-hint">float</span> <span class="token variable">$radius</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">float</span>
<span class="token punctuation">{</span>
    <span class="token variable">$inCircleCount</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token variable">$samples</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in_circle</span><span class="token punctuation">(</span><span class="token function">random_zero_to_one</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token variable">$radius</span><span class="token punctuation">,</span> <span class="token function">random_zero_to_one</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token variable">$radius</span><span class="token punctuation">,</span> <span class="token variable">$radius</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$inCircleCount</span><span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token variable">$inCircleCount</span> <span class="token operator">/</span> <span class="token variable">$samples</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$piEstimate</span> <span class="token operator">=</span> <span class="token function">monte_carlo</span><span class="token punctuation">(</span><span class="token number">10000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$percentError</span> <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token variable">$piEstimate</span> <span class="token operator">-</span> <span class="token function">pi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">pi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span>

<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&apos;The estimate of PI is: %s&apos;</span><span class="token punctuation">,</span> <span class="token variable">$piEstimate</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&apos;The percent error is: %s&apos;</span><span class="token punctuation">,</span> <span class="token variable">$percentError</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
</code></pre>
</div><div class="code-method-sample" data-lang="lua" data-name="Lua"><pre class="language-"><code class="lang-lua"><span class="token comment">-- function to determine whether an x, y point is in the unit circle</span>
<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">in_circle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
  <span class="token keyword">return</span> x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y <span class="token operator">&lt;</span> <span class="token number">1</span>
<span class="token keyword">end</span>

<span class="token comment">-- function to integrate a unit circle to find pi via monte_carlo</span>
<span class="token keyword">function</span> <span class="token function">monte_carlo</span><span class="token punctuation">(</span>nsamples<span class="token punctuation">)</span>
  <span class="token keyword">local</span> count <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>nsamples <span class="token keyword">do</span>
    <span class="token keyword">if</span> <span class="token function">in_circle</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
      count <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

  <span class="token comment">-- This is using a quarter of the unit sphere in a 1x1 box.</span>
  <span class="token comment">-- The formula is pi = (box_length^2 / radius^2) * (pi_count / n), but we</span>
  <span class="token comment">-- are only using the upper quadrant and the unit circle, so we can use</span>
  <span class="token comment">-- 4*pi_count/n instead</span>
  <span class="token keyword">return</span> <span class="token number">4</span> <span class="token operator">*</span> count<span class="token operator">/</span>nsamples
<span class="token keyword">end</span>

<span class="token keyword">local</span> pi <span class="token operator">=</span> <span class="token function">monte_carlo</span><span class="token punctuation">(</span><span class="token number">10000000</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Estimate: &quot;</span> <span class="token operator">..</span> pi<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;Error: %.2f%%&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token operator">*</span>math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>pi<span class="token operator">-</span>math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token operator">/</span>math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="racket" data-name="Racket"><pre class="language-"><code class="lang-racket"><span class="token lang keyword">#lang racket/base</span>

<span class="token punctuation">(</span><span class="token function">require</span> racket/local<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token function">require</span> racket/math<span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">define</span> <span class="token punctuation">(</span><span class="token function">in-circle</span> x y<span class="token punctuation">)</span>
  <span class="token string">&quot;Checks if a point is in a unit circle&quot;</span>
  <span class="token punctuation">(</span><span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">sqr</span> x<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token function">sqr</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">define</span> <span class="token punctuation">(</span><span class="token function">monte-carlo-pi</span> n<span class="token punctuation">)</span>
  <span class="token string">&quot;Returns an approximation of pi&quot;</span>
  <span class="token punctuation">(</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token operator">/</span> <span class="token punctuation">(</span><span class="token function">local</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">define</span> <span class="token punctuation">(</span><span class="token function">monte-carlo-pi*</span> n count<span class="token punctuation">)</span>
                  <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">=</span> n <span class="token number">0</span><span class="token punctuation">)</span>
                      count
                      <span class="token punctuation">(</span><span class="token function">monte-carlo-pi*</span> <span class="token punctuation">(</span><span class="token function">sub1</span> n<span class="token punctuation">)</span> 
                                       <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in-circle</span> <span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
                                           <span class="token punctuation">(</span><span class="token function">add1</span> count<span class="token punctuation">)</span>
                                           count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">(</span><span class="token function">monte-carlo-pi*</span> n <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> n<span class="token punctuation">)</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">define</span> nsamples <span class="token number">5000000</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> pi-estimate <span class="token punctuation">(</span><span class="token function">monte-carlo-pi</span> nsamples<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token function">displayln</span> <span class="token punctuation">(</span><span class="token builtin">string-append</span> <span class="token string">&quot;Estimate (rational): &quot;</span> <span class="token punctuation">(</span><span class="token builtin">number-&gt;string</span> pi-estimate<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token function">displayln</span> <span class="token punctuation">(</span><span class="token builtin">string-append</span> <span class="token string">&quot;Estimate (float): &quot;</span> <span class="token punctuation">(</span><span class="token builtin">number-&gt;string</span> <span class="token punctuation">(</span><span class="token function">real-&gt;single-flonum</span> pi-estimate<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token function">displayln</span> <span class="token punctuation">(</span><span class="token builtin">string-append</span> <span class="token string">&quot;Error:&quot;</span> <span class="token punctuation">(</span><span class="token builtin">number-&gt;string</span> <span class="token punctuation">(</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token operator">/</span> <span class="token punctuation">(</span><span class="token builtin">abs</span> <span class="token punctuation">(</span><span class="token operator">-</span> pi-estimate pi<span class="token punctuation">)</span><span class="token punctuation">)</span> pi<span class="token punctuation">)</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="scala" data-name="Scala"><pre class="language-"><code class="lang-scala"><span class="token keyword">object</span> MonteCarlo <span class="token punctuation">{</span>

  <span class="token keyword">def</span> inCircle<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token operator">=</span> x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">&lt;</span> <span class="token number">1</span>

  <span class="token keyword">def</span> monteCarloPi<span class="token punctuation">(</span>samples<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">def</span> randCoord <span class="token operator">=</span> math<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span>

    <span class="token keyword">var</span> pointCount <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>_ <span class="token keyword">&lt;-</span> <span class="token number">0</span> to <span class="token namespace">samples</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>inCircle<span class="token punctuation">(</span>randCoord<span class="token punctuation">,</span> randCoord<span class="token punctuation">)</span><span class="token punctuation">)</span> 
        pointCount <span class="token operator">+=</span> <span class="token number">1</span>

    <span class="token number">4.0</span> <span class="token operator">*</span> pointCount <span class="token operator">/</span> samples
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> approxPi <span class="token operator">=</span> monteCarloPi<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;Estimated pi value: &quot;</span> <span class="token operator">+</span> approxPi<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;Percent error: &quot;</span> <span class="token operator">+</span> <span class="token number">100</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span>abs<span class="token punctuation">(</span>approxPi <span class="token operator">-</span> Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="lisp" data-name="Common Lisp"><pre class="language-"><code class="lang-lisp"><span class="token heading comment title">;;;; Monte carlo integration to approximate pi</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">in-circle-p</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">x</span> <span class="token argument variable">y</span></span><span class="token punctuation">)</span></span>
  <span class="token string">&quot;Checks if a point is in a unit circle&quot;</span>
  <span class="token punctuation">(</span><span class="token car">&lt;</span> <span class="token punctuation">(</span><span class="token car">+</span> <span class="token punctuation">(</span><span class="token car">*</span> x x<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token car">*</span> y y<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">monte-carlo</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">samples</span></span><span class="token punctuation">)</span></span>
  <span class="token string">&quot;Returns an approximation of pi&quot;</span>
  <span class="token punctuation">(</span><span class="token car">loop</span> repeat samples
    with count = <span class="token number">0</span> 
    do
      <span class="token punctuation">(</span><span class="token keyword">when</span> <span class="token punctuation">(</span><span class="token car">in-circle-p</span> <span class="token punctuation">(</span><span class="token car">random</span> <span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token car">random</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">(</span><span class="token car">incf</span> count<span class="token punctuation">)</span><span class="token punctuation">)</span>
    finally <span class="token punctuation">(</span><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token car">*</span> <span class="token punctuation">(</span><span class="token car">/</span> count samples<span class="token punctuation">)</span> <span class="token number">4.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defvar"><span class="token keyword">defvar</span> <span class="token variable">pi-estimate</span></span> <span class="token punctuation">(</span><span class="token car">monte-carlo</span> <span class="token number">5000000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token car">format</span> <span class="token boolean">t</span> <span class="token string">&quot;Estimate: ~<span class="token argument">D</span> ~%&quot;</span> pi-estimate<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token car">format</span> <span class="token boolean">t</span> <span class="token string">&quot;Error: ~D%&quot;</span> <span class="token punctuation">(</span><span class="token car">*</span> <span class="token punctuation">(</span><span class="token car">/</span> <span class="token punctuation">(</span><span class="token car">abs</span> <span class="token punctuation">(</span><span class="token car">-</span> pi-estimate pi<span class="token punctuation">)</span><span class="token punctuation">)</span> pi<span class="token punctuation">)</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="asm-x64" data-name="X86-64 Assembly"><pre class="language-"><code class="lang-asm-x64">.intel_syntax noprefix

.section .rodata
  <span class="token label function">pi:</span>            .double <span class="token number">3.141592653589793</span>
  <span class="token label function">one:</span>           .double <span class="token number">1.0</span>
  <span class="token label function">four:</span>          .double <span class="token number">4.0</span>
  <span class="token label function">hundred:</span>       .double <span class="token number">100.0</span>
  <span class="token label function">rand_max:</span>      .long <span class="token number">4290772992</span>
                 .long <span class="token number">1105199103</span>
  <span class="token label function">fabs_const:</span>    .long <span class="token number">4294967295</span>
                 .long <span class="token number">2147483647</span>
                 .long <span class="token number">0</span>
                 .long <span class="token number">0</span>
  <span class="token label function">estimate_fmt:</span>  .string <span class="token string">&quot;The estaimate of pi is %lf\n&quot;</span>
  <span class="token label function">error_fmt:</span>     .string <span class="token string">&quot;Percentage error: %0.2f\n&quot;</span>

.section .text
  .<span class="token keyword">global main</span>
  .<span class="token keyword">extern printf, srand, time, rand</span>

# <span class="token register variable">xmm0</span> <span class="token operator">-</span> x
# <span class="token register variable">xmm1</span> <span class="token operator">-</span> y
# RET <span class="token register variable">rax</span> <span class="token operator">-</span> bool
<span class="token label function">in_circle:</span>
  mulsd  <span class="token register variable">xmm0</span>, <span class="token register variable">xmm0</span>                  # Calculate x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y
  mulsd  <span class="token register variable">xmm1</span>, <span class="token register variable">xmm1</span>
  addsd  <span class="token register variable">xmm0</span>, <span class="token register variable">xmm1</span>
  movsd  <span class="token register variable">xmm1</span>, one                   # Set circle radius to <span class="token number">1</span>
  xor    <span class="token register variable">rax</span>, <span class="token register variable">rax</span>
  comisd <span class="token register variable">xmm1</span>, <span class="token register variable">xmm0</span>                  # Return bool <span class="token register variable">xmm0</span> <span class="token operator">&lt;</span> <span class="token register variable">xmm1</span>
  seta <span class="token register variable">al</span>
  ret

# <span class="token register variable">rdi</span> <span class="token operator">-</span> samples
# RET <span class="token register variable">xmm0</span> <span class="token operator">-</span> estimate
<span class="token label function">monte_carlo:</span>
  pxor   <span class="token register variable">xmm2</span>, <span class="token register variable">xmm2</span>                  # Setting it to zero for loop
  cvtsi2sd <span class="token register variable">xmm3</span>, <span class="token register variable">rdi</span>                 # From int to double
  pxor   <span class="token register variable">xmm4</span>, <span class="token register variable">xmm4</span>                  # Setting to zero for counter
<span class="token label function">monte_carlo_iter:</span>
  comisd <span class="token register variable">xmm2</span>, <span class="token register variable">xmm3</span>                  # Check if we went through all samples
  je     monte_carlo_return
  call   rand                        # Get random point in the first quartile
  cvtsi2sd <span class="token register variable">xmm0</span>, <span class="token register variable">rax</span>
  divsd  <span class="token register variable">xmm0</span>, rand_max
  call   rand
  cvtsi2sd <span class="token register variable">xmm1</span>, <span class="token register variable">rax</span>
  divsd  <span class="token register variable">xmm1</span>, rand_max
  call   in_circle                   # Check if its in the circle
  test   <span class="token register variable">rax</span>, <span class="token register variable">rax</span>
  jz     monte_carlo_false
  addsd  <span class="token register variable">xmm4</span>, one                   # if so increment counter
<span class="token label function">monte_carlo_false:</span>
  addsd  <span class="token register variable">xmm2</span>, one
  jmp    monte_carlo_iter
<span class="token label function">monte_carlo_return:</span>
  mulsd  <span class="token register variable">xmm4</span>, four                  # Return estimate
  divsd  <span class="token register variable">xmm4</span>, <span class="token register variable">xmm2</span>
  movsd  <span class="token register variable">xmm0</span>, <span class="token register variable">xmm4</span>
  ret

<span class="token label function">main:</span>
  push   <span class="token register variable">rbp</span>
  sub    <span class="token register variable">rsp</span>, <span class="token number">16</span>
  mov    <span class="token register variable">rdi</span>, <span class="token number">0</span>
  call   time
  mov    <span class="token register variable">rdi</span>, <span class="token register variable">rax</span>
  call   srand
  mov    <span class="token register variable">rdi</span>, <span class="token number">1000000</span>
  call   monte_carlo
  movsd  QWORD PTR <span class="token operator">[</span><span class="token register variable">rsp</span><span class="token operator">]</span>, <span class="token register variable">xmm0</span>      # Save estimate to stack
  mov    <span class="token register variable">rdi</span>, OFFSET estimate_fmt   # Print estimate
  mov    <span class="token register variable">rax</span>, <span class="token number">1</span>
  call   printf
  movsd  <span class="token register variable">xmm0</span>, QWORD PTR <span class="token operator">[</span><span class="token register variable">rsp</span><span class="token operator">]</span>      # Get estimate from stack
  movsd  <span class="token register variable">xmm1</span>, pi                   # Calculate fabs(M_PI <span class="token operator">-</span> estimate)
  subsd  <span class="token register variable">xmm0</span>, <span class="token register variable">xmm1</span>
  movq   <span class="token register variable">xmm1</span>, fabs_const
  andpd  <span class="token register variable">xmm0</span>, <span class="token register variable">xmm1</span>
  divsd  <span class="token register variable">xmm0</span>, pi                   # Print percentage error on pi
  mulsd  <span class="token register variable">xmm0</span>, hundred
  mov    <span class="token register variable">rdi</span>, OFFSET error_fmt
  mov    <span class="token register variable">rax</span>, <span class="token number">1</span>
  call   printf
  add    <span class="token register variable">rsp</span>, <span class="token number">16</span>
  pop    <span class="token register variable">rbp</span>
  xor    <span class="token register variable">rax</span>, <span class="token register variable">rax</span>                   # Set exit code to <span class="token number">0</span>
  ret
</code></pre>
</div><div class="code-method-sample" data-lang="bash" data-name="Bash"><pre class="language-"><code class="lang-bash"><span class="token shebang important">#!/usr/bin/env bash</span>
<span class="token function-name function">inCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">local</span> ret
    <span class="token builtin class-name">local</span> mag
    <span class="token variable"><span class="token punctuation">((</span>ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">))</span></span>
    <span class="token keyword">if</span> <span class="token variable"><span class="token punctuation">((</span>$<span class="token number">1</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> $<span class="token number">2</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">&lt;</span> <span class="token number">1073676289</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">then</span> <span class="token comment"># 1073676289 = 32767 ** 2</span>
        <span class="token variable"><span class="token punctuation">((</span>ret <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">))</span></span>
    <span class="token keyword">fi</span>
    <span class="token builtin class-name">printf</span> <span class="token string">&quot;%d&quot;</span> <span class="token variable">$ret</span>
<span class="token punctuation">}</span>

<span class="token function-name function">monteCarlo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">local</span> count
    <span class="token builtin class-name">local</span> i
    <span class="token variable"><span class="token punctuation">((</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">))</span></span>
    <span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> $<span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>
        <span class="token keyword">if</span> <span class="token variable"><span class="token punctuation">((</span>$<span class="token punctuation">(</span>inCircle RANDOM RANDOM<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">then</span>
            <span class="token variable"><span class="token punctuation">((</span>count<span class="token operator">++</span><span class="token punctuation">))</span></span>
        <span class="token keyword">fi</span>
    <span class="token keyword">done</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;scale = 8; 4 * <span class="token variable">$count</span> / <span class="token variable">$1</span>&quot;</span> <span class="token operator">|</span> <span class="token function">bc</span>
<span class="token punctuation">}</span>

<span class="token assign-left variable">est</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>monteCarlo <span class="token number">10000</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The estimate of pi is <span class="token variable">$est</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Percentage error: <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> &quot;scale <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token number">100</span> * sqrt<span class="token punctuation">(</span> <span class="token punctuation">(</span> <span class="token number">1</span> - $est / <span class="token punctuation">(</span><span class="token number">4</span>*a<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token variable">)</span></span> ) ^ 2 )&quot;</span> <span class="token operator">|</span> <span class="token function">bc</span> -l<span class="token punctuation">)</span>&quot;
</code></pre>
</div><div class="code-method-sample" data-lang="kotlin" data-name="Kotlin"><pre class="language-"><code class="lang-kotlin"><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Random

<span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">inCircle</span><span class="token punctuation">(</span>x<span class="token operator">:</span> Double<span class="token punctuation">,</span> y<span class="token operator">:</span> Double<span class="token punctuation">,</span> radius<span class="token operator">:</span> Double <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y<span class="token punctuation">)</span> <span class="token operator">&lt;</span> radius <span class="token operator">*</span> radius

<span class="token keyword">fun</span> <span class="token function">monteCarlo</span><span class="token punctuation">(</span>samples<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Double <span class="token punctuation">{</span>
    <span class="token keyword">var</span> piCount <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">val</span> random <span class="token operator">=</span> <span class="token function">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">0</span> until samples<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> x <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">val</span> y <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">inCircle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
            piCount<span class="token operator">++</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">4.0</span> <span class="token operator">*</span> piCount <span class="token operator">/</span> samples
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> piEstimate <span class="token operator">=</span> <span class="token function">monteCarlo</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Estimated pi value: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">piEstimate</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> percentError <span class="token operator">=</span> <span class="token number">100</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>piEstimate <span class="token operator">-</span> Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span>PI
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Percent error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">percentError</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="m" data-name="Matlab"><pre class="language-"><code class="lang-matlab">pi_estimate <span class="token operator">=</span> <span class="token function">monte_carlo</span><span class="token punctuation">(</span><span class="token number">10000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">fprintf</span><span class="token punctuation">(</span>&quot;The <span class="token keyword">pi</span> estimate is<span class="token operator">:</span> <span class="token comment">%f\n&quot;, pi_estimate);</span>
<span class="token function">fprintf</span><span class="token punctuation">(</span>&quot;Percent error is<span class="token operator">:</span> <span class="token comment">%f%%\n&quot;, 100 * abs(pi_estimate - pi) / pi);</span>

<span class="token keyword">function</span> pi_estimate<span class="token operator">=</span><span class="token function">monte_carlo</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>

    <span class="token comment">% a 2 by n array, rows are xs and ys</span>
    xy_array <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>   

    <span class="token comment">% square every element in the array</span>
    squares_array <span class="token operator">=</span> xy_array<span class="token operator">.^</span><span class="token number">2</span><span class="token punctuation">;</span>            

    <span class="token comment">% sum the xs and ys and check if it&apos;s in the quarter circle</span>
    incircle_array <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span>squares_array<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">;</span>  

    <span class="token comment">% determine the average number of points in the circle</span>
    pi_estimate <span class="token operator">=</span> <span class="token number">4</span><span class="token operator">*</span><span class="token function">sum</span><span class="token punctuation">(</span>incircle_array<span class="token punctuation">)</span><span class="token operator">/</span>n<span class="token punctuation">;</span>  

<span class="token keyword">end</span>
</code></pre>
</div><div class="code-method-sample" data-lang="scratch" data-name="Scratch"><p>The code snippets were taken from this <a href="https://scratch.mit.edu/projects/319610349" target="_blank">scratch project</a></p>
<p>
    <img class="center" src="code/scratch/Algorithm.svg" style="width:100%">
</p></div><div class="code-method-sample" data-lang="coco" data-name="Coconut"><pre class="language-"><code class="lang-coconut">import math
import random

data point(x, y):
    def __abs__(self) = (self.x, self.y) |&gt; map$(pow$(?, 2)) |&gt; sum |&gt; math.sqrt

def in_circle(point(p), radius = 1):
    &quot;&quot;&quot;Return True if the point is in the circle and False otherwise.&quot;&quot;&quot;
    return abs(p) &lt; radius

def monte_carlo(n_samples, radius = 1) = (range(n_samples)
    |&gt; map$(-&gt; point(random.uniform(0, radius), random.uniform(0, radius)))
    |&gt; filter$(in_circle$(?, radius))
    |&gt; tuple
    |&gt; len) * 4 / n_samples

if __name__ == &apos;__main__&apos;:

    samples = 100_000

    print(f&quot;Using {samples:_} samples.&quot;)

    pi_estimate = monte_carlo(samples)
    percent_error = 100*abs(math.pi - pi_estimate)/math.pi

    print(&quot;The estimate of pi is: {:.3f}&quot;.format(pi_estimate))
    print(&quot;The percent error is: {:.3f}&quot;.format(percent_error))
</code></pre>
</div><div class="code-method-sample" data-lang="ps1" data-name="PowerShell"><pre class="language-"><code class="lang-powershell">ï»¿<span class="token keyword">function</span> Is-InCircle<span class="token punctuation">(</span><span class="token variable">$x</span><span class="token punctuation">,</span> <span class="token variable">$y</span><span class="token punctuation">,</span> <span class="token variable">$radius</span>=1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token namespace">[Math]</span>::Pow<span class="token punctuation">(</span><span class="token variable">$x</span><span class="token punctuation">,</span> 2<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token namespace">[Math]</span>::Pow<span class="token punctuation">(</span><span class="token variable">$y</span><span class="token punctuation">,</span> 2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-lt</span> <span class="token namespace">[Math]</span>::Pow<span class="token punctuation">(</span><span class="token variable">$radius</span><span class="token punctuation">,</span> 2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> Monte-Carlo<span class="token punctuation">(</span><span class="token namespace">[int]</span><span class="token variable">$n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$PiCount</span> = 0<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span> = 0<span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">-lt</span> <span class="token variable">$n</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$x</span> = <span class="token function">Get-Random</span> <span class="token operator">-</span>Minimum 0<span class="token punctuation">.</span>0 <span class="token operator">-</span>Maximum 1<span class="token punctuation">.</span>0
        <span class="token variable">$y</span> = <span class="token function">Get-Random</span> <span class="token operator">-</span>Minimum 0<span class="token punctuation">.</span>0 <span class="token operator">-</span>Maximum 1<span class="token punctuation">.</span>0

        <span class="token keyword">if</span> <span class="token punctuation">(</span>Is-InCircle <span class="token variable">$x</span> <span class="token variable">$y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$PiCount</span><span class="token operator">++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> 4<span class="token punctuation">.</span>0 <span class="token operator">*</span> <span class="token variable">$PiCount</span> <span class="token operator">/</span> <span class="token variable">$n</span>
<span class="token punctuation">}</span>

<span class="token comment"># This could take some time</span>
<span class="token variable">$PiEstimate</span> = Monte-Carlo 10000000
<span class="token function">Write-Host</span> <span class="token string">&quot;The pi estimate is: <span class="token variable">$PiEstimate</span>&quot;</span>
<span class="token function">Write-Host</span> <span class="token string">&quot;Percent error is: <span class="token function">$<span class="token punctuation">(</span>100 <span class="token operator">*</span> <span class="token namespace">[Math]</span>::Abs<span class="token punctuation">(</span><span class="token variable">$PiEstimate</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token namespace">[Math]</span>::PI<span class="token punctuation">)</span></span>) / ([Math]::PI))&quot;</span>
</code></pre>
</div></div></div>

<script>
MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
</script>

<h2 id="license">License</h2>
<h5 id="code-examples">Code Examples</h5>
<p>The code examples are licensed under the MIT license (found in <a href="https://github.com/algorithm-archivists/algorithm-archive/blob/main/LICENSE.md" target="_blank">LICENSE.md</a>).</p>
<h5 id="text">Text</h5>
<p>The text of this chapter was written by <a href="https://github.com/leios" target="_blank">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
<p><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><p><img class="center" src="../cc/CC-BY-SA_icon.svg"></p></a></p>
<h5 id="imagesgraphics">Images/Graphics</h5>
<ul>
<li>The image &quot;<a href="res/square_circle.png">squarecircle</a>&quot; was created by <a href="https://github.com/leios" target="_blank">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The animation &quot;<a href="res/monte_carlo.gif">simplemontecarlo</a>&quot; was created by <a href="https://github.com/leios" target="_blank">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
</ul>
<h5 id="pull-requests">Pull Requests</h5>
<p>After initial licensing (<a href="https://github.com/algorithm-archivists/algorithm-archive/pull/560" target="_blank">#560</a>), the following pull requests have modified the text or graphics of this chapter:</p>
<ul>
<li>none</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../euclidean_algorithm/euclidean_algorithm.html" class="navigation navigation-prev " aria-label="Previous page: Euclidean Algorithm">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../metropolis/metropolis.html" class="navigation navigation-next " aria-label="Next page: Metropolis">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Monte Carlo","level":"1.9","depth":1,"next":{"title":"Metropolis","level":"1.9.1","depth":2,"path":"contents/metropolis/metropolis.md","ref":"contents/metropolis/metropolis.md","articles":[]},"previous":{"title":"Euclidean Algorithm","level":"1.8","depth":1,"path":"contents/euclidean_algorithm/euclidean_algorithm.md","ref":"contents/euclidean_algorithm/euclidean_algorithm.md","articles":[]},"articles":[{"title":"Metropolis","level":"1.9.1","depth":2,"path":"contents/metropolis/metropolis.md","ref":"contents/metropolis/metropolis.md","articles":[]}],"dir":"ltr"},"config":{"plugins":["mathjax@https://github.com/algorithm-archivists/plugin-mathjax","bibtex-cite","wordcount","api-language-selector@https://github.com/algorithm-archivists/gitbook-plugin-api-language-selector.git","include-codeblock","bulk-redirect","prism","-highlight"],"root":"./","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"api-language-selector":{"languages":[{"lang":"jl","name":"Julia","default":true},{"lang":"bash","name":"Bash"},{"lang":"cs","name":"C#"},{"lang":"cpp","name":"C++"},{"lang":"c","name":"C"},{"lang":"c8","name":"chip-8"},{"lang":"py","name":"Python"},{"lang":"js","name":"JavaScript"},{"lang":"scratch","name":"Scratch"},{"lang":"hs","name":"Haskell"},{"lang":"rs","name":"Rust"},{"lang":"ml","name":"OCaml"},{"lang":"java","name":"Java"},{"lang":"clj","name":"Clojure"},{"lang":"elm","name":"Elm"},{"lang":"LabVIEW","name":"LabVIEW"},{"lang":"d","name":"D"},{"lang":"go","name":"Go"},{"lang":"swift","name":"Swift"},{"lang":"racket","name":"Racket"},{"lang":"m","name":"Matlab"},{"lang":"r","name":"R"},{"lang":"ti83b","name":"TI-83 Basic"},{"lang":"lua","name":"Lua"},{"lang":"crystal","name":"Crystal"},{"lang":"php","name":"PHP"},{"lang":"lisp","name":"Common Lisp"},{"lang":"nim","name":"Nim"},{"lang":"asm-x64","name":"X86-64 Assembly"},{"lang":"f90","name":"Fortran90"},{"lang":"factor","name":"Factor"},{"lang":"ws","name":"Whitespace"},{"lang":"scala","name":"Scala"},{"lang":"emojic","name":"Emojicode"},{"lang":"lolcode","name":"LOLCODE"},{"lang":"piet","name":"Piet"},{"lang":"ss","name":"Scheme"},{"lang":"ps1","name":"PowerShell"},{"lang":"v","name":"Vlang"},{"lang":"coffee","name":"CoffeeScript"},{"lang":"kotlin","name":"Kotlin"},{"lang":"ts","name":"TypeScript"},{"lang":"vim","name":"VimL"},{"lang":"coco","name":"Coconut"},{"lang":"dart","name":"Dart"}]},"prism":{"lang":{"asm-x64":"nasm"},"ignore":["emojicode","text"],"css":["prismjs/themes/prism-tomorrow.css"]},"wordcount":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"bulk-redirect":{"basepath":"/","redirectsFile":"redirects.json"},"bibtex-cite":{},"mathjax":{"forceSVG":false,"version":"2.6.1"},"include-codeblock":{"check":false,"edit":false,"lang":"","fixlang":true,"template":"default","theme":"chrome","unindent":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","lunr":{"maxIndexSize":1000000000},"honkit":">= 3.0.0","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"bibCount":0,"variables":{},"title":"Arcane Algorithm Archive","bib":[{"citationKey":"CT1965","entryType":"ARTICLE","entryTags":{"TITLE":"An algorithm for the machine calculation of complex Fourier series","AUTHOR":"Cooley, James W and Tukey, John W","JOURNAL":"Mathematics of computation","VOLUME":"19","NUMBER":"90","PAGES":"297--301","YEAR":"1965","PUBLISHER":"JSTOR"}},{"citationKey":"JM1973","entryType":"ARTICLE","entryTags":{"TITLE":"On the identification of the convex hull of a finite set of points in the plane","AUTHOR":"Jarvis, Ray A","JOURNAL":"Information processing letters","VOLUME":"2","NUMBER":"1","PAGES":"18--21","YEAR":"1973","PUBLISHER":"Elsevier"}},{"citationKey":"GS1972","entryType":"ARTICLE","entryTags":{"TITLE":"An efficient algorithm for determining the convex hull of a finite planar set","AUTHOR":"Graham, Ronald L","JOURNAL":"Information processing letters","VOLUME":"1","NUMBER":"4","PAGES":"132--133","YEAR":"1972","PUBLISHER":"Elsevier"}},{"citationKey":"GNUPLOT","entryType":"MISC","entryTags":{"TITLE":"Gnuplot 5.0: An Interactive Plotting Program, Official Gnuplot Documentation","AUTHOR":"Williams, T and Kelley, C","YEAR":"2015"}},{"citationKey":"BEDE725","entryType":"BOOK","entryTags":{"TITLE":"Bede, the Reckoning of Time","AUTHOR":"Venerabilis, Beda and others","VOLUME":"29","YEAR":"1999","PUBLISHER":"Liverpool University Press"}},{"citationKey":"DICTCOMPUTUS","entryType":"MISC","entryTags":{"TITLE":"Dictionary.com definition of computus","URL":"https://www.merriam-webster.com/dictionary/computus","YEAR":"2020"}},{"citationKey":"COMPUTUS1876","entryType":"ARTICLE","entryTags":{"TITLE":"To find Easter: a new York correspondent sends us the following","AUTHOR":"unknown","JOURNAL":"Nature","YEAR":"1876"}},{"citationKey":"BIEN2004","entryType":"ARTICLE","entryTags":{"TITLE":"Gauss and beyond: The making of Easter algorithms","AUTHOR":"Bien, Reinhold","JOURNAL":"Archive for history of exact sciences","VOLUME":"58","NUMBER":"5","PAGES":"439--452","YEAR":"2004","PUBLISHER":"Springer"}},{"citationKey":"SERVOIS","entryType":"INPROCEEDINGS","entryTags":{"TITLE":"84 Calendrier","AUTHOR":"Servois, M","BOOKTITLE":"Annales de MathÃ©matiques pures et appliquÃ©es","VOLUME":"4","NUMBER":"1813-1814","PAGES":"84--90"}},{"citationKey":"STANDISH2004","entryType":"ARTICLE","entryTags":{"TITLE":"The astronomical unit now","AUTHOR":"Standish, EM","JOURNAL":"Proceedings of the International Astronomical Union","VOLUME":"2004","NUMBER":"IAUC196","PAGES":"163--179","YEAR":"2004","PUBLISHER":"Cambridge University Press"}},{"citationKey":"LUNAR_MONTH_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Lunar Month","URL":"https://en.wikipedia.org/wiki/Lunar_month","YEAR":"2020"}},{"citationKey":"SELF-SIMILAR","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Self-similarity","URL":"https://en.wikipedia.org/wiki/Self-similarity","YEAR":"2019"}},{"citationKey":"HAUSDORFF","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Hausdorff dimension","URL":"https://en.wikipedia.org/wiki/Hausdorff_dimension","YEAR":"2019"}},{"citationKey":"3B1BFRACTAL","entryType":"MISC","entryTags":{"AUTHOR":"Sanderson, G","TITLE":"3blue1brown: Fractals are typically not self-similar","URL":"https://www.youtube.com/watch?v=gB9n2gHsHN4","YEAR":"2017"}},{"citationKey":"MANDELBROT1983FRACTAL","entryType":"BOOK","entryTags":{"TITLE":"The fractal geometry of nature","AUTHOR":"Mandelbrot, Benoit B","VOLUME":"173","YEAR":"1983","PUBLISHER":"WH freeman New York"}},{"citationKey":"MANDELBROT1967LONG","entryType":"ARTICLE","entryTags":{"TITLE":"How long is the coast of Britain? Statistical self-similarity and fractional dimension","AUTHOR":"Mandelbrot, Benoit","JOURNAL":"science","VOLUME":"156","NUMBER":"3775","PAGES":"636--638","YEAR":"1967","PUBLISHER":"American Association for the Advancement of Science"}},{"citationKey":"JAMPOUR2010NEW","entryType":"ARTICLE","entryTags":{"TITLE":"A new fast technique for fingerprint identification with fractal and chaos game theory","AUTHOR":"Jampour, Mahdi and Yaghoobi, Mahdi and Ashourzadeh, Maryam and Soleimani, Adel","JOURNAL":"Fractals","VOLUME":"18","NUMBER":"03","PAGES":"293--300","YEAR":"2010","PUBLISHER":"World Scientific"}},{"citationKey":"FRACTAL-COMPRESSION","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Fractal Compression","URL":"https://en.wikipedia.org/wiki/Fractal_compression","YEAR":"2019"}},{"citationKey":"SAUPE1994REVIEW","entryType":"ARTICLE","entryTags":{"TITLE":"A review of the fractal image compression literature","AUTHOR":"Saupe, Dietmar and Hamzaoui, Raouf","JOURNAL":"ACM SIGGRAPH Computer Graphics","VOLUME":"28","NUMBER":"4","PAGES":"268--276","YEAR":"1994","PUBLISHER":"ACM"}},{"citationKey":"GNEITING2012ESTIMATORS","entryType":"ARTICLE","entryTags":{"TITLE":"Estimators of fractal dimension: Assessing the roughness of time series and spatial data","AUTHOR":"Gneiting, Tilmann and Å evÄÃ­kovÃ¡, Hana and Percival, Donald B","JOURNAL":"Statistical Science","PAGES":"247--277","YEAR":"2012","PUBLISHER":"JSTOR"}},{"citationKey":"HUTCHINSON1981FRACTALS","entryType":"ARTICLE","entryTags":{"TITLE":"Fractals and self similarity","AUTHOR":"Hutchinson, John E","JOURNAL":"Indiana University Mathematics Journal","VOLUME":"30","NUMBER":"5","PAGES":"713--747","YEAR":"1981","PUBLISHER":"JSTOR"}},{"citationKey":"HUTCHINSON-OPERATOR","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Hutchinson Operator","URL":"https://en.wikipedia.org/wiki/Hutchinson_operator","YEAR":"2019"}},{"citationKey":"CHAOS-GAME","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Chaos Game","URL":"https://en.wikipedia.org/wiki/Chaos_game","YEAR":"2019"}},{"citationKey":"CHAOS-GAME-WOLF","entryType":"MISC","entryTags":{"TITLE":"Wolfram: Chaos Game","URL":"http://mathworld.wolfram.com/ChaosGame.html","YEAR":"2019"}},{"citationKey":"BARNSLEY2014FRACTALS","entryType":"BOOK","entryTags":{"TITLE":"Fractals everywhere","AUTHOR":"Barnsley, Michael F","YEAR":"2014","PUBLISHER":"Academic press"}},{"citationKey":"HSV","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: HSL and HSV","URL":"https://en.wikipedia.org/wiki/HSL_and_HSV","YEAR":"2020"}},{"citationKey":"SCHLOSS2019","entryType":"ARTICLE","entryTags":{"TITLE":"Massively parallel split-step Fourier techniques for simulating quantum systems on graphics processing units","AUTHOR":"Schloss, James","YEAR":"2019"}},{"citationKey":"PETHICK2008","entryType":"BOOK","entryTags":{"TITLE":"Bose--Einstein condensation in dilute gases","AUTHOR":"Pethick, Christopher J and Smith, Henrik","YEAR":"2008","PUBLISHER":"Cambridge university press"}},{"citationKey":"WEGERT2012","entryType":"BOOK","entryTags":{"TITLE":"Visual complex functions: an introduction with phase portraits","AUTHOR":"Wegert, Elias","YEAR":"2012","PUBLISHER":"Springer Science \\& Business Media"}},{"citationKey":"POELKEDOMAIN","entryType":"ARTICLE","entryTags":{"TITLE":"Domain Coloring of Complex Functions","AUTHOR":"Poelke, Konstantin and Polthier, Konrad"}},{"citationKey":"LUNDMARK2004","entryType":"ARTICLE","entryTags":{"TITLE":"Visualizing complex analytic functions using domain coloring","AUTHOR":"Lundmark, Hans","JOURNAL":"Recuperado el","VOLUME":"24","YEAR":"2004"}},{"citationKey":"GIMP_BUCKET","entryType":"MISC","entryTags":{"TITLE":"Bucket Fill in Gimp","URL":"https://docs.gimp.org/2.10/en/gimp-tool-bucket-fill.html","YEAR":"2020"}},{"citationKey":"TORBERT2016","entryType":"BOOK","entryTags":{"TITLE":"Applied computer science","AUTHOR":"Torbert, Shane","YEAR":"2016","PAGES":"158","PUBLISHER":"Springer"}},{"citationKey":"CANNY1986COMPUTATIONAL","entryType":"ARTICLE","entryTags":{"TITLE":"A computational approach to edge detection","AUTHOR":"Canny, John","JOURNAL":"IEEE Transactions on pattern analysis and machine intelligence","NUMBER":"6","PAGES":"679--698","YEAR":"1986","PUBLISHER":"Ieee"}},{"citationKey":"MORRIS1978COUNTING","entryType":"ARTICLE","entryTags":{"TITLE":"Counting large numbers of events in small registers","AUTHOR":"Morris, R","JOURNAL":"Communications of the ACM","VOLUME":"21","NUMBER":"10","PAGES":"840--842","YEAR":"1978","PUBLISHER":"ACM New York, NY, USA"}},{"citationKey":"FLAJOLET1985APPROXIMATE","entryType":"ARTICLE","entryTags":{"TITLE":"Approximate counting: a detailed analysis","AUTHOR":"Flajolet, P","JOURNAL":"BIT Numerical Mathematics","VOLUME":"25","NUMBER":"1","PAGES":"113--134","YEAR":"1985","PUBLISHER":"Springer"}},{"citationKey":"ARPIT_COUNTING","entryType":"MISC","entryTags":{"TITLE":"Morris's Algorithm for Approximate Counting","AUTHOR":"Bhayani, A","URL":"https://arpitbhayani.me/blogs/morris-counter","YEAR":"2020"}},{"citationKey":"GREGGUNDERSON_COUNTING","entryType":"MISC","entryTags":{"TITLE":"Approximate Counting with Morris's Algorithm","AUTHOR":"Gundersen, G","URL":"http://gregorygundersen.com/blog/2019/11/11/morris-algorithm/","YEAR":"2019"}},{"citationKey":"3B1B_FINGER_COUNT","entryType":"MISC","entryTags":{"TITLE":"How to count to 1000 on two hands","AUTHOR":"Sanderson, G","URL":"https://youtu.be/1SMmc9gQmHQ","YEAR":"2015"}},{"citationKey":"METROPOLIS1953EQUATION","entryType":"ARTICLE","entryTags":{"PAGES":"1087-1092","EPRINT":"https://doi.org/10.1063/1.1699114\n    \n","NUMBER":"6","AUTHOR":"Metropolis,Nicholas  and Rosenbluth,Arianna W.  and Rosenbluth,Marshall N.  and Teller,Augusta H.  and Teller,Edward ","URL":"https://doi.org/10.1063/1.1699114\n    \n","JOURNAL":"The Journal of Chemical Physics","TITLE":"Equation of State Calculations by Fast Computing Machines","VOLUME":"21","YEAR":"1953","DOI":"10.1063/1.1699114"}},{"citationKey":"ROSENTHAL2011OPTIMAL","entryType":"ARTICLE","entryTags":{"TITLE":"Optimal proposal distributions and adaptive MCMC","AUTHOR":"Rosenthal, Jeffrey S and others","JOURNAL":"Handbook of Markov Chain Monte Carlo","VOLUME":"4","NUMBER":"10.1201","YEAR":"2011","PUBLISHER":"Chapman & Hall/CRC Boca Raton, FL"}},{"citationKey":"GARETH2001OPTIMAL","entryType":"ARTICLE","entryTags":{"PAGES":"351 -- 367","NUMBER":"4","AUTHOR":"Gareth O. Roberts and Jeffrey S. Rosenthal","URL":"https://doi.org/10.1214/ss/1015346320","JOURNAL":"Statistical Science","TITLE":"Optimal scaling for various Metropolis-Hastings algorithms","VOLUME":"16","PUBLISHER":"Institute of Mathematical Statistics","YEAR":"2001","DOI":"10.1214/ss/1015346320"}},{"citationKey":"POTENTIAL_ENERGY_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Potential Energy","URL":"https://en.wikipedia.org/wiki/Potential_energy","YEAR":"2021"}},{"citationKey":"LUDWIG_BOLTZMANN_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Ludwig Boltzmann","URL":"https://en.wikipedia.org/wiki/Ludwig_Boltzmann","YEAR":"2021"}},{"citationKey":"BOLTZMANN_DISTRIBUTION_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Boltzmann distribution","URL":"https://en.wikipedia.org/wiki/Boltzmann_distribution","YEAR":"2021"}},{"citationKey":"HASTINGS1970MONTE","entryType":"ARTICLE","entryTags":{"MONTH":"04","ABSTRACT":"{A generalization of the sampling method introduced by Metropolis et al. (1953) is presented along with an exposition of the relevant theory, techniques of application and methods and difficulties of assessing the error in Monte Carlo estimates. Examples of the methods, including the generation of random orthogonal matrices and potential applications of the methods to numerical problems arising in statistics, are discussed.}","PAGES":"97-109","ISSN":"0006-3444","EPRINT":"https://academic.oup.com/biomet/article-pdf/57/1/97/23940249/57-1-97.pdf","NUMBER":"1","AUTHOR":"Hastings, W. K.","URL":"https://doi.org/10.1093/biomet/57.1.97","JOURNAL":"Biometrika","TITLE":"Monte Carlo sampling methods using Markov chains and their applications","VOLUME":"57","YEAR":"1970","DOI":"10.1093/biomet/57.1.97"}},{"citationKey":"MALA_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Metropolis-adjusted Langevin Algorithm","URL":"https://en.wikipedia.org/wiki/Metropolis-adjusted_Langevin_algorithm","YEAR":"2021"}},{"citationKey":"HMC_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Hamiltonian Monte Carlo","URL":"https://en.wikipedia.org/wiki/Hamiltonian_Monte_Carlo","YEAR":"2021"}},{"citationKey":"RMSD_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Root Mean Square Deviation","URL":"https://en.wikipedia.org/wiki/Root-mean-square_deviation","YEAR":"2021"}},{"citationKey":"CEASAR_CIPHER_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Ceasar Cipher","URL":"https://en.wikipedia.org/wiki/Caesar_cipher","YEAR":"2022"}},{"citationKey":"POST-QUANTUM_CRYPTO_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Post-quantum Cryptography","URL":"https://en.wikipedia.org/wiki/Post-quantum_cryptography","YEAR":"2022"}},{"citationKey":"KERCKHOFFS_PRINCIPLE_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Kerckhoffs's principle","URL":"https://en.wikipedia.org/wiki/Kerckhoffs%27s_principle","YEAR":"2022"}},{"citationKey":"ROT13_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: ROT13","URL":"https://en.wikipedia.org/wiki/ROT13","YEAR":"2022"}},{"citationKey":"CC_PERMUTATION","entryType":"MISC","entryTags":{"TITLE":"Crypto Corner: Permutation Cipher","URL":"https://crypto.interactive-maths.com/permutation-cipher.html","YEAR":"2022"}},{"citationKey":"XOR_CIPHER_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: XOR cipher","URL":"https://en.wikipedia.org/wiki/XOR_cipher","YEAR":"2022"}},{"citationKey":"DES_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Data Encryption Standard","URL":"https://en.wikipedia.org/wiki/Data_Encryption_Standard","YEAR":"2022"}},{"citationKey":"AES_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Advanced Encryption Standard","URL":"https://en.wikipedia.org/wiki/Advanced_Encryption_Standard","YEAR":"2022"}},{"citationKey":"BLOWFISH_CIPHER_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Blowfish (cipher)","URL":"https://en.wikipedia.org/wiki/Blowfish_(cipher)","YEAR":"2022"}},{"citationKey":"RSA_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: RSA (cryptosystem)","URL":"https://en.wikipedia.org/wiki/RSA_(cryptosystem)","YEAR":"2022"}},{"citationKey":"ECC_CRYPTO_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Elliptic-curve cryptography","URL":"https://en.wikipedia.org/wiki/Elliptic-curve_cryptography","YEAR":"2022"}},{"citationKey":"BOX1958","entryType":"ARTICLE","entryTags":{"TITLE":"A note on the generation of random normal deviates","AUTHOR":"Box, George EP","JOURNAL":"Ann. Math. Statist.","VOLUME":"29","PAGES":"610--611","YEAR":"1958"}},{"citationKey":"MARSAGLIA_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Marsaglia Transform","URL":"https://en.wikipedia.org/wiki/Marsaglia_polar_method","YEAR":"2022"}},{"citationKey":"BOX_MULLER_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Box-Muller Transform","URL":"https://en.wikipedia.org/wiki/Box%E2%80%93Muller_transform","YEAR":"2022"}}],"gitbook":"*"},"file":{"path":"contents/monte_carlo_integration/monte_carlo_integration.md","mtime":"2023-11-01T14:45:34.785Z","type":"markdown"},"gitbook":{"version":"3.7.5","time":"2023-11-01T14:46:08.413Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-mathjax/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-api-language-selector/api-language-selector.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

