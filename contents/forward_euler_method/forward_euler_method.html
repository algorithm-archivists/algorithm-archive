
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>Forward Euler Method Â· Arcane Algorithm Archive</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.6.20">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-bibtex-cite/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-api-language-selector/api-language-selector.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../physics_solvers/physics_solvers.html" />
    
    
    <link rel="prev" href="../differential_equations/differential_equations.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Algorithm Archive
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../introduction/introduction.html">
            
                <a href="../introduction/introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../how_to_contribute/how_to_contribute.html">
            
                <a href="../how_to_contribute/how_to_contribute.html">
            
                    
                    How To Contribute
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../plotting/plotting.html">
            
                <a href="../plotting/plotting.html">
            
                    
                    Plotting
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../domain_coloring/domain_coloring.html">
            
                <a href="../domain_coloring/domain_coloring.html">
            
                    
                    Domain Coloring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../IFS/IFS.html">
            
                <a href="../IFS/IFS.html">
            
                    
                    Iterated Function Systems
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../barnsley/barnsley.html">
            
                <a href="../barnsley/barnsley.html">
            
                    
                    The Barnsley Fern
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../data_structures/data_structures.html">
            
                <a href="../data_structures/data_structures.html">
            
                    
                    Data Structures
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../stacks_and_queues/stacks_and_queues.html">
            
                <a href="../stacks_and_queues/stacks_and_queues.html">
            
                    
                    Stacks and Queues
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../mathematical_background/mathematical_background.html">
            
                <a href="../mathematical_background/mathematical_background.html">
            
                    
                    Mathematical Background
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../notation/notation.html">
            
                <a href="../notation/notation.html">
            
                    
                    Complexity Notation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../affine_transformations/affine_transformations.html">
            
                <a href="../affine_transformations/affine_transformations.html">
            
                    
                    Affine Transformations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../bitlogic/bitlogic.html">
            
                <a href="../bitlogic/bitlogic.html">
            
                    
                    Bit Logic
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../taylor_series_expansion/taylor_series_expansion.html">
            
                <a href="../taylor_series_expansion/taylor_series_expansion.html">
            
                    
                    Taylor Series
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../convolutions/convolutions.html">
            
                <a href="../convolutions/convolutions.html">
            
                    
                    Convolutions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.5.1" data-path="../convolutions/1d/1d.html">
            
                <a href="../convolutions/1d/1d.html">
            
                    
                    Convolutions in 1D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5.2" data-path="../convolutions/multiplication/multiplication.html">
            
                <a href="../convolutions/multiplication/multiplication.html">
            
                    
                    Multiplication as a Convolution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5.3" data-path="../convolutions/2d/2d.html">
            
                <a href="../convolutions/2d/2d.html">
            
                    
                    Convolutions of Images (2D)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5.4" data-path="../convolutions/convolutional_theorem/convolutional_theorem.html">
            
                <a href="../convolutions/convolutional_theorem/convolutional_theorem.html">
            
                    
                    Convolutional Theorem
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../tree_traversal/tree_traversal.html">
            
                <a href="../tree_traversal/tree_traversal.html">
            
                    
                    Tree Traversal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../euclidean_algorithm/euclidean_algorithm.html">
            
                <a href="../euclidean_algorithm/euclidean_algorithm.html">
            
                    
                    Euclidean Algorithm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../monte_carlo_integration/monte_carlo_integration.html">
            
                <a href="../monte_carlo_integration/monte_carlo_integration.html">
            
                    
                    Monte Carlo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../matrix_methods/matrix_methods.html">
            
                <a href="../matrix_methods/matrix_methods.html">
            
                    
                    Matrix Methods
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../gaussian_elimination/gaussian_elimination.html">
            
                <a href="../gaussian_elimination/gaussian_elimination.html">
            
                    
                    Gaussian Elimination
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../thomas_algorithm/thomas_algorithm.html">
            
                <a href="../thomas_algorithm/thomas_algorithm.html">
            
                    
                    Thomas Algorithm
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../computational_geometry/computational_geometry.html">
            
                <a href="../computational_geometry/computational_geometry.html">
            
                    
                    Computational Geometry
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../gift_wrapping/gift_wrapping.html">
            
                <a href="../gift_wrapping/gift_wrapping.html">
            
                    
                    Gift Wrapping
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1.1" data-path="../jarvis_march/jarvis_march.html">
            
                <a href="../jarvis_march/jarvis_march.html">
            
                    
                    Jarvis March
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.2" data-path="../graham_scan/graham_scan.html">
            
                <a href="../graham_scan/graham_scan.html">
            
                    
                    Graham Scan
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../cooley_tukey/cooley_tukey.html">
            
                <a href="../cooley_tukey/cooley_tukey.html">
            
                    
                    FFT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../decision_problems/decision_problems.html">
            
                <a href="../decision_problems/decision_problems.html">
            
                    
                    Decision Problems
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../stable_marriage_problem/stable_marriage_problem.html">
            
                <a href="../stable_marriage_problem/stable_marriage_problem.html">
            
                    
                    Stable Marriage Problem
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../differential_equations/differential_equations.html">
            
                <a href="../differential_equations/differential_equations.html">
            
                    
                    Differential Equation Solvers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.14.1" data-path="forward_euler_method.html">
            
                <a href="forward_euler_method.html">
            
                    
                    Forward Euler Method
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../physics_solvers/physics_solvers.html">
            
                <a href="../physics_solvers/physics_solvers.html">
            
                    
                    Physics Solvers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../verlet_integration/verlet_integration.html">
            
                <a href="../verlet_integration/verlet_integration.html">
            
                    
                    Verlet Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="../quantum_systems/quantum_systems.html">
            
                <a href="../quantum_systems/quantum_systems.html">
            
                    
                    Quantum Systems
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.2.1" data-path="../split-operator_method/split-operator_method.html">
            
                <a href="../split-operator_method/split-operator_method.html">
            
                    
                    Split-Operator Method
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../data_compression/data_compression.html">
            
                <a href="../data_compression/data_compression.html">
            
                    
                    Data Compression
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="../huffman_encoding/huffman_encoding.html">
            
                <a href="../huffman_encoding/huffman_encoding.html">
            
                    
                    Huffman Encoding
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="../computer_graphics/computer_graphics.html">
            
                <a href="../computer_graphics/computer_graphics.html">
            
                    
                    Computer Graphics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="../flood_fill/flood_fill.html">
            
                <a href="../flood_fill/flood_fill.html">
            
                    
                    Flood Fill
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="../quantum_information/quantum_information.html">
            
                <a href="../quantum_information/quantum_information.html">
            
                    
                    Quantum Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="../computus/computus.html">
            
                <a href="../computus/computus.html">
            
                    
                    Computus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="../approximate_counting/approximate_counting.html">
            
                <a href="../approximate_counting/approximate_counting.html">
            
                    
                    Approximate Counting Algorithm
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Forward Euler Method</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="the-forward-euler-method">The Forward Euler Method</h1>
<p>The Euler methods are some of the simplest methods to solve ordinary differential equations numerically.
They introduce a new set of methods called the Runge Kutta methods, which will be discussed in the near future!</p>
<p>As a physicist, I tend to understand things through methods that I have learned before.
In this case, it makes sense for me to see Euler methods as extensions of the <a href="../taylor_series_expansion/taylor_series_expansion.html">Taylor Series Expansion</a>.
These expansions basically approximate functions based on their derivatives, like so:</p>
<p><script type="math/tex; mode=display">
f(x) \approx f(a) + \frac{1}{1!}\frac{df(a)}{da}(x-a)
    + \frac{1}{2!}\frac{d^2f(a)}{da^2}(x-a)^2
    + \frac{1}{3!}\frac{d^3f(a)}{da^3}(x-a)^3 + \cdots
</script></p>
<p>Like before,  <script type="math/tex; ">f(x)</script> is some function along real or complex space, <script type="math/tex; ">a</script> is the point that we are expanding from, and <script type="math/tex; ">f^{(n)}(x)</script> denotes the <script type="math/tex; ">n^{\text{th}}</script> derivative of <script type="math/tex; ">f(x)</script>.</p>
<p>So, what does this mean? Well, as mentioned, we can think of this similarly to the kinematic equation:
<script type="math/tex; mode=display">
x = x_0 + vt + \frac{1}{2}at^2
</script>
where <script type="math/tex; ">x</script> is position, <script type="math/tex; ">v</script> is velocity, and <script type="math/tex; ">a</script> is acceleration.
This equation allows us to find the position of an object based on it&apos;s previous position (<script type="math/tex; ">x_0</script>), the derivative of it&apos;s position with respect to time (<script type="math/tex; ">\frac{dx}{dt} = v_0</script>) and one derivative on top of that (<script type="math/tex; ">\frac{d^2x}{dx^2} = a</script>).
As stated in the Tayor Series Expansion, the acceleration term must also have <script type="math/tex; ">\frac{1}{2!}</script> in front of it.</p>
<p>Now, how does this relate to the Euler methods?
Well, with these methods, we assume that we are looking for a position in some space, usually denoted as <script type="math/tex; ">y(t)</script>, but we can use any variable.
The methods assume that we have some function to evaluate the derivative of <script type="math/tex; ">y(t)</script>. In other words, we know that <script type="math/tex; ">\frac{dy(t)}{dt} = f(t,y(t))</script>.
For the kinematic equation, we know what this is!</p>
<p><script type="math/tex; mode=display">
\frac{dy(t)}{dt} = v = f(t,y(t)) = v_0 + a(t)
</script></p>
<p>So, we can iteratively solve for position by first solving for velocity. By following the kinematic equation (or Taylor Series Expansion), we find that</p>
<p><script type="math/tex; mode=display">
y_{n+1} = y_n + f(t_n, y_n) dt
</script></p>
<p>For any timestep <script type="math/tex; ">dt</script>. This means that if we are solving the kinematic equation, we simply have the following equations:</p>
<p><script type="math/tex; mode=display">
\begin{align}
    x_{n+1} &= x_n + v dt \\
    v_{n+1} &= a (t_n)
\end{align}
</script></p>
<p>Now, solving this set of equations in this way is known as the <em>forward</em> Euler Method.
In fact, there is another method known as the <em>backward</em> Euler Method, which we will get to soon enough.
For now, it is important to note that the error of these methods depend on the timestep chosen.</p>
<p>
    <img class="center" src="res/error.png">
</p>

<p>For example, here we see dramatically different results for different timesteps for solving the ODE <script type="math/tex; ">y' = \frac{x^3}{6}</script>, whose solution is <script type="math/tex; ">y = \frac{x^2}{2}</script>.
The blue line is the analytical solution, the green is with a timestep of 0.5 and the red is with a timestep of 1.
To be clear: the larger the timestep, the worse the error becomes; however, there is at least one more problem with using the forward Euler method on real problems: instabilities.</p>
<p>As we mentioned, the forward Euler method approximates the solution to an Ordinary Differential Equation (ODE) by using only the first derivative.
This is (rather expectedly) a poor approximation.
In fact, the approximation is so poor that the error associated with running this algorithm can add up and result in incredibly incorrect results.
As you might imagine, the only solution to this is decreasing the timestep and hoping for the best or using a similar method with different stability regions, like the backward Euler method.</p>
<p>Let&apos;s assume we are solving a simple ODE: <script type="math/tex; ">y' = -3y, y(0) = 1</script>.
The solution here is <script type="math/tex; ">y(t) = e^{-3t}</script> and we can find this solution somewhat easily with the forward Euler method shown below.
That said, by choosing a larger timestep, we see the Euler method&apos;s solution oscillate above and below 0, which should <em>never</em> happen.
If we were to take the Euler method&apos;s solution as valid, we would incorrectly assume that <script type="math/tex; ">e^{-3t}</script> will become negative!</p>
<p>
    <img class="center" src="res/instability.png">
</p>

<p>Like above, the blue line is the analytical solution, the green is with a timestep of 0.5 and the red is with a timestep of 1.
Here, it&apos;s interesting that we see 2 different instability patterns.
The green is initially unstable, but converges onto the correct solution, but the red is wrong from the get-go and only gets more wrong as time goes on.</p>
<p>In truth, the stability region of the forward Euler method for the case where <script type="math/tex; ">y' = ky</script> can be found with the following inequality:
<script type="math/tex; mode=display">
|kdt + 1 | \leq 1
</script>
Which means that the forward Euler method is actually unstable for most values!
If we want to stick to using the forward Euler method exclusively, the only solution is to decrease the timestep until it is within this stability region, and that&apos;s not necessarily easy for all cases.
So now it might be obvious that another, more stable method should be used instead; however, many other stable methods are <em>implicit</em>, which means that in order to find the solution, we need to solve a system of equations via the <a href="../thomas_algorithm/thomas_algorithm.html">Thomas Algorithm</a> or <a href="../gaussian_elimination/gaussian_elimination.html">Gaussian Elimination</a>.
Which is an entire layer of complexity that most people don&apos;t want to mess with!</p>
<p>Now, here is where we might want to relate the method to another algorithm that is sometimes used for a similar use-case: <a href="../verlet_integration/verlet_integration.html">Verlet Integration</a>.
Verlet integration has a distinct advantage over the forward Euler method in both error and stability with more coarse-grained timesteps; however, Euler methods are powerful in that they may be used for cases other than simple kinematics.
That said, in practice, due to the instability of the forward Euler method and the error with larger timesteps, this method is rarely used in practice.
That said, variations of this method <em>are</em> certainly used (for example Crank-Nicolson and <a href="../runge_kutta_methods/runge_kutta_methods.md">Runge-Kutta</a>, so the time spent reading this chapter is not a total waste!</p>
<h2 id="video-explanation">Video Explanation</h2>
<p>Here is a video describing the forward Euler method:</p>
<div style="text-align:center">
<iframe width="560" height="315" src="https://www.youtube.com/embed/wG7h8g6VLBo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>

<h2 id="example-code">Example Code</h2>
<p>Like in the case of <a href="../verlet_integration/verlet_integration.html">Verlet Integration</a>, the easiest way to test to see if this method works is to test it against a simple test-case.
Here, the most obvious test-case would be dropping a ball from 5 meters, which is my favorite example, but proved itself to be slightly less enlightening than I would have thought.
So, this time, let&apos;s remove ourselves from any physics and instead solve the following ODE: <script type="math/tex; ">y(t)' = -3t</script> with the initial condition that <script type="math/tex; ">y(0) = 1</script>.
Note that in this case, the velocity is directly given by the ODE and the acceleration is not part of the model.</p>
<div class="code-method"><div class="code-method-definition"></div><div class="code-method-code"><div class="code-method-sample" data-lang="jl" data-name="Julia"><pre class="language-"><code class="lang-julia"><span class="token keyword">function</span> solve_euler<span class="token punctuation">(</span>timestep<span class="token punctuation">::</span>Float64<span class="token punctuation">,</span> n<span class="token punctuation">::</span>Int64<span class="token punctuation">)</span>
    euler_result <span class="token operator">=</span> Vector<span class="token punctuation">{</span>Float64<span class="token punctuation">}</span><span class="token punctuation">(</span>undef<span class="token punctuation">,</span> n<span class="token punctuation">)</span>

    <span class="token comment"># Setting the initial condition</span>
    euler_result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">:</span>length<span class="token punctuation">(</span>euler_result<span class="token punctuation">)</span>
        euler_result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> euler_result<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">3.0</span><span class="token operator">*</span>euler_result<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>timestep
    <span class="token keyword">end</span>
    <span class="token keyword">return</span> euler_result
<span class="token keyword">end</span>

<span class="token keyword">function</span> check_result<span class="token punctuation">(</span>euler_result<span class="token punctuation">::</span>Vector<span class="token punctuation">{</span>Float64<span class="token punctuation">}</span><span class="token punctuation">,</span> threshold<span class="token punctuation">::</span>Float64<span class="token punctuation">,</span>
                      timestep<span class="token punctuation">::</span>Float64<span class="token punctuation">)</span>
    is_approx <span class="token operator">=</span> <span class="token boolean">true</span>

    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">:</span>length<span class="token punctuation">(</span>euler_result<span class="token punctuation">)</span>
        time <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>timestep
        solution <span class="token operator">=</span> exp<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">*</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>abs<span class="token punctuation">(</span>euler_result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> solution<span class="token punctuation">)</span> <span class="token operator">&gt;</span> threshold<span class="token punctuation">)</span>
            <span class="token keyword">println</span><span class="token punctuation">(</span>euler_result<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> solution<span class="token punctuation">)</span>
            is_approx <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>

    <span class="token keyword">return</span> is_approx
<span class="token keyword">end</span>

<span class="token keyword">function</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span>
    timestep <span class="token operator">=</span> <span class="token number">0.01</span>
    n <span class="token operator">=</span> <span class="token number">100</span>
    threshold <span class="token operator">=</span> <span class="token number">0.01</span>

    euler_result <span class="token operator">=</span> solve_euler<span class="token punctuation">(</span>timestep<span class="token punctuation">,</span>n<span class="token punctuation">)</span>
    is_approx <span class="token operator">=</span> check_result<span class="token punctuation">(</span>euler_result<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> timestep<span class="token punctuation">)</span>

    <span class="token keyword">println</span><span class="token punctuation">(</span>is_approx<span class="token punctuation">)</span>
<span class="token keyword">end</span>

main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="c" data-name="C"><pre class="language-"><code class="lang-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;math.h&gt;</span></span>

<span class="token keyword">void</span> <span class="token function">solve_euler</span><span class="token punctuation">(</span><span class="token keyword">double</span> timestep<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">*</span>result<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">size_t</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">3.0</span> <span class="token operator">*</span> result<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> timestep<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">check_result</span><span class="token punctuation">(</span><span class="token keyword">double</span> <span class="token operator">*</span>result<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">,</span> <span class="token keyword">double</span> threshold<span class="token punctuation">,</span> <span class="token keyword">double</span> timestep<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> is_approx <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">size_t</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">double</span> solution <span class="token operator">=</span> <span class="token function">exp</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3.0</span> <span class="token operator">*</span> i <span class="token operator">*</span> timestep<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">fabs</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> solution<span class="token punctuation">)</span> <span class="token operator">&gt;</span> threshold<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%f    %f\n&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> solution<span class="token punctuation">)</span><span class="token punctuation">;</span>
            is_approx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> is_approx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">double</span> result<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">double</span> threshold <span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
    <span class="token keyword">double</span> timestep <span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>

    <span class="token function">solve_euler</span><span class="token punctuation">(</span>timestep<span class="token punctuation">,</span> result<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">check_result</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> timestep<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="cpp" data-name="C++"><pre class="language-"><code class="lang-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstddef&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iterator&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;utility&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token keyword">using</span> std<span class="token double-colon punctuation">::</span>begin<span class="token punctuation">;</span>
<span class="token keyword">using</span> std<span class="token double-colon punctuation">::</span>end<span class="token punctuation">;</span>

<span class="token keyword">using</span> std<span class="token double-colon punctuation">::</span>size_t<span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> <span class="token function">solve_euler</span><span class="token punctuation">(</span><span class="token keyword">double</span> timestep<span class="token punctuation">,</span> size_t size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> result<span class="token punctuation">;</span>
  <span class="token keyword">double</span> current <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    current <span class="token operator">-=</span> <span class="token number">3.0</span> <span class="token operator">*</span> current <span class="token operator">*</span> timestep<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// check_result takes an iterator over doubles,</span>
<span class="token comment">// and returns whether any value is outside the passed threshold.</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">Iter</span><span class="token operator">&gt;</span>
<span class="token keyword">bool</span> <span class="token function">check_result</span><span class="token punctuation">(</span>Iter first<span class="token punctuation">,</span> Iter last<span class="token punctuation">,</span> <span class="token keyword">double</span> threshold<span class="token punctuation">,</span> <span class="token keyword">double</span> timestep<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">auto</span> it <span class="token operator">=</span> first<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> last<span class="token punctuation">;</span> <span class="token operator">++</span>idx<span class="token punctuation">,</span> <span class="token operator">++</span>it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">double</span> solution <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">exp</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3.0</span> <span class="token operator">*</span> idx <span class="token operator">*</span> timestep<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token operator">*</span>it <span class="token operator">-</span> solution<span class="token punctuation">)</span> <span class="token operator">&gt;</span> threshold<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;We found a value outside the threshold; the &quot;</span> <span class="token operator">&lt;&lt;</span> idx
                <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;-th value was &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;, but the expected solution was &quot;</span>
                <span class="token operator">&lt;&lt;</span> solution <span class="token operator">&lt;&lt;</span> <span class="token string">&apos;\n&apos;</span><span class="token punctuation">;</span>
      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;(the threshold was &quot;</span> <span class="token operator">&lt;&lt;</span> threshold
                <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; and the difference was &quot;</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token operator">*</span>it <span class="token operator">-</span> solution<span class="token punctuation">)</span>
                <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;)\n&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">double</span> threshold <span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
  <span class="token keyword">double</span> timestep <span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>

  <span class="token keyword">auto</span> result <span class="token operator">=</span> <span class="token function">solve_euler</span><span class="token punctuation">(</span>timestep<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">auto</span> outside_threshold <span class="token operator">=</span>
      <span class="token function">check_result</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> timestep<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">auto</span> msg <span class="token operator">=</span> outside_threshold <span class="token operator">?</span> <span class="token string">&quot;yes :(&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;no :D&quot;</span><span class="token punctuation">;</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Were any of the values outside of the threshold (&quot;</span> <span class="token operator">&lt;&lt;</span> threshold
            <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;)? &quot;</span> <span class="token operator">&lt;&lt;</span> msg <span class="token operator">&lt;&lt;</span> <span class="token string">&apos;\n&apos;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="rs" data-name="Rust"><pre class="language-"><code class="lang-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0.0</span><span class="token punctuation">;</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> threshold <span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> timestep <span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>

    <span class="token function">solve_euler</span><span class="token punctuation">(</span>timestep<span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;{}&quot;</span><span class="token punctuation">,</span> <span class="token function">check_result</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>result<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> timestep<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">solve_euler</span><span class="token punctuation">(</span>timestep<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">,</span> result<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token punctuation">[</span><span class="token keyword">f64</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> n <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">1</span><span class="token punctuation">..</span>n <span class="token punctuation">{</span>
            result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">3.0</span> <span class="token operator">*</span> result<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> timestep<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">check_result</span><span class="token punctuation">(</span>result<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token keyword">f64</span><span class="token punctuation">]</span><span class="token punctuation">,</span> threshold<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">,</span> timestep<span class="token punctuation">:</span> <span class="token keyword">f64</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> is_approx<span class="token punctuation">:</span> <span class="token keyword">bool</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token keyword">in</span> result<span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enumerate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> solution <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3.0</span> <span class="token operator">*</span> i <span class="token keyword">as</span> <span class="token keyword">f64</span> <span class="token operator">*</span> timestep<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">-</span> solution<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> threshold <span class="token punctuation">{</span>
            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;{}    {}&quot;</span><span class="token punctuation">,</span> val<span class="token punctuation">,</span> solution<span class="token punctuation">)</span><span class="token punctuation">;</span>
            is_approx <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> is_approx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="elm" data-name="Elm"><pre class="language-"><code class="lang-elm"><span class="token keyword">type</span> <span class="token keyword">alias</span> <span class="token constant">Position</span> <span class="token operator">=</span>
    <span class="token constant">Float</span>


<span class="token keyword">type</span> <span class="token keyword">alias</span> <span class="token constant">Velocity</span> <span class="token operator">=</span>
    <span class="token constant">Float</span>


<span class="token keyword">type</span> <span class="token keyword">alias</span> <span class="token constant">Particle</span> <span class="token operator">=</span>
    <span class="token punctuation">{</span> <span class="token hvariable">pos</span> <span class="token operator">:</span> <span class="token constant">List</span> <span class="token constant">Position</span><span class="token punctuation">,</span> <span class="token hvariable">vel</span> <span class="token operator">:</span> <span class="token constant">List</span> <span class="token constant">Velocity</span> <span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-elm"><span class="token hvariable">k</span> <span class="token operator">:</span> <span class="token constant">Float</span>
<span class="token hvariable">k</span> <span class="token operator">=</span>
    <span class="token operator">-</span><span class="token number">2</span>


<span class="token hvariable">diffEq</span> <span class="token operator">:</span> <span class="token constant">Position</span> <span class="token operator">-&gt;</span> <span class="token constant">Velocity</span> <span class="token operator">-&gt;</span> <span class="token constant">Time</span> <span class="token operator">-&gt;</span> <span class="token constant">Time</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span> <span class="token constant">Position</span><span class="token punctuation">,</span> <span class="token constant">Velocity</span> <span class="token punctuation">)</span>
<span class="token hvariable">diffEq</span> <span class="token hvariable">x</span> <span class="token hvariable">v</span> <span class="token hvariable">t</span> <span class="token hvariable">dt</span> <span class="token operator">=</span>
    <span class="token punctuation">(</span> <span class="token hvariable">x</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token hvariable">k</span> <span class="token operator">*</span> <span class="token hvariable">x</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token hvariable">dt</span><span class="token punctuation">,</span> <span class="token hvariable">k</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token hvariable">x</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token hvariable">k</span> <span class="token operator">*</span> <span class="token hvariable">x</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token hvariable">dt</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>


<span class="token hvariable">evolve</span> <span class="token operator">:</span> <span class="token constant">Particle</span> <span class="token operator">-&gt;</span> <span class="token constant">Time</span> <span class="token operator">-&gt;</span> <span class="token constant">Time</span> <span class="token operator">-&gt;</span> <span class="token constant">Particle</span>
<span class="token hvariable">evolve</span> <span class="token hvariable">p</span> <span class="token hvariable">t</span> <span class="token hvariable">dt</span> <span class="token operator">=</span>
    <span class="token keyword">let</span>
        <span class="token punctuation">(</span> <span class="token hvariable">x</span><span class="token punctuation">,</span> <span class="token hvariable">v</span> <span class="token punctuation">)</span> <span class="token operator">=</span>
            <span class="token hvariable">diffEq</span> <span class="token punctuation">(</span><span class="token hvariable">getX</span> <span class="token hvariable">p</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token hvariable">getV</span> <span class="token hvariable">p</span><span class="token punctuation">)</span> <span class="token hvariable">t</span> <span class="token hvariable">dt</span>
    <span class="token keyword">in</span>
        <span class="token punctuation">{</span> <span class="token hvariable">p</span> <span class="token operator">|</span> <span class="token hvariable">pos</span> <span class="token operator">=</span> <span class="token hvariable">x</span> <span class="token operator">::</span> <span class="token hvariable">p</span><span class="token punctuation">.</span><span class="token hvariable">pos</span><span class="token punctuation">,</span> <span class="token hvariable">vel</span> <span class="token operator">=</span> <span class="token hvariable">v</span> <span class="token operator">::</span> <span class="token hvariable">p</span><span class="token punctuation">.</span><span class="token hvariable">vel</span> <span class="token punctuation">}</span>
</code></pre>
<p>Full code for the visualization follows:</p>
<pre class="language-"><code class="lang-elm"><span class="token keyword">module</span> <span class="token constant">Euler</span> <span class="token keyword">exposing</span> <span class="token punctuation">(</span><span class="token operator">..</span><span class="token punctuation">)</span>

<span class="token import-statement"><span class="token keyword">import</span> Html <span class="token keyword">exposing</span> </span><span class="token punctuation">(</span><span class="token constant">Html</span><span class="token punctuation">,</span> <span class="token hvariable">div</span><span class="token punctuation">,</span> <span class="token hvariable">button</span><span class="token punctuation">,</span> <span class="token hvariable">text</span><span class="token punctuation">,</span> <span class="token hvariable">h3</span><span class="token punctuation">)</span>
<span class="token import-statement"><span class="token keyword">import</span> Html.Attributes <span class="token keyword">exposing</span> </span><span class="token punctuation">(</span><span class="token hvariable">style</span><span class="token punctuation">)</span>
<span class="token import-statement"><span class="token keyword">import</span> Html.Events <span class="token keyword">exposing</span> </span><span class="token punctuation">(</span><span class="token hvariable">onClick</span><span class="token punctuation">,</span> <span class="token hvariable">on</span><span class="token punctuation">)</span>
<span class="token import-statement"><span class="token keyword">import</span> Time <span class="token keyword">exposing</span> </span><span class="token punctuation">(</span><span class="token constant">Time</span><span class="token punctuation">,</span> <span class="token hvariable">second</span><span class="token punctuation">)</span>
<span class="token import-statement"><span class="token keyword">import</span> Maybe <span class="token keyword">exposing</span> </span><span class="token punctuation">(</span><span class="token hvariable">withDefault</span><span class="token punctuation">)</span>
<span class="token import-statement"><span class="token keyword">import</span> Window <span class="token keyword">exposing</span> </span><span class="token punctuation">(</span><span class="token constant">Size</span><span class="token punctuation">,</span> <span class="token hvariable">size</span><span class="token punctuation">)</span>
<span class="token import-statement"><span class="token keyword">import</span> Svg <span class="token keyword">exposing</span> </span><span class="token punctuation">(</span><span class="token hvariable">svg</span><span class="token punctuation">,</span> <span class="token hvariable">circle</span><span class="token punctuation">,</span> <span class="token hvariable">line</span><span class="token punctuation">,</span> <span class="token hvariable">polyline</span><span class="token punctuation">)</span>
<span class="token import-statement"><span class="token keyword">import</span> Svg.Attributes <span class="token keyword">exposing</span> </span><span class="token punctuation">(</span><span class="token hvariable">width</span><span class="token punctuation">,</span> <span class="token hvariable">height</span><span class="token punctuation">,</span> <span class="token hvariable">stroke</span><span class="token punctuation">,</span> <span class="token hvariable">x1</span><span class="token punctuation">,</span> <span class="token hvariable">x2</span><span class="token punctuation">,</span> <span class="token hvariable">y1</span><span class="token punctuation">,</span> <span class="token hvariable">y2</span><span class="token punctuation">,</span> <span class="token hvariable">cx</span><span class="token punctuation">,</span> <span class="token hvariable">cy</span><span class="token punctuation">,</span> <span class="token hvariable">r</span><span class="token punctuation">,</span> <span class="token hvariable">points</span><span class="token punctuation">,</span> <span class="token hvariable">fill</span><span class="token punctuation">)</span>
<span class="token import-statement"><span class="token keyword">import</span> Task <span class="token keyword">exposing</span> </span><span class="token punctuation">(</span><span class="token hvariable">perform</span><span class="token punctuation">)</span>
<span class="token import-statement"><span class="token keyword">import</span> Slider <span class="token keyword">exposing</span> </span><span class="token punctuation">(</span><span class="token operator">..</span><span class="token punctuation">)</span>
<span class="token import-statement"><span class="token keyword">import</span> Mouse</span>
<span class="token import-statement"><span class="token keyword">import</span> Json.Decode <span class="token keyword">as</span> Decode</span>
<span class="token import-statement"><span class="token keyword">import</span> Hex</span>


<span class="token hvariable">main</span> <span class="token operator">=</span>
    <span class="token hvariable">Html.program</span>
        <span class="token punctuation">{</span> <span class="token hvariable">init</span> <span class="token operator">=</span> <span class="token hvariable">init</span>
        <span class="token punctuation">,</span> <span class="token hvariable">view</span> <span class="token operator">=</span> <span class="token hvariable">view</span>
        <span class="token punctuation">,</span> <span class="token hvariable">update</span> <span class="token operator">=</span> <span class="token hvariable">update</span>
        <span class="token punctuation">,</span> <span class="token hvariable">subscriptions</span> <span class="token operator">=</span> <span class="token hvariable">subscriptions</span>
        <span class="token punctuation">}</span>



<span class="token comment">-- MODEL</span>


<span class="token keyword">type</span> <span class="token keyword">alias</span> <span class="token constant">Model</span> <span class="token operator">=</span>
    <span class="token punctuation">{</span> <span class="token hvariable">part</span> <span class="token operator">:</span> <span class="token constant">Particle</span>
    <span class="token punctuation">,</span> <span class="token hvariable">dt</span> <span class="token operator">:</span> <span class="token constant">Time</span>
    <span class="token punctuation">,</span> <span class="token hvariable">dt0</span> <span class="token operator">:</span> <span class="token constant">Time</span>
    <span class="token punctuation">,</span> <span class="token hvariable">t</span> <span class="token operator">:</span> <span class="token constant">Time</span>
    <span class="token punctuation">,</span> <span class="token hvariable">status</span> <span class="token operator">:</span> <span class="token constant">Status</span>
    <span class="token punctuation">,</span> <span class="token hvariable">wWidth</span> <span class="token operator">:</span> <span class="token constant">Int</span>
    <span class="token punctuation">,</span> <span class="token hvariable">wHeight</span> <span class="token operator">:</span> <span class="token constant">Int</span>
    <span class="token punctuation">,</span> <span class="token hvariable">history</span> <span class="token operator">:</span> <span class="token constant">List</span> <span class="token punctuation">(</span> <span class="token constant">Time</span><span class="token punctuation">,</span> <span class="token constant">Time</span><span class="token punctuation">,</span> <span class="token constant">Particle</span> <span class="token punctuation">)</span>
    <span class="token punctuation">,</span> <span class="token hvariable">drag</span> <span class="token operator">:</span> <span class="token constant">Maybe</span> <span class="token constant">Drag</span>
    <span class="token punctuation">}</span>


<span class="token keyword">type</span> <span class="token keyword">alias</span> <span class="token constant">Position</span> <span class="token operator">=</span>
    <span class="token constant">Float</span>


<span class="token keyword">type</span> <span class="token keyword">alias</span> <span class="token constant">Velocity</span> <span class="token operator">=</span>
    <span class="token constant">Float</span>


<span class="token keyword">type</span> <span class="token keyword">alias</span> <span class="token constant">Particle</span> <span class="token operator">=</span>
    <span class="token punctuation">{</span> <span class="token hvariable">pos</span> <span class="token operator">:</span> <span class="token constant">List</span> <span class="token constant">Position</span><span class="token punctuation">,</span> <span class="token hvariable">vel</span> <span class="token operator">:</span> <span class="token constant">List</span> <span class="token constant">Velocity</span> <span class="token punctuation">}</span>


<span class="token keyword">type</span> <span class="token constant">Status</span>
    <span class="token operator">=</span> <span class="token constant">Idle</span>
    <span class="token operator">|</span> <span class="token constant">Running</span>


<span class="token keyword">type</span> <span class="token keyword">alias</span> <span class="token constant">Drag</span> <span class="token operator">=</span>
    <span class="token punctuation">{</span> <span class="token hvariable">start</span> <span class="token operator">:</span> <span class="token constant">Position</span>
    <span class="token punctuation">,</span> <span class="token hvariable">current</span> <span class="token operator">:</span> <span class="token constant">Position</span>
    <span class="token punctuation">}</span>


<span class="token hvariable">getX</span> <span class="token operator">:</span> <span class="token constant">Particle</span> <span class="token operator">-&gt;</span> <span class="token constant">Position</span>
<span class="token hvariable">getX</span> <span class="token hvariable">p</span> <span class="token operator">=</span>
    <span class="token hvariable">withDefault</span> <span class="token number">0</span> <span class="token operator">&lt;|</span> <span class="token hvariable">List.head</span> <span class="token operator">&lt;|</span> <span class="token punctuation">.</span><span class="token hvariable">pos</span> <span class="token hvariable">p</span>


<span class="token hvariable">getV</span> <span class="token operator">:</span> <span class="token constant">Particle</span> <span class="token operator">-&gt;</span> <span class="token constant">Velocity</span>
<span class="token hvariable">getV</span> <span class="token hvariable">p</span> <span class="token operator">=</span>
    <span class="token hvariable">withDefault</span> <span class="token number">0</span> <span class="token operator">&lt;|</span> <span class="token hvariable">List.head</span> <span class="token operator">&lt;|</span> <span class="token punctuation">.</span><span class="token hvariable">vel</span> <span class="token hvariable">p</span>


<span class="token hvariable">getX0</span> <span class="token operator">:</span> <span class="token constant">Model</span> <span class="token operator">-&gt;</span> <span class="token constant">Position</span>
<span class="token hvariable">getX0</span> <span class="token hvariable">m</span> <span class="token operator">=</span>
    <span class="token keyword">let</span>
        <span class="token hvariable">scale</span> <span class="token hvariable">x</span> <span class="token operator">=</span>
            <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">6</span> <span class="token operator">*</span> <span class="token hvariable">x</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token builtin">toFloat</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">wHeight</span><span class="token punctuation">)</span>
    <span class="token keyword">in</span>
        <span class="token keyword">case</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">drag</span> <span class="token keyword">of</span>
            <span class="token constant">Nothing</span> <span class="token operator">-&gt;</span>
                <span class="token hvariable">getX</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">part</span>

            <span class="token constant">Just</span> <span class="token punctuation">{</span> <span class="token hvariable">start</span><span class="token punctuation">,</span> <span class="token hvariable">current</span> <span class="token punctuation">}</span> <span class="token operator">-&gt;</span>
                <span class="token hvariable">getX</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">part</span> <span class="token operator">+</span> <span class="token hvariable">scale</span> <span class="token hvariable">current</span> <span class="token operator">-</span> <span class="token hvariable">scale</span> <span class="token hvariable">start</span>



<span class="token comment">-- INIT</span>


<span class="token hvariable">init</span> <span class="token operator">:</span> <span class="token punctuation">(</span> <span class="token constant">Model</span><span class="token punctuation">,</span> <span class="token constant">Cmd</span> <span class="token constant">Msg</span> <span class="token punctuation">)</span>
<span class="token hvariable">init</span> <span class="token operator">=</span>
    <span class="token punctuation">(</span> <span class="token constant">Model</span> <span class="token punctuation">(</span><span class="token constant">Particle</span> <span class="token punctuation">[</span> <span class="token hvariable">x0</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0</span> <span class="token constant">Idle</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token constant">Nothing</span><span class="token punctuation">,</span> <span class="token hvariable">perform</span> <span class="token constant">GetSize</span> <span class="token hvariable">size</span> <span class="token punctuation">)</span>


<span class="token hvariable">x0</span> <span class="token operator">:</span> <span class="token constant">Position</span>
<span class="token hvariable">x0</span> <span class="token operator">=</span>
    <span class="token number">2.5</span>



<span class="token comment">-- UPDATE</span>


<span class="token keyword">type</span> <span class="token constant">Msg</span>
    <span class="token operator">=</span> <span class="token constant">Start</span>
    <span class="token operator">|</span> <span class="token constant">Stop</span>
    <span class="token operator">|</span> <span class="token constant">Tick</span> <span class="token constant">Time</span>
    <span class="token operator">|</span> <span class="token constant">GetSize</span> <span class="token constant">Size</span>
    <span class="token operator">|</span> <span class="token constant">SliderUpdate</span> <span class="token constant">Float</span>
    <span class="token operator">|</span> <span class="token constant">DragStart</span> <span class="token constant">Mouse.Position</span>
    <span class="token operator">|</span> <span class="token constant">DragAt</span> <span class="token constant">Mouse.Position</span>
    <span class="token operator">|</span> <span class="token constant">DragEnd</span> <span class="token constant">Mouse.Position</span>


<span class="token hvariable">update</span> <span class="token operator">:</span> <span class="token constant">Msg</span> <span class="token operator">-&gt;</span> <span class="token constant">Model</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span> <span class="token constant">Model</span><span class="token punctuation">,</span> <span class="token constant">Cmd</span> <span class="token constant">Msg</span> <span class="token punctuation">)</span>
<span class="token hvariable">update</span> <span class="token hvariable">msg</span> <span class="token hvariable">model</span> <span class="token operator">=</span>
    <span class="token keyword">case</span> <span class="token hvariable">msg</span> <span class="token keyword">of</span>
        <span class="token constant">Start</span> <span class="token operator">-&gt;</span>
            <span class="token punctuation">(</span> <span class="token punctuation">{</span> <span class="token hvariable">model</span>
                <span class="token operator">|</span> <span class="token hvariable">status</span> <span class="token operator">=</span> <span class="token constant">Running</span>
                <span class="token punctuation">,</span> <span class="token hvariable">t</span> <span class="token operator">=</span> <span class="token number">0</span>
                <span class="token punctuation">,</span> <span class="token hvariable">dt</span> <span class="token operator">=</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">dt0</span>
                <span class="token punctuation">,</span> <span class="token hvariable">drag</span> <span class="token operator">=</span> <span class="token constant">Nothing</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">,</span> <span class="token hvariable">Cmd.none</span>
            <span class="token punctuation">)</span>

        <span class="token constant">Stop</span> <span class="token operator">-&gt;</span>
            <span class="token punctuation">(</span> <span class="token punctuation">{</span> <span class="token hvariable">model</span>
                <span class="token operator">|</span> <span class="token hvariable">status</span> <span class="token operator">=</span> <span class="token constant">Idle</span>
                <span class="token punctuation">,</span> <span class="token hvariable">part</span> <span class="token operator">=</span> <span class="token constant">Particle</span> <span class="token punctuation">[</span> <span class="token hvariable">x0</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span>
                <span class="token punctuation">,</span> <span class="token hvariable">t</span> <span class="token operator">=</span> <span class="token number">0</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">,</span> <span class="token hvariable">Cmd.none</span>
            <span class="token punctuation">)</span>

        <span class="token constant">Tick</span> _ <span class="token operator">-&gt;</span>
            <span class="token keyword">case</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">status</span> <span class="token keyword">of</span>
                <span class="token constant">Idle</span> <span class="token operator">-&gt;</span>
                    <span class="token punctuation">(</span> <span class="token hvariable">model</span><span class="token punctuation">,</span> <span class="token hvariable">Cmd.none</span> <span class="token punctuation">)</span>

                <span class="token constant">Running</span> <span class="token operator">-&gt;</span>
                    <span class="token keyword">if</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">t</span> <span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">dt</span> <span class="token keyword">then</span>
                        <span class="token punctuation">(</span> <span class="token punctuation">{</span> <span class="token hvariable">model</span>
                            <span class="token operator">|</span> <span class="token hvariable">status</span> <span class="token operator">=</span> <span class="token constant">Idle</span>
                            <span class="token punctuation">,</span> <span class="token hvariable">part</span> <span class="token operator">=</span> <span class="token constant">Particle</span> <span class="token punctuation">[</span> <span class="token hvariable">x0</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span>
                            <span class="token punctuation">,</span> <span class="token hvariable">history</span> <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">dt</span><span class="token punctuation">,</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">t</span><span class="token punctuation">,</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">part</span> <span class="token punctuation">)</span> <span class="token operator">::</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">history</span>
                            <span class="token punctuation">,</span> <span class="token hvariable">t</span> <span class="token operator">=</span> <span class="token number">0</span>
                          <span class="token punctuation">}</span>
                        <span class="token punctuation">,</span> <span class="token hvariable">Cmd.none</span>
                        <span class="token punctuation">)</span>
                    <span class="token keyword">else</span>
                        <span class="token punctuation">(</span> <span class="token punctuation">{</span> <span class="token hvariable">model</span>
                            <span class="token operator">|</span> <span class="token hvariable">part</span> <span class="token operator">=</span> <span class="token hvariable">evolve</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">part</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">t</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">dt</span>
                            <span class="token punctuation">,</span> <span class="token hvariable">t</span> <span class="token operator">=</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">t</span> <span class="token operator">+</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">dt</span>
                          <span class="token punctuation">}</span>
                        <span class="token punctuation">,</span> <span class="token hvariable">perform</span> <span class="token constant">GetSize</span> <span class="token hvariable">size</span>
                        <span class="token punctuation">)</span>

        <span class="token constant">GetSize</span> <span class="token hvariable">s</span> <span class="token operator">-&gt;</span>
            <span class="token punctuation">(</span> <span class="token punctuation">{</span> <span class="token hvariable">model</span> <span class="token operator">|</span> <span class="token hvariable">wWidth</span> <span class="token operator">=</span> <span class="token hvariable">s</span><span class="token punctuation">.</span><span class="token hvariable">width</span><span class="token punctuation">,</span> <span class="token hvariable">wHeight</span> <span class="token operator">=</span> <span class="token hvariable">s</span><span class="token punctuation">.</span><span class="token hvariable">height</span> <span class="token operator">*</span> <span class="token number">8</span> <span class="token operator">//</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token hvariable">Cmd.none</span> <span class="token punctuation">)</span>

        <span class="token constant">SliderUpdate</span> <span class="token hvariable">dt</span> <span class="token operator">-&gt;</span>
            <span class="token punctuation">(</span> <span class="token punctuation">{</span> <span class="token hvariable">model</span> <span class="token operator">|</span> <span class="token hvariable">dt0</span> <span class="token operator">=</span> <span class="token hvariable">dt</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token hvariable">Cmd.none</span> <span class="token punctuation">)</span>

        <span class="token constant">DragStart</span> <span class="token punctuation">{</span> <span class="token hvariable">x</span><span class="token punctuation">,</span> <span class="token hvariable">y</span> <span class="token punctuation">}</span> <span class="token operator">-&gt;</span>
            <span class="token keyword">case</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">status</span> <span class="token keyword">of</span>
                <span class="token constant">Idle</span> <span class="token operator">-&gt;</span>
                    <span class="token punctuation">(</span> <span class="token punctuation">{</span> <span class="token hvariable">model</span> <span class="token operator">|</span> <span class="token hvariable">drag</span> <span class="token operator">=</span> <span class="token constant">Just</span> <span class="token punctuation">(</span><span class="token constant">Drag</span> <span class="token punctuation">(</span><span class="token builtin">toFloat</span> <span class="token hvariable">y</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">toFloat</span> <span class="token hvariable">y</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token hvariable">Cmd.none</span> <span class="token punctuation">)</span>

                <span class="token constant">Running</span> <span class="token operator">-&gt;</span>
                    <span class="token punctuation">(</span> <span class="token hvariable">model</span><span class="token punctuation">,</span> <span class="token hvariable">Cmd.none</span> <span class="token punctuation">)</span>

        <span class="token constant">DragAt</span> <span class="token punctuation">{</span> <span class="token hvariable">x</span><span class="token punctuation">,</span> <span class="token hvariable">y</span> <span class="token punctuation">}</span> <span class="token operator">-&gt;</span>
            <span class="token punctuation">(</span> <span class="token punctuation">{</span> <span class="token hvariable">model</span> <span class="token operator">|</span> <span class="token hvariable">drag</span> <span class="token operator">=</span> <span class="token hvariable">Maybe.map</span> <span class="token punctuation">(</span>\<span class="token punctuation">{</span> <span class="token hvariable">start</span> <span class="token punctuation">}</span> <span class="token operator">-&gt;</span> <span class="token constant">Drag</span> <span class="token hvariable">start</span> <span class="token punctuation">(</span><span class="token builtin">toFloat</span> <span class="token hvariable">y</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">drag</span> <span class="token punctuation">}</span>
            <span class="token punctuation">,</span> <span class="token hvariable">Cmd.none</span>
            <span class="token punctuation">)</span>

        <span class="token constant">DragEnd</span> _ <span class="token operator">-&gt;</span>
            <span class="token punctuation">(</span> <span class="token punctuation">{</span> <span class="token hvariable">model</span>
                <span class="token operator">|</span> <span class="token hvariable">drag</span> <span class="token operator">=</span> <span class="token constant">Nothing</span>
                <span class="token punctuation">,</span> <span class="token hvariable">part</span> <span class="token operator">=</span> <span class="token constant">Particle</span> <span class="token punctuation">[</span> <span class="token hvariable">getX0</span> <span class="token hvariable">model</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token hvariable">k</span> <span class="token operator">*</span> <span class="token hvariable">getX0</span> <span class="token hvariable">model</span> <span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">,</span> <span class="token hvariable">Cmd.none</span>
            <span class="token punctuation">)</span>


<span class="token hvariable">k</span> <span class="token operator">:</span> <span class="token constant">Float</span>
<span class="token hvariable">k</span> <span class="token operator">=</span>
    <span class="token operator">-</span><span class="token number">2</span>


<span class="token hvariable">diffEq</span> <span class="token operator">:</span> <span class="token constant">Position</span> <span class="token operator">-&gt;</span> <span class="token constant">Velocity</span> <span class="token operator">-&gt;</span> <span class="token constant">Time</span> <span class="token operator">-&gt;</span> <span class="token constant">Time</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span> <span class="token constant">Position</span><span class="token punctuation">,</span> <span class="token constant">Velocity</span> <span class="token punctuation">)</span>
<span class="token hvariable">diffEq</span> <span class="token hvariable">x</span> <span class="token hvariable">v</span> <span class="token hvariable">t</span> <span class="token hvariable">dt</span> <span class="token operator">=</span>
    <span class="token punctuation">(</span> <span class="token hvariable">x</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token hvariable">k</span> <span class="token operator">*</span> <span class="token hvariable">x</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token hvariable">dt</span><span class="token punctuation">,</span> <span class="token hvariable">k</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token hvariable">x</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token hvariable">k</span> <span class="token operator">*</span> <span class="token hvariable">x</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token hvariable">dt</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>


<span class="token hvariable">evolve</span> <span class="token operator">:</span> <span class="token constant">Particle</span> <span class="token operator">-&gt;</span> <span class="token constant">Time</span> <span class="token operator">-&gt;</span> <span class="token constant">Time</span> <span class="token operator">-&gt;</span> <span class="token constant">Particle</span>
<span class="token hvariable">evolve</span> <span class="token hvariable">p</span> <span class="token hvariable">t</span> <span class="token hvariable">dt</span> <span class="token operator">=</span>
    <span class="token keyword">let</span>
        <span class="token punctuation">(</span> <span class="token hvariable">x</span><span class="token punctuation">,</span> <span class="token hvariable">v</span> <span class="token punctuation">)</span> <span class="token operator">=</span>
            <span class="token hvariable">diffEq</span> <span class="token punctuation">(</span><span class="token hvariable">getX</span> <span class="token hvariable">p</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token hvariable">getV</span> <span class="token hvariable">p</span><span class="token punctuation">)</span> <span class="token hvariable">t</span> <span class="token hvariable">dt</span>
    <span class="token keyword">in</span>
        <span class="token punctuation">{</span> <span class="token hvariable">p</span> <span class="token operator">|</span> <span class="token hvariable">pos</span> <span class="token operator">=</span> <span class="token hvariable">x</span> <span class="token operator">::</span> <span class="token hvariable">p</span><span class="token punctuation">.</span><span class="token hvariable">pos</span><span class="token punctuation">,</span> <span class="token hvariable">vel</span> <span class="token operator">=</span> <span class="token hvariable">v</span> <span class="token operator">::</span> <span class="token hvariable">p</span><span class="token punctuation">.</span><span class="token hvariable">vel</span> <span class="token punctuation">}</span>



<span class="token comment">-- SUBSCRIPTIONS</span>


<span class="token hvariable">subscriptions</span> <span class="token operator">:</span> <span class="token constant">Model</span> <span class="token operator">-&gt;</span> <span class="token constant">Sub</span> <span class="token constant">Msg</span>
<span class="token hvariable">subscriptions</span> <span class="token hvariable">model</span> <span class="token operator">=</span>
    <span class="token keyword">case</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">drag</span> <span class="token keyword">of</span>
        <span class="token constant">Nothing</span> <span class="token operator">-&gt;</span>
            <span class="token hvariable">Time.every</span> <span class="token punctuation">(</span><span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">dt</span> <span class="token operator">*</span> <span class="token hvariable">second</span><span class="token punctuation">)</span> <span class="token constant">Tick</span>

        <span class="token constant">Just</span> _ <span class="token operator">-&gt;</span>
            <span class="token hvariable">Sub.batch</span> <span class="token punctuation">[</span> <span class="token hvariable">Mouse.moves</span> <span class="token constant">DragAt</span><span class="token punctuation">,</span> <span class="token hvariable">Mouse.ups</span> <span class="token constant">DragEnd</span> <span class="token punctuation">]</span>



<span class="token comment">-- VIEW</span>


<span class="token hvariable">view</span> <span class="token operator">:</span> <span class="token constant">Model</span> <span class="token operator">-&gt;</span> <span class="token constant">Html</span> <span class="token constant">Msg</span>
<span class="token hvariable">view</span> <span class="token hvariable">model</span> <span class="token operator">=</span>
    <span class="token hvariable">div</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span> <span class="token hvariable">h3</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token hvariable">text</span> <span class="token string">&quot;Drag the ball up or down, pick a dt and click Start&quot;</span> <span class="token punctuation">]</span>
        <span class="token punctuation">,</span> <span class="token hvariable">h3</span> <span class="token punctuation">[</span> <span class="token hvariable">style</span> <span class="token punctuation">[</span> <span class="token punctuation">(</span> <span class="token string">&quot;color&quot;</span><span class="token punctuation">,</span> <span class="token hvariable">gradient</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">dt0</span> <span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span>
            <span class="token punctuation">[</span> <span class="token hvariable">viewSlider</span>
            <span class="token punctuation">,</span> <span class="token hvariable">text</span> <span class="token punctuation">(</span><span class="token string">&quot;dt = &quot;</span> <span class="token operator">++</span> <span class="token builtin">toString</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">dt0</span><span class="token punctuation">)</span>
            <span class="token punctuation">,</span> <span class="token hvariable">button</span> <span class="token punctuation">[</span> <span class="token hvariable">onClick</span> <span class="token constant">Start</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token hvariable">text</span> <span class="token string">&quot;Start&quot;</span> <span class="token punctuation">]</span>
            <span class="token punctuation">,</span> <span class="token hvariable">button</span> <span class="token punctuation">[</span> <span class="token hvariable">onClick</span> <span class="token constant">Stop</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token hvariable">text</span> <span class="token string">&quot;Stop&quot;</span> <span class="token punctuation">]</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">,</span> <span class="token hvariable">svg</span>
            <span class="token punctuation">[</span> <span class="token hvariable">width</span> <span class="token punctuation">(</span><span class="token builtin">toString</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">wWidth</span><span class="token punctuation">)</span>
            <span class="token punctuation">,</span> <span class="token hvariable">height</span> <span class="token punctuation">(</span><span class="token builtin">toString</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">wHeight</span><span class="token punctuation">)</span>
            <span class="token punctuation">,</span> <span class="token hvariable">stroke</span> <span class="token string">&quot;black&quot;</span>
            <span class="token punctuation">]</span>
            <span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token hvariable">line</span>
                <span class="token punctuation">[</span> <span class="token hvariable">x1</span> <span class="token string">&quot;0&quot;</span>
                <span class="token punctuation">,</span> <span class="token hvariable">x2</span> <span class="token punctuation">(</span><span class="token builtin">toString</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">wWidth</span><span class="token punctuation">)</span>
                <span class="token punctuation">,</span> <span class="token hvariable">y1</span> <span class="token punctuation">(</span><span class="token builtin">toString</span> <span class="token punctuation">(</span><span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">wHeight</span> <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">,</span> <span class="token hvariable">y2</span> <span class="token punctuation">(</span><span class="token builtin">toString</span> <span class="token punctuation">(</span><span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">wHeight</span> <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">]</span>
                <span class="token punctuation">[</span><span class="token punctuation">]</span>
             <span class="token punctuation">,</span> <span class="token hvariable">line</span>
                <span class="token punctuation">[</span> <span class="token hvariable">x1</span> <span class="token punctuation">(</span><span class="token builtin">toString</span> <span class="token punctuation">(</span><span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">wWidth</span> <span class="token operator">//</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">,</span> <span class="token hvariable">x2</span> <span class="token punctuation">(</span><span class="token builtin">toString</span> <span class="token punctuation">(</span><span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">wWidth</span> <span class="token operator">//</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">,</span> <span class="token hvariable">y1</span> <span class="token string">&quot;0&quot;</span>
                <span class="token punctuation">,</span> <span class="token hvariable">y2</span> <span class="token punctuation">(</span><span class="token builtin">toString</span> <span class="token hvariable">model</span><span class="token punctuation">.</span><span class="token hvariable">wHeight</span><span class="token punctuation">)</span>
                <span class="token punctuation">]</span>
                <span class="token punctuation">[</span><span class="token punctuation">]</span>
             <span class="token punctuation">,</span> <span class="token hvariable">viewCircle</span> <span class="token hvariable">model</span>
             <span class="token punctuation">]</span>
                <span class="token operator">++</span> <span class="token punctuation">(</span><span class="token hvariable">plotHistory</span> <span class="token hvariable">model</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">]</span>


<span class="token hvariable">viewSlider</span> <span class="token operator">:</span> <span class="token constant">Html</span> <span class="token constant">Msg</span>
<span class="token hvariable">viewSlider</span> <span class="token operator">=</span>
    <span class="token hvariable">props2view</span> <span class="token punctuation">[</span> <span class="token constant">MinVal</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">MaxVal</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">Step</span> <span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token hvariable">onChange</span> <span class="token constant">SliderUpdate</span> <span class="token punctuation">]</span>


<span class="token hvariable">scaleX</span> <span class="token operator">:</span> <span class="token constant">Int</span> <span class="token operator">-&gt;</span> <span class="token constant">Position</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>
<span class="token hvariable">scaleX</span> <span class="token hvariable">h</span> <span class="token hvariable">x</span> <span class="token operator">=</span>
    <span class="token builtin">toString</span> <span class="token punctuation">(</span><span class="token builtin">toFloat</span> <span class="token hvariable">h</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token hvariable">x</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token hvariable">scaleT</span> <span class="token operator">:</span> <span class="token constant">Int</span> <span class="token operator">-&gt;</span> <span class="token constant">Time</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>
<span class="token hvariable">scaleT</span> <span class="token hvariable">w</span> <span class="token hvariable">t</span> <span class="token operator">=</span>
    <span class="token builtin">toString</span> <span class="token punctuation">(</span><span class="token builtin">toFloat</span> <span class="token hvariable">w</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">0.05</span> <span class="token operator">+</span> <span class="token hvariable">t</span> <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token hvariable">viewCircle</span> <span class="token operator">:</span> <span class="token constant">Model</span> <span class="token operator">-&gt;</span> <span class="token constant">Html</span> <span class="token constant">Msg</span>
<span class="token hvariable">viewCircle</span> <span class="token hvariable">m</span> <span class="token operator">=</span>
    <span class="token hvariable">circle</span>
        <span class="token punctuation">[</span> <span class="token hvariable">cy</span> <span class="token punctuation">(</span><span class="token hvariable">scaleX</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">wHeight</span> <span class="token punctuation">(</span><span class="token hvariable">getX0</span> <span class="token hvariable">m</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">,</span> <span class="token hvariable">cx</span> <span class="token punctuation">(</span><span class="token hvariable">scaleT</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">wWidth</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">t</span><span class="token punctuation">)</span>
        <span class="token punctuation">,</span> <span class="token hvariable">r</span> <span class="token string">&quot;10&quot;</span>
        <span class="token punctuation">,</span> <span class="token hvariable">on</span> <span class="token string">&quot;mousedown&quot;</span> <span class="token punctuation">(</span><span class="token hvariable">Decode.map</span> <span class="token constant">DragStart</span> <span class="token hvariable">Mouse.position</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token punctuation">]</span>


<span class="token hvariable">plotPath</span> <span class="token operator">:</span> <span class="token constant">Int</span> <span class="token operator">-&gt;</span> <span class="token constant">Int</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span> <span class="token constant">Time</span><span class="token punctuation">,</span> <span class="token constant">Time</span><span class="token punctuation">,</span> <span class="token constant">Particle</span> <span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>
<span class="token hvariable">plotPath</span> <span class="token hvariable">w</span> <span class="token hvariable">h</span> <span class="token punctuation">(</span> <span class="token hvariable">dt</span><span class="token punctuation">,</span> <span class="token hvariable">tf</span><span class="token punctuation">,</span> <span class="token hvariable">particle</span> <span class="token punctuation">)</span> <span class="token operator">=</span>
    <span class="token keyword">let</span>
        <span class="token hvariable">comb</span> <span class="token hvariable">x</span> <span class="token punctuation">(</span> <span class="token hvariable">t</span><span class="token punctuation">,</span> <span class="token hvariable">s</span> <span class="token punctuation">)</span> <span class="token operator">=</span>
            <span class="token punctuation">(</span> <span class="token hvariable">t</span> <span class="token operator">-</span> <span class="token hvariable">dt</span><span class="token punctuation">,</span> <span class="token hvariable">s</span> <span class="token operator">++</span> <span class="token punctuation">(</span><span class="token hvariable">scaleT</span> <span class="token hvariable">w</span> <span class="token hvariable">t</span><span class="token punctuation">)</span> <span class="token operator">++</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">++</span> <span class="token punctuation">(</span><span class="token hvariable">scaleX</span> <span class="token hvariable">h</span> <span class="token hvariable">x</span><span class="token punctuation">)</span> <span class="token operator">++</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span>
    <span class="token keyword">in</span>
        <span class="token hvariable">Tuple.second</span> <span class="token operator">&lt;|</span> <span class="token hvariable">List.foldl</span> <span class="token hvariable">comb</span> <span class="token punctuation">(</span> <span class="token hvariable">tf</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span> <span class="token hvariable">particle</span><span class="token punctuation">.</span><span class="token hvariable">pos</span>


<span class="token hvariable">plotHistory</span> <span class="token operator">:</span> <span class="token constant">Model</span> <span class="token operator">-&gt;</span> <span class="token constant">List</span> <span class="token punctuation">(</span><span class="token constant">Html</span> <span class="token constant">Msg</span><span class="token punctuation">)</span>
<span class="token hvariable">plotHistory</span> <span class="token hvariable">m</span> <span class="token operator">=</span>
    <span class="token keyword">let</span>
        <span class="token punctuation">(</span> <span class="token hvariable">w</span><span class="token punctuation">,</span> <span class="token hvariable">h</span> <span class="token punctuation">)</span> <span class="token operator">=</span>
            <span class="token punctuation">(</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">wWidth</span><span class="token punctuation">,</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">wHeight</span> <span class="token punctuation">)</span>
    <span class="token keyword">in</span>
        <span class="token hvariable">List.map</span>
            <span class="token punctuation">(</span>\<span class="token punctuation">(</span> <span class="token hvariable">dt</span><span class="token punctuation">,</span> <span class="token hvariable">t</span><span class="token punctuation">,</span> <span class="token hvariable">p</span> <span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
                <span class="token hvariable">polyline</span>
                    <span class="token punctuation">[</span> <span class="token hvariable">stroke</span> <span class="token string">&quot;black&quot;</span>
                    <span class="token punctuation">,</span> <span class="token hvariable">fill</span> <span class="token string">&quot;none&quot;</span>
                    <span class="token punctuation">,</span> <span class="token hvariable">stroke</span> <span class="token punctuation">(</span><span class="token hvariable">gradient</span> <span class="token hvariable">dt</span><span class="token punctuation">)</span>
                    <span class="token punctuation">,</span> <span class="token hvariable">points</span> <span class="token punctuation">(</span><span class="token hvariable">plotPath</span> <span class="token hvariable">w</span> <span class="token hvariable">h</span> <span class="token punctuation">(</span> <span class="token hvariable">dt</span><span class="token punctuation">,</span> <span class="token hvariable">t</span><span class="token punctuation">,</span> <span class="token hvariable">p</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">]</span>
                    <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token punctuation">)</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">dt</span><span class="token punctuation">,</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">t</span><span class="token punctuation">,</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">part</span> <span class="token punctuation">)</span> <span class="token operator">::</span> <span class="token hvariable">m</span><span class="token punctuation">.</span><span class="token hvariable">history</span><span class="token punctuation">)</span>


<span class="token hvariable">gradient</span> <span class="token operator">:</span> <span class="token constant">Time</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>
<span class="token hvariable">gradient</span> <span class="token hvariable">dt</span> <span class="token operator">=</span>
    <span class="token keyword">let</span>
        <span class="token punctuation">(</span> <span class="token hvariable">r</span><span class="token punctuation">,</span> <span class="token hvariable">g</span><span class="token punctuation">,</span> <span class="token hvariable">b</span> <span class="token punctuation">)</span> <span class="token operator">=</span>
            <span class="token punctuation">(</span> <span class="token builtin">round</span> <span class="token punctuation">(</span><span class="token number">255</span> <span class="token operator">*</span> <span class="token hvariable">dt</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">round</span> <span class="token punctuation">(</span><span class="token number">255</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token hvariable">dt</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>

        <span class="token hvariable">col</span> <span class="token operator">=</span>
            <span class="token constant">Hex</span><span class="token punctuation">.</span><span class="token builtin">toString</span> <span class="token punctuation">(</span><span class="token number">256</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">256</span> <span class="token operator">*</span> <span class="token hvariable">r</span> <span class="token operator">+</span> <span class="token hvariable">g</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token hvariable">b</span><span class="token punctuation">)</span>
    <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token hvariable">String.length</span> <span class="token hvariable">col</span> <span class="token operator">&lt;</span> <span class="token number">6</span> <span class="token keyword">then</span>
            <span class="token string">&quot;#&quot;</span> <span class="token operator">++</span> <span class="token hvariable">String.repeat</span> <span class="token punctuation">(</span><span class="token number">6</span> <span class="token operator">-</span> <span class="token hvariable">String.length</span> <span class="token hvariable">col</span><span class="token punctuation">)</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">++</span> <span class="token hvariable">col</span>
        <span class="token keyword">else</span>
            <span class="token string">&quot;#&quot;</span> <span class="token operator">++</span> <span class="token hvariable">col</span>
</code></pre>
</div><div class="code-method-sample" data-lang="py" data-name="Python"><pre class="language-"><code class="lang-python"><span class="token keyword">import</span> math


<span class="token keyword">def</span> <span class="token function">forward_euler</span><span class="token punctuation">(</span>time_step<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> n
    result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">*</span> result<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> time_step
    <span class="token keyword">return</span> result


<span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> time_step<span class="token punctuation">)</span><span class="token punctuation">:</span>
    approx <span class="token operator">=</span> <span class="token boolean">True</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        solution <span class="token operator">=</span> math<span class="token punctuation">.</span>exp<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span> <span class="token operator">*</span> i <span class="token operator">*</span> time_step<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> solution<span class="token punctuation">)</span> <span class="token operator">&gt;</span> threshold<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> solution<span class="token punctuation">)</span>
            approx <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token keyword">return</span> approx


<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    time_step <span class="token operator">=</span> <span class="token number">0.01</span>
    n <span class="token operator">=</span> <span class="token number">100</span>
    threshold <span class="token operator">=</span> <span class="token number">0.01</span>

    result <span class="token operator">=</span> forward_euler<span class="token punctuation">(</span>time_step<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    approx <span class="token operator">=</span> check<span class="token punctuation">(</span>result<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> time_step<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;All values within threshold&quot;</span><span class="token punctuation">)</span> <span class="token keyword">if</span> approx <span class="token keyword">else</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Value(s) not in threshold&quot;</span><span class="token punctuation">)</span>

main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="hs" data-name="Haskell"><pre class="language-"><code class="lang-haskell"><span class="token hvariable">solveEuler</span> <span class="token operator">::</span> <span class="token constant">Num</span> <span class="token hvariable">a</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>
<span class="token hvariable">solveEuler</span> <span class="token hvariable">f</span> <span class="token hvariable">ts</span> <span class="token operator">=</span> <span class="token builtin">iterate</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">x</span> <span class="token operator">-&gt;</span> <span class="token hvariable">x</span> <span class="token operator">+</span> <span class="token hvariable">f</span> <span class="token hvariable">x</span> <span class="token operator">*</span> <span class="token hvariable">ts</span><span class="token punctuation">)</span>

<span class="token hvariable">checkResult</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">a</span><span class="token punctuation">,</span> <span class="token constant">Num</span> <span class="token hvariable">a</span><span class="token punctuation">,</span> <span class="token constant">Num</span> <span class="token hvariable">t</span><span class="token punctuation">,</span> <span class="token constant">Enum</span> <span class="token hvariable">t</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token hvariable">t</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Bool</span>
<span class="token hvariable">checkResult</span> <span class="token hvariable">thresh</span> <span class="token hvariable">check</span> <span class="token operator">=</span>
    <span class="token builtin">and</span><span class="token operator"> . </span><span class="token builtin">zipWith</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">i</span> <span class="token hvariable">k</span> <span class="token operator">-&gt;</span> <span class="token builtin">abs</span> <span class="token punctuation">(</span><span class="token hvariable">check</span> <span class="token hvariable">i</span> <span class="token operator">-</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token hvariable">thresh</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">..</span><span class="token punctuation">]</span>

<span class="token hvariable">kinematics</span> <span class="token operator">::</span> <span class="token constant">Double</span> <span class="token operator">-&gt;</span> <span class="token constant">Double</span>
<span class="token hvariable">kinematics</span> <span class="token hvariable">x</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">3</span> <span class="token operator">*</span> <span class="token hvariable">x</span>

<span class="token hvariable">main</span> <span class="token operator">::</span> <span class="token constant">IO</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token hvariable">main</span> <span class="token operator">=</span>
    <span class="token keyword">let</span> <span class="token hvariable">timestep</span> <span class="token operator">=</span> <span class="token number">0.01</span>
        <span class="token hvariable">n</span> <span class="token operator">=</span> <span class="token number">100</span>
        <span class="token hvariable">threshold</span> <span class="token operator">=</span> <span class="token number">0.01</span>
        <span class="token hvariable">checkResult</span>&apos; <span class="token operator">=</span> <span class="token hvariable">checkResult</span> <span class="token hvariable">threshold</span> <span class="token operator">$</span> <span class="token builtin">exp</span><span class="token operator"> . </span><span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">x</span> <span class="token operator">-&gt;</span> <span class="token operator">-</span><span class="token number">3</span> <span class="token operator">*</span> <span class="token hvariable">x</span> <span class="token operator">*</span> <span class="token hvariable">timestep</span><span class="token punctuation">)</span>
    <span class="token keyword">in</span>  <span class="token builtin">putStrLn</span> <span class="token operator">$</span>
        <span class="token keyword">if</span> <span class="token hvariable">checkResult</span>&apos; <span class="token punctuation">(</span><span class="token builtin">take</span> <span class="token hvariable">n</span> <span class="token operator">$</span> <span class="token hvariable">solveEuler</span> <span class="token hvariable">kinematics</span> <span class="token hvariable">timestep</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">then</span> <span class="token string">&quot;All values within threshold&quot;</span>
        <span class="token keyword">else</span> <span class="token string">&quot;Value(s) not in threshold&quot;</span>
</code></pre>
</div><div class="code-method-sample" data-lang="m" data-name="Matlab"><pre class="language-"><code class="lang-matlab">clc<span class="token punctuation">;</span>clear<span class="token punctuation">;</span>close all

<span class="token comment">%==========================================================================</span>
<span class="token comment">% Define Function</span>
f <span class="token operator">=</span><span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token number">3</span><span class="token operator">*</span>x<span class="token punctuation">;</span>

<span class="token comment">% Define Initial and Final time</span>
tInit<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
tLast<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>

<span class="token comment">% Define number of points</span>
N<span class="token operator">=</span><span class="token number">1e2</span><span class="token punctuation">;</span>

<span class="token comment">% Set Initial Conditions</span>
yInit<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">%==========================================================================</span>

dt<span class="token operator">=</span><span class="token punctuation">(</span>tLast<span class="token operator">-</span>tInit<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">% Calculate dt</span>
t<span class="token operator">=</span><span class="token punctuation">[</span>tInit<span class="token operator">:</span>dt<span class="token operator">:</span>tLast<span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token comment">% Preallocate time array</span>
y<span class="token operator">=</span><span class="token function">zeros</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token function">length</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">% Preallocate solution array</span>
<span class="token function">y</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>yInit<span class="token punctuation">;</span>             <span class="token comment">% Impose Initial Conditions</span>

<span class="token comment">% Loop over time</span>
<span class="token keyword">for</span> <span class="token number">i</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">length</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>

    <span class="token function">t</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">+</span> dt<span class="token punctuation">;</span>             <span class="token comment">% Calculate next time </span>
    <span class="token function">y</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">y</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">f</span><span class="token punctuation">(</span> <span class="token function">y</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token operator">*</span>dt<span class="token punctuation">;</span>   <span class="token comment">% Update solution</span>

<span class="token keyword">end</span>

<span class="token comment">% Plot numerical solution</span>
<span class="token function">plot</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>y<span class="token punctuation">)</span>

<span class="token comment">% Create analytical solution</span>
g<span class="token operator">=</span><span class="token operator">@</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token function">exp</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
z<span class="token operator">=</span><span class="token function">g</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">% Plot analytical solution on the same graph</span>
hold on
<span class="token function">plot</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>z<span class="token punctuation">,</span><span class="token string">&apos;--&apos;</span><span class="token punctuation">)</span>

<span class="token comment">% Set axis, title and legend</span>
<span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">&apos;t&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ylabel</span><span class="token punctuation">(</span><span class="token string">&apos;y(t)&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">title</span><span class="token punctuation">(</span><span class="token string">&apos;Analytical VS Numerical Solution&apos;</span><span class="token punctuation">)</span>
grid
<span class="token function">legend</span><span class="token punctuation">(</span><span class="token string">&apos;Numerical&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;Analytical&apos;</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="swift" data-name="Swift"><pre class="language-"><code class="lang-swift"><span class="token keyword">import</span> <span class="token builtin">Foundation</span>

<span class="token keyword">func</span> <span class="token function">solveEuler</span><span class="token punctuation">(</span>timeStep<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token builtin">Double</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Double</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>n <span class="token punctuation">{</span>
        result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">*</span> result<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> timeStep<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">checkResult</span><span class="token punctuation">(</span>result<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Double</span><span class="token punctuation">]</span><span class="token punctuation">,</span> threshold<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> timeStep<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> isApprox <span class="token operator">=</span> <span class="token boolean">true</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span>result<span class="token punctuation">.</span><span class="token builtin">count</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> solution <span class="token operator">=</span> <span class="token function">exp</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span> <span class="token operator">*</span> <span class="token function">Double</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">*</span> timeStep<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token function">abs</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> solution<span class="token punctuation">)</span> <span class="token operator">&gt;</span> threshold <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> solution<span class="token punctuation">)</span>
            isApprox <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> isApprox
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> timeStep <span class="token operator">=</span> <span class="token number">0.01</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">100</span>
    <span class="token keyword">let</span> threshold <span class="token operator">=</span> <span class="token number">0.01</span>

    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">solveEuler</span><span class="token punctuation">(</span>timeStep<span class="token punctuation">:</span> timeStep<span class="token punctuation">,</span> n<span class="token punctuation">:</span> n<span class="token punctuation">)</span>
    <span class="token keyword">let</span> isApprox <span class="token operator">=</span> <span class="token function">checkResult</span><span class="token punctuation">(</span>result<span class="token punctuation">:</span> result<span class="token punctuation">,</span> threshold<span class="token punctuation">:</span> threshold<span class="token punctuation">,</span> timeStep<span class="token punctuation">:</span> timeStep<span class="token punctuation">)</span>

    <span class="token keyword">if</span> isApprox <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;All values within threshold&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Value(s) not in threshold&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="code-method-sample" data-lang="js" data-name="JavaScript"><pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">forwardEuler</span><span class="token punctuation">(</span><span class="token parameter">timeStep<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">*</span> arr<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> timeStep<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">checkEuler</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> timeStep<span class="token punctuation">,</span> threshold</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> isApprox <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_value<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> solution <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">exp</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span> <span class="token operator">*</span> timeStep <span class="token operator">*</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> solution<span class="token punctuation">)</span> <span class="token operator">&gt;</span> threshold<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> solution<span class="token punctuation">)</span><span class="token punctuation">;</span>
      isApprox <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> isApprox<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> timeStep <span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> threshold <span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> eulerResult <span class="token operator">=</span> <span class="token function">forwardEuler</span><span class="token punctuation">(</span>timeStep<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> checkResult <span class="token operator">=</span> <span class="token function">checkEuler</span><span class="token punctuation">(</span>eulerResult<span class="token punctuation">,</span> timeStep<span class="token punctuation">,</span> threshold<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>checkResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><div class="code-method-sample" data-lang="f90" data-name="Fortran90"><pre class="language-"><code class="lang-fortran"><span class="token keyword">PROGRAM</span> euler

    <span class="token keyword">IMPLICIT NONE</span>
    <span class="token keyword">LOGICAL</span>                            <span class="token operator">::</span> is_approx
    <span class="token keyword">REAL</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">DIMENSION</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">ALLOCATABLE</span> <span class="token operator">::</span> vec
    <span class="token keyword">REAL</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>                            <span class="token operator">::</span> time_step<span class="token punctuation">,</span> threshold
    <span class="token keyword">INTEGER</span>                            <span class="token operator">::</span> n

    time_step <span class="token operator">=</span> <span class="token number">0.01d0</span>
    n         <span class="token operator">=</span> <span class="token number">100</span>
    threshold <span class="token operator">=</span> <span class="token number">0.01d0</span>

    <span class="token keyword">ALLOCATE</span><span class="token punctuation">(</span>vec<span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">CALL</span> forward_euler<span class="token punctuation">(</span>time_step<span class="token punctuation">,</span> n<span class="token punctuation">,</span> vec<span class="token punctuation">)</span>
    is_approx <span class="token operator">=</span> check_result<span class="token punctuation">(</span>vec<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> time_step<span class="token punctuation">)</span>

    <span class="token keyword">WRITE</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> is_approx

    <span class="token keyword">DEALLOCATE</span><span class="token punctuation">(</span>vec<span class="token punctuation">)</span>

<span class="token keyword">CONTAINS</span>

    <span class="token keyword">SUBROUTINE</span> forward_euler<span class="token punctuation">(</span>time_step<span class="token punctuation">,</span> n<span class="token punctuation">,</span> vec<span class="token punctuation">)</span>

        <span class="token keyword">IMPLICIT NONE</span>
        <span class="token keyword">REAL</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">DIMENSION</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTENT</span><span class="token punctuation">(</span><span class="token keyword">OUT</span><span class="token punctuation">)</span>   <span class="token operator">::</span> vec
        <span class="token keyword">REAL</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTENT</span><span class="token punctuation">(</span><span class="token keyword">IN</span><span class="token punctuation">)</span>                  <span class="token operator">::</span> time_step
        <span class="token keyword">INTEGER</span><span class="token punctuation">,</span> <span class="token keyword">INTENT</span><span class="token punctuation">(</span><span class="token keyword">IN</span><span class="token punctuation">)</span>                  <span class="token operator">::</span> n
        <span class="token keyword">INTEGER</span>                              <span class="token operator">::</span> i

        vec<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1d0</span>

        <span class="token keyword">DO</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token operator">-</span><span class="token number">1</span>

            vec<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> vec<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3d0</span> <span class="token operator">*</span> vec<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">*</span> time_step

        <span class="token keyword">END DO</span>
    <span class="token keyword">END SUBROUTINE</span>

    <span class="token keyword">LOGICAL</span> <span class="token keyword">FUNCTION</span> check_result<span class="token punctuation">(</span>euler_result<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> time_step<span class="token punctuation">)</span> 

        <span class="token keyword">IMPLICIT NONE</span>
        <span class="token keyword">REAL</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">DIMENSION</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTENT</span><span class="token punctuation">(</span><span class="token keyword">IN</span><span class="token punctuation">)</span> <span class="token operator">::</span> euler_result
        <span class="token keyword">REAL</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTENT</span><span class="token punctuation">(</span><span class="token keyword">IN</span><span class="token punctuation">)</span>               <span class="token operator">::</span> threshold<span class="token punctuation">,</span> time_step 
        <span class="token keyword">REAL</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>                           <span class="token operator">::</span> time<span class="token punctuation">,</span> solution
        <span class="token keyword">INTEGER</span>                           <span class="token operator">::</span> i

        check_result <span class="token operator">=</span> <span class="token boolean">.TRUE.</span>

        <span class="token keyword">DO</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> SIZE<span class="token punctuation">(</span>euler_result<span class="token punctuation">)</span>

            time <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> time_step
            solution <span class="token operator">=</span> EXP<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3d0</span> <span class="token operator">*</span> time<span class="token punctuation">)</span>

            <span class="token keyword">IF</span> <span class="token punctuation">(</span>ABS<span class="token punctuation">(</span>euler_result<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">-</span> solution<span class="token punctuation">)</span> <span class="token operator">&gt;</span> threshold<span class="token punctuation">)</span> <span class="token keyword">THEN</span>

                <span class="token keyword">WRITE</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">)</span> euler_result<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> solution
                check_result <span class="token operator">=</span> <span class="token boolean">.FALSE.</span>

            <span class="token keyword">END IF</span>
        <span class="token keyword">END DO</span>
    <span class="token keyword">END FUNCTION</span>
<span class="token keyword">END PROGRAM</span> euler
</code></pre>
</div><div class="code-method-sample" data-lang="go" data-name="Go"><pre class="language-"><code class="lang-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;math&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">forwardEuler</span><span class="token punctuation">(</span>timeStep <span class="token builtin">float64</span><span class="token punctuation">,</span> n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float64</span> <span class="token punctuation">{</span>
    result <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float64</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> x <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> x<span class="token operator">++</span> <span class="token punctuation">{</span>
        result<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">[</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token operator">*</span>result<span class="token punctuation">[</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>timeStep
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">check</span><span class="token punctuation">(</span>result <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float64</span><span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> timeStep <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    approx <span class="token operator">:=</span> <span class="token boolean">true</span>
    <span class="token keyword">for</span> x <span class="token operator">:=</span> <span class="token number">0.</span><span class="token punctuation">;</span> <span class="token function">int</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> x<span class="token operator">++</span> <span class="token punctuation">{</span>
        solution <span class="token operator">:=</span> math<span class="token punctuation">.</span><span class="token function">Exp</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3.</span> <span class="token operator">*</span> x <span class="token operator">*</span> timeStep<span class="token punctuation">)</span>
        <span class="token keyword">if</span> math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token function">int</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">-</span>solution<span class="token punctuation">)</span> <span class="token operator">&gt;</span> threshold <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token function">int</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> solution<span class="token punctuation">)</span>
            approx <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> approx
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    timeStep<span class="token punctuation">,</span> threshold <span class="token operator">:=</span> <span class="token number">.01</span><span class="token punctuation">,</span> <span class="token number">.01</span>
    n <span class="token operator">:=</span> <span class="token number">100</span>

    result <span class="token operator">:=</span> <span class="token function">forwardEuler</span><span class="token punctuation">(</span>timeStep<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token function">check</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> timeStep<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;All values within threshold&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Value(s) not within threshold&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="v" data-name="Vlang"><pre class="language-"><code class="lang-v"><span class="token keyword">import</span> math

<span class="token keyword">fn</span> <span class="token function">forward_euler</span><span class="token punctuation">(</span>timestep <span class="token builtin">f64</span><span class="token punctuation">,</span> n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">f64</span> <span class="token punctuation">{</span>
    <span class="token keyword">mut</span> res <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token function">f64</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">f64</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> x <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> x<span class="token operator">++</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">[</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">3.0</span><span class="token operator">*</span>res<span class="token punctuation">[</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>timestep
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function">check</span><span class="token punctuation">(</span>result <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">f64</span><span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> timestep <span class="token builtin">f64</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">mut</span> approx <span class="token operator">:=</span> <span class="token boolean">true</span>
    <span class="token keyword">for</span> x <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> result<span class="token punctuation">.</span>len<span class="token punctuation">;</span> x<span class="token operator">++</span> <span class="token punctuation">{</span>
        solution <span class="token operator">:=</span> math<span class="token punctuation">.</span><span class="token function">exp</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3.0</span> <span class="token operator">*</span> <span class="token function">f64</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">*</span> timestep<span class="token punctuation">)</span>
        <span class="token keyword">if</span> math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">-</span>solution<span class="token punctuation">)</span> <span class="token operator">&gt;</span> threshold <span class="token punctuation">{</span>
            tmp <span class="token operator">:=</span> result<span class="token punctuation">[</span>x<span class="token punctuation">]</span>
            <span class="token function">println</span><span class="token punctuation">(</span><span class="token string quoted-string">&quot;There is a mismatch: abs(<span class="token interpolation"><span class="token interpolation-variable variable">$tmp</span></span>-<span class="token interpolation"><span class="token interpolation-variable variable">$solution</span></span>) &gt; <span class="token interpolation"><span class="token interpolation-variable variable">$threshold</span></span>!&quot;</span><span class="token punctuation">)</span>
            approx <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> approx
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    timestep <span class="token operator">:=</span> <span class="token punctuation">.</span><span class="token number">01</span>
    threshold <span class="token operator">:=</span> <span class="token punctuation">.</span><span class="token number">01</span>
    n <span class="token operator">:=</span> <span class="token number">100</span>

    result <span class="token operator">:=</span> <span class="token function">forward_euler</span><span class="token punctuation">(</span>timestep<span class="token punctuation">,</span> n<span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token function">check</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> timestep<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string quoted-string">&quot;All values within threshold&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string quoted-string">&quot;Value(s) not within threshold&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="asm-x64" data-name="X86-64 Assembly"><pre class="language-"><code class="lang-asm-x64">.intel_syntax noprefix

.section .rodata
  <span class="token label function">three:</span>      .double <span class="token operator">-</span><span class="token number">3.0</span>
  <span class="token label function">fabs_const:</span>
              .long   <span class="token number">4294967295</span>
              .long   <span class="token number">2147483647</span>
              .long   <span class="token number">0</span>
              .long   <span class="token number">0</span>
  <span class="token label function">inital_val:</span> .double <span class="token number">1.0</span>
  <span class="token label function">threshold:</span>  .double <span class="token number">0.01</span>
  <span class="token label function">timestep:</span>   .double <span class="token number">0.01</span>
  <span class="token label function">error_fmt:</span>  .string <span class="token string">&quot;%f    %f\n&quot;</span>
  <span class="token label function">fmt:</span>        .string <span class="token string">&quot;%d\n&quot;</span>

.section .text
  .<span class="token keyword">global main</span>
  .<span class="token keyword">extern printf</span>
  .<span class="token keyword">extern exp</span>

# <span class="token register variable">rdi</span>  <span class="token operator">-</span> array size
# <span class="token register variable">rsi</span>  <span class="token operator">-</span> array ptr
# <span class="token register variable">xmm0</span> <span class="token operator">-</span> timestep
<span class="token label function">solve_euler:</span>
  movsd  <span class="token register variable">xmm1</span>, inital_val
  lea    <span class="token register variable">rax</span>, <span class="token operator">[</span><span class="token register variable">rsi</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token register variable">rdi</span> <span class="token operator">+</span> <span class="token number">8</span><span class="token operator">]</span>    # Set to end of the array
<span class="token label function">solve_euler_loop:</span>
  movsd  <span class="token register variable">xmm3</span>, three                 # Set to <span class="token operator">-</span><span class="token number">3.0</span>
  mulsd  <span class="token register variable">xmm2</span>, <span class="token register variable">xmm1</span>                  # <span class="token register variable">xmm2</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">3.0</span> <span class="token operator">*</span> array<span class="token operator">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token operator">]</span> <span class="token operator">*</span> timestep
  mulsd  <span class="token register variable">xmm2</span>, <span class="token register variable">xmm0</span>
  subsd  <span class="token register variable">xmm1</span>, <span class="token register variable">xmm2</span>                  # <span class="token register variable">xmm1</span> <span class="token operator">=</span> <span class="token register variable">xmm1</span> <span class="token operator">-</span> <span class="token register variable">xmm2</span>
  movsd  QWORD PTR <span class="token operator">[</span><span class="token register variable">rsi</span><span class="token operator">]</span>, <span class="token register variable">xmm1</span>
  add    <span class="token register variable">rsi</span>, <span class="token number">8</span>
  cmp    <span class="token register variable">rsi</span>, <span class="token register variable">rax</span>                    # Test if we have gone through the array
  jne    solve_euler_loop
<span class="token label function">solve_euler_return:</span>
  ret

# <span class="token register variable">rdi</span>  <span class="token operator">-</span> array size
# <span class="token register variable">rsi</span>  <span class="token operator">-</span> array ptr
# <span class="token register variable">xmm0</span> <span class="token operator">-</span> timestep
# <span class="token register variable">xmm1</span> <span class="token operator">-</span> threshold
# RET <span class="token register variable">rax</span> <span class="token operator">-</span> success code <span class="token number">0</span> if sucess else <span class="token number">1</span>
<span class="token label function">check_result:</span>
  push   <span class="token register variable">r12</span>
  push   <span class="token register variable">r13</span>
  xor    <span class="token register variable">rax</span>, <span class="token register variable">rax</span>                    # Return code is <span class="token number">0</span>
  xor    <span class="token register variable">r12</span>, <span class="token register variable">r12</span>                    # The index is set to <span class="token number">0</span>
  mov    <span class="token register variable">r13</span>, <span class="token register variable">rdi</span>                    # Moving array size to free <span class="token register variable">rdi</span> for printf
  movsd  <span class="token register variable">xmm2</span>, <span class="token register variable">xmm0</span>                  # Moving timestep to free <span class="token register variable">xmm0</span> for exp
  jmp    loop_check
<span class="token label function">results_loop:</span>
  cvtsi2sd <span class="token register variable">xmm0</span>, <span class="token register variable">r12</span>                 # Making int to a double
  movsd  <span class="token register variable">xmm3</span>, three                 # Calculating exp(<span class="token operator">-</span><span class="token number">3.0</span> <span class="token operator">*</span> i <span class="token operator">*</span> timestep)
  mulsd  <span class="token register variable">xmm0</span>, <span class="token register variable">xmm3</span>
  mulsd  <span class="token register variable">xmm0</span>, <span class="token register variable">xmm2</span>
  call   exp
  movsd  <span class="token register variable">xmm3</span>, QWORD PTR <span class="token operator">[</span><span class="token register variable">rsi</span> <span class="token operator">+</span> <span class="token register variable">r12</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token operator">]</span> # Calculating abs(array<span class="token operator">[</span>i<span class="token operator">]</span> <span class="token operator">-</span> <span class="token register variable">xmm0</span>)
  subsd  <span class="token register variable">xmm2</span>, <span class="token register variable">xmm3</span>
  movq   <span class="token register variable">xmm3</span>, fabs_const
  andpd  <span class="token register variable">xmm0</span>, <span class="token register variable">xmm3</span>
  comisd <span class="token register variable">xmm0</span>, <span class="token register variable">xmm1</span>                  # Check if abs(...) <span class="token operator">&gt;</span> threshold
  jbe    if_false
  mov    <span class="token register variable">rdi</span>, OFFSET error_fmt       # If true print out array<span class="token operator">[</span>i<span class="token operator">]</span> and solution
  mov    <span class="token register variable">rax</span>, <span class="token number">1</span>
  call   printf
  mov    <span class="token register variable">rax</span>, <span class="token number">1</span>                      # and set sucess code to failed (<span class="token register variable">rax</span> <span class="token operator">=</span> <span class="token number">1</span>)
<span class="token label function">if_false:</span>
  add    <span class="token register variable">r12</span>, <span class="token number">1</span>
<span class="token label function">loop_check:</span>
  cmp    <span class="token register variable">r12</span>, <span class="token register variable">r13</span>                    # Check if index is less the array size
  jle    results_loop
  pop    <span class="token register variable">r13</span>
  pop    <span class="token register variable">r12</span>
  ret

<span class="token label function">main:</span>
  push   <span class="token register variable">rbp</span>
  sub    <span class="token register variable">rsp</span>, <span class="token number">800</span>                    # Making double array<span class="token operator">[</span><span class="token number">100</span><span class="token operator">]</span>
  mov    <span class="token register variable">rdi</span>, <span class="token number">100</span>
  mov    <span class="token register variable">rsi</span>, <span class="token register variable">rsp</span>
  movsd  <span class="token register variable">xmm0</span>, timestep
  call   solve_euler                 # Calling solve_euler
  mov    <span class="token register variable">rdi</span>, <span class="token number">100</span>
  mov    <span class="token register variable">rsi</span>, <span class="token register variable">rsp</span>
  movsd  <span class="token register variable">xmm0</span>, timestep
  movsd  <span class="token register variable">xmm1</span>, threshold
  call   check_result                # Check if results are correct
  mov    <span class="token register variable">rdi</span>, OFFSET fmt
  mov    <span class="token register variable">rsi</span>, <span class="token register variable">rax</span>
  xor    <span class="token register variable">rax</span>, <span class="token register variable">rax</span>
  call   printf                      # Print out success code
  add    <span class="token register variable">rsp</span>, <span class="token number">800</span>                    # Deallocating array
  pop    <span class="token register variable">rbp</span>
  xor    <span class="token register variable">rax</span>, <span class="token register variable">rax</span>
  ret
</code></pre>
</div><div class="code-method-sample" data-lang="java" data-name="Java"><pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ForwardEuler</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">solveEuler</span><span class="token punctuation">(</span><span class="token keyword">double</span> timestep<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> eulerResult <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">//Setting the initial condition</span>
        eulerResult<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> eulerResult<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            eulerResult<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> eulerResult<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> eulerResult<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> timestep<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> eulerResult<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">checkResult</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> eulerResult<span class="token punctuation">,</span> <span class="token keyword">double</span> threshold<span class="token punctuation">,</span> <span class="token keyword">double</span> timestep<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">boolean</span> isApprox <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> eulerResult<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">double</span> time <span class="token operator">=</span> i <span class="token operator">*</span> timestep<span class="token punctuation">;</span>
            <span class="token keyword">double</span> solution <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">exp</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span> <span class="token operator">*</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>eulerResult<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> solution<span class="token punctuation">)</span> <span class="token operator">&gt;</span> threshold<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>eulerResult<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> solution<span class="token punctuation">)</span><span class="token punctuation">;</span>
                isApprox <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> isApprox<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">double</span> timestep <span class="token operator">=</span> <span class="token number">0.1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> threshold <span class="token operator">=</span> <span class="token number">0.1</span><span class="token punctuation">;</span>

        <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> eulerResult <span class="token operator">=</span> <span class="token function">solveEuler</span><span class="token punctuation">(</span>timestep<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> isApprox <span class="token operator">=</span> <span class="token function">checkResult</span><span class="token punctuation">(</span>eulerResult<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> timestep<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>isApprox<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="code-method-sample" data-lang="nim" data-name="Nim"><pre class="language-"><code class="lang-nim"><span class="token keyword">import</span> math

<span class="token keyword">proc</span> <span class="token function">solveEuler</span><span class="token punctuation">(</span>timestep<span class="token operator">:</span> float<span class="token punctuation">,</span> n<span class="token operator">:</span> int<span class="token punctuation">)</span><span class="token operator">:</span> seq<span class="token punctuation">[</span>float<span class="token punctuation">]</span> <span class="token operator">=</span>
  <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token function">newSeq[float]</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>

  res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1.0</span>

  <span class="token keyword">for</span> i <span class="token operator">in</span> <span class="token number">1</span> <span class="token operator">..</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">:</span>
    res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">*</span> res<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> timestep

  <span class="token keyword">return</span> res

<span class="token keyword">proc</span> <span class="token function">check</span><span class="token punctuation">(</span>res<span class="token operator">:</span> seq<span class="token punctuation">[</span>float<span class="token punctuation">]</span><span class="token punctuation">,</span> timestep<span class="token punctuation">,</span> threshold<span class="token operator">:</span> float<span class="token punctuation">)</span><span class="token operator">:</span> bool <span class="token operator">=</span>
  <span class="token keyword">var</span> approx<span class="token operator">:</span> bool <span class="token operator">=</span> true;

  <span class="token keyword">for</span> i <span class="token operator">in</span> <span class="token number">0</span> <span class="token operator">..</span> <span class="token function">len</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">:</span>
    <span class="token keyword">let</span> solution<span class="token operator">:</span> float <span class="token operator">=</span> <span class="token function">exp</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3.0</span> <span class="token operator">*</span> <span class="token function">float</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">*</span> timestep<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token function">abs</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> solution <span class="token operator">&gt;</span> threshold<span class="token operator">:</span>
      echo res<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
      echo solution
      approx <span class="token operator">=</span> false

  <span class="token keyword">return</span> approx

<span class="token keyword">const</span>
  timestep<span class="token operator">:</span> float <span class="token operator">=</span> <span class="token number">0.1</span>
  n<span class="token operator">:</span> int <span class="token operator">=</span> <span class="token number">100</span>
  threshold<span class="token operator">:</span> float <span class="token operator">=</span> <span class="token number">0.1</span>
  eulerResult<span class="token operator">:</span> seq<span class="token punctuation">[</span>float<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">solveEuler</span><span class="token punctuation">(</span>timestep<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
  approx<span class="token operator">:</span> bool <span class="token operator">=</span> <span class="token function">check</span><span class="token punctuation">(</span>eulerResult<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> timestep<span class="token punctuation">)</span>

echo approx
</code></pre>
</div><div class="code-method-sample" data-lang="lisp" data-name="Common Lisp"><pre class="language-"><code class="lang-lisp"><span class="token heading comment title">;;;; Forward euler implementation in Common Lisp</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">solve-euler</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">timestep</span> <span class="token argument variable">n</span></span><span class="token punctuation">)</span></span>
  <span class="token string">&quot;Returns a function where y&apos;(t) = -3t and y(0) = 0 using the forward euler method&quot;</span>
  <span class="token punctuation">(</span><span class="token car">loop</span>
    with result = <span class="token punctuation">(</span><span class="token car">make-array</span> n <span class="token lisp-property property">:initial-element</span> <span class="token number">1</span><span class="token punctuation">)</span>
    for i from <span class="token number">1</span> upto <span class="token punctuation">(</span><span class="token car">1-</span> n<span class="token punctuation">)</span> do
    <span class="token punctuation">(</span><span class="token car">setf</span> <span class="token punctuation">(</span><span class="token car">svref</span> result i<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token car">-</span> <span class="token punctuation">(</span><span class="token car">svref</span> result <span class="token punctuation">(</span><span class="token car">1-</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token car">*</span> <span class="token number">3</span> <span class="token punctuation">(</span><span class="token car">svref</span> result <span class="token punctuation">(</span><span class="token car">1-</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span> timestep<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    finally <span class="token punctuation">(</span><span class="token keyword">return</span> result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">approximatep</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">result</span> <span class="token argument variable">threshold</span> <span class="token argument variable">timestep</span></span><span class="token punctuation">)</span></span>
  <span class="token string">&quot;Checks the result from the solve-euler function&quot;</span>
  <span class="token punctuation">(</span><span class="token car">loop</span>
    with approximatep = <span class="token boolean">t</span>
    with solution = <span class="token number">0</span>
    for i from <span class="token number">0</span> upto <span class="token punctuation">(</span><span class="token car">1-</span> <span class="token punctuation">(</span><span class="token car">length</span> result<span class="token punctuation">)</span><span class="token punctuation">)</span> do
    <span class="token punctuation">(</span><span class="token car">setf</span> solution <span class="token punctuation">(</span><span class="token car">exp</span> <span class="token punctuation">(</span><span class="token car">*</span> <span class="token punctuation">(</span><span class="token car">-</span> <span class="token number">3</span><span class="token punctuation">)</span> i timestep<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token keyword">when</span> <span class="token punctuation">(</span><span class="token car">&gt;</span> <span class="token punctuation">(</span><span class="token car">-</span> <span class="token punctuation">(</span><span class="token car">svref</span> result i<span class="token punctuation">)</span> solution<span class="token punctuation">)</span> threshold<span class="token punctuation">)</span>
      <span class="token punctuation">(</span><span class="token car">setf</span> approximatep <span class="token boolean">nil</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span><span class="token car">format</span> <span class="token boolean">t</span> <span class="token string">&quot;~d ~d~%&quot;</span> <span class="token punctuation">(</span><span class="token car">svref</span> result i<span class="token punctuation">)</span> solution<span class="token punctuation">)</span><span class="token punctuation">)</span>
    finally <span class="token punctuation">(</span><span class="token keyword">return</span> approximatep<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defvar"><span class="token keyword">defvar</span> <span class="token variable">timestep</span></span> <span class="token number">0.01</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token defvar"><span class="token keyword">defvar</span> <span class="token variable">n</span></span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">; number of steps</span>
<span class="token punctuation">(</span><span class="token defvar"><span class="token keyword">defvar</span> <span class="token variable">threshold</span></span> <span class="token number">0.01</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defvar"><span class="token keyword">defvar</span> <span class="token variable">result</span></span> <span class="token punctuation">(</span><span class="token car">solve-euler</span> timestep n<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token defvar"><span class="token keyword">defvar</span> <span class="token variable">approximatep</span></span> <span class="token punctuation">(</span><span class="token car">approximatep</span> result threshold timestep<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token car">format</span> <span class="token boolean">t</span> <span class="token string">&quot;~:[Value(s) not in threshold~;All values within threshold~]~%&quot;</span> approximatep<span class="token punctuation">)</span>
</code></pre>
</div></div></div>

<script>
MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
</script>

<h2 id="license">License</h2>
<h5 id="code-examples">Code Examples</h5>
<p>The code examples are licensed under the MIT license (found in <a href="https://github.com/algorithm-archivists/algorithm-archive/blob/master/LICENSE.md" target="_blank">LICENSE.md</a>).</p>
<h5 id="text">Text</h5>
<p>The text of this chapter was written by <a href="https://github.com/leios" target="_blank">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
<p><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><p><img class="center" src="../cc/CC-BY-SA_icon.svg"></p></a></p>
<h5 id="imagesgraphics">Images/Graphics</h5>
<ul>
<li>The image &quot;<a href="res/error.png">FEerror</a>&quot; was created by <a href="https://github.com/leios" target="_blank">James Schloss</a> and is licenced under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The image &quot;<a href="res/instability.png">FEinstability</a>&quot; was created by <a href="https://github.com/leios" target="_blank">James Schloss</a> and is licenced under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
</ul>
<h5 id="pull-requests">Pull Requests</h5>
<p>After initial licensing (<a href="https://github.com/algorithm-archivists/algorithm-archive/pull/560" target="_blank">#560</a>), the following pull requests have modified the text or graphics of this chapter:</p>
<ul>
<li>none</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../differential_equations/differential_equations.html" class="navigation navigation-prev " aria-label="Previous page: Differential Equation Solvers">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../physics_solvers/physics_solvers.html" class="navigation navigation-next " aria-label="Next page: Physics Solvers">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Forward Euler Method","level":"1.14.1","depth":2,"next":{"title":"Physics Solvers","level":"1.15","depth":1,"path":"contents/physics_solvers/physics_solvers.md","ref":"contents/physics_solvers/physics_solvers.md","articles":[{"title":"Verlet Integration","level":"1.15.1","depth":2,"path":"contents/verlet_integration/verlet_integration.md","ref":"contents/verlet_integration/verlet_integration.md","articles":[]},{"title":"Quantum Systems","level":"1.15.2","depth":2,"path":"contents/quantum_systems/quantum_systems.md","ref":"contents/quantum_systems/quantum_systems.md","articles":[{"title":"Split-Operator Method","level":"1.15.2.1","depth":3,"path":"contents/split-operator_method/split-operator_method.md","ref":"contents/split-operator_method/split-operator_method.md","articles":[]}]}]},"previous":{"title":"Differential Equation Solvers","level":"1.14","depth":1,"path":"contents/differential_equations/differential_equations.md","ref":"contents/differential_equations/differential_equations.md","articles":[{"title":"Forward Euler Method","level":"1.14.1","depth":2,"path":"contents/forward_euler_method/forward_euler_method.md","ref":"contents/forward_euler_method/forward_euler_method.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["mathjax@https://github.com/algorithm-archivists/plugin-mathjax","bibtex-cite","wordcount","api-language-selector@https://github.com/algorithm-archivists/gitbook-plugin-api-language-selector.git","include-codeblock","bulk-redirect","prism","-highlight"],"root":"./","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"api-language-selector":{"languages":[{"lang":"jl","name":"Julia","default":true},{"lang":"bash","name":"Bash"},{"lang":"cs","name":"C#"},{"lang":"cpp","name":"C++"},{"lang":"c","name":"C"},{"lang":"c8","name":"chip-8"},{"lang":"py","name":"Python"},{"lang":"js","name":"JavaScript"},{"lang":"scratch","name":"Scratch"},{"lang":"hs","name":"Haskell"},{"lang":"rs","name":"Rust"},{"lang":"ml","name":"OCaml"},{"lang":"java","name":"Java"},{"lang":"clj","name":"Clojure"},{"lang":"elm","name":"Elm"},{"lang":"LabVIEW","name":"LabVIEW"},{"lang":"d","name":"D"},{"lang":"go","name":"Go"},{"lang":"swift","name":"Swift"},{"lang":"racket","name":"Racket"},{"lang":"m","name":"Matlab"},{"lang":"r","name":"R"},{"lang":"ti83b","name":"TI-83 Basic"},{"lang":"lua","name":"Lua"},{"lang":"crystal","name":"Crystal"},{"lang":"php","name":"PHP"},{"lang":"lisp","name":"Common Lisp"},{"lang":"nim","name":"Nim"},{"lang":"asm-x64","name":"X86-64 Assembly"},{"lang":"f90","name":"Fortran90"},{"lang":"factor","name":"Factor"},{"lang":"ws","name":"Whitespace"},{"lang":"scala","name":"Scala"},{"lang":"emojic","name":"Emojicode"},{"lang":"lolcode","name":"LOLCODE"},{"lang":"piet","name":"Piet"},{"lang":"ss","name":"Scheme"},{"lang":"ps1","name":"PowerShell"},{"lang":"v","name":"Vlang"},{"lang":"coffee","name":"CoffeeScript"},{"lang":"kotlin","name":"Kotlin"},{"lang":"ts","name":"TypeScript"},{"lang":"vim","name":"VimL"},{"lang":"coco","name":"Coconut"},{"lang":"dart","name":"Dart"}]},"prism":{"lang":{"asm-x64":"nasm"},"ignore":["emojicode","text"],"css":["prismjs/themes/prism-tomorrow.css"]},"wordcount":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"bulk-redirect":{"basepath":"/","redirectsFile":"redirects.json"},"bibtex-cite":{},"mathjax":{"forceSVG":false,"version":"2.6.1"},"include-codeblock":{"check":false,"edit":false,"lang":"","fixlang":true,"template":"default","theme":"chrome","unindent":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","lunr":{"maxIndexSize":1000000000},"honkit":">= 3.0.0","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"bibCount":0,"variables":{},"title":"Arcane Algorithm Archive","bib":[{"citationKey":"CT1965","entryType":"ARTICLE","entryTags":{"TITLE":"An algorithm for the machine calculation of complex Fourier series","AUTHOR":"Cooley, James W and Tukey, John W","JOURNAL":"Mathematics of computation","VOLUME":"19","NUMBER":"90","PAGES":"297--301","YEAR":"1965","PUBLISHER":"JSTOR"}},{"citationKey":"JM1973","entryType":"ARTICLE","entryTags":{"TITLE":"On the identification of the convex hull of a finite set of points in the plane","AUTHOR":"Jarvis, Ray A","JOURNAL":"Information processing letters","VOLUME":"2","NUMBER":"1","PAGES":"18--21","YEAR":"1973","PUBLISHER":"Elsevier"}},{"citationKey":"GS1972","entryType":"ARTICLE","entryTags":{"TITLE":"An efficient algorithm for determining the convex hull of a finite planar set","AUTHOR":"Graham, Ronald L","JOURNAL":"Information processing letters","VOLUME":"1","NUMBER":"4","PAGES":"132--133","YEAR":"1972","PUBLISHER":"Elsevier"}},{"citationKey":"GNUPLOT","entryType":"MISC","entryTags":{"TITLE":"Gnuplot 5.0: An Interactive Plotting Program, Official Gnuplot Documentation","AUTHOR":"Williams, T and Kelley, C","YEAR":"2015"}},{"citationKey":"BEDE725","entryType":"BOOK","entryTags":{"TITLE":"Bede, the Reckoning of Time","AUTHOR":"Venerabilis, Beda and others","VOLUME":"29","YEAR":"1999","PUBLISHER":"Liverpool University Press"}},{"citationKey":"DICTCOMPUTUS","entryType":"MISC","entryTags":{"TITLE":"Dictionary.com definition of computus","URL":"https://www.merriam-webster.com/dictionary/computus","YEAR":"2020"}},{"citationKey":"COMPUTUS1876","entryType":"ARTICLE","entryTags":{"TITLE":"To find Easter: a new York correspondent sends us the following","AUTHOR":"unknown","JOURNAL":"Nature","YEAR":"1876"}},{"citationKey":"BIEN2004","entryType":"ARTICLE","entryTags":{"TITLE":"Gauss and beyond: The making of Easter algorithms","AUTHOR":"Bien, Reinhold","JOURNAL":"Archive for history of exact sciences","VOLUME":"58","NUMBER":"5","PAGES":"439--452","YEAR":"2004","PUBLISHER":"Springer"}},{"citationKey":"SERVOIS","entryType":"INPROCEEDINGS","entryTags":{"TITLE":"84 Calendrier","AUTHOR":"Servois, M","BOOKTITLE":"Annales de MathÃ©matiques pures et appliquÃ©es","VOLUME":"4","NUMBER":"1813-1814","PAGES":"84--90"}},{"citationKey":"STANDISH2004","entryType":"ARTICLE","entryTags":{"TITLE":"The astronomical unit now","AUTHOR":"Standish, EM","JOURNAL":"Proceedings of the International Astronomical Union","VOLUME":"2004","NUMBER":"IAUC196","PAGES":"163--179","YEAR":"2004","PUBLISHER":"Cambridge University Press"}},{"citationKey":"LUNAR_MONTH_WIKI","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Lunar Month","URL":"https://en.wikipedia.org/wiki/Lunar_month","YEAR":"2020"}},{"citationKey":"SELF-SIMILAR","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Self-similarity","URL":"https://en.wikipedia.org/wiki/Self-similarity","YEAR":"2019"}},{"citationKey":"HAUSDORFF","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Hausdorff dimension","URL":"https://en.wikipedia.org/wiki/Hausdorff_dimension","YEAR":"2019"}},{"citationKey":"3B1BFRACTAL","entryType":"MISC","entryTags":{"AUTHOR":"Sanderson, G","TITLE":"3blue1brown: Fractals are typically not self-similar","URL":"https://www.youtube.com/watch?v=gB9n2gHsHN4","YEAR":"2017"}},{"citationKey":"MANDELBROT1983FRACTAL","entryType":"BOOK","entryTags":{"TITLE":"The fractal geometry of nature","AUTHOR":"Mandelbrot, Benoit B","VOLUME":"173","YEAR":"1983","PUBLISHER":"WH freeman New York"}},{"citationKey":"MANDELBROT1967LONG","entryType":"ARTICLE","entryTags":{"TITLE":"How long is the coast of Britain? Statistical self-similarity and fractional dimension","AUTHOR":"Mandelbrot, Benoit","JOURNAL":"science","VOLUME":"156","NUMBER":"3775","PAGES":"636--638","YEAR":"1967","PUBLISHER":"American Association for the Advancement of Science"}},{"citationKey":"JAMPOUR2010NEW","entryType":"ARTICLE","entryTags":{"TITLE":"A new fast technique for fingerprint identification with fractal and chaos game theory","AUTHOR":"Jampour, Mahdi and Yaghoobi, Mahdi and Ashourzadeh, Maryam and Soleimani, Adel","JOURNAL":"Fractals","VOLUME":"18","NUMBER":"03","PAGES":"293--300","YEAR":"2010","PUBLISHER":"World Scientific"}},{"citationKey":"FRACTAL-COMPRESSION","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Fractal Compression","URL":"https://en.wikipedia.org/wiki/Fractal_compression","YEAR":"2019"}},{"citationKey":"SAUPE1994REVIEW","entryType":"ARTICLE","entryTags":{"TITLE":"A review of the fractal image compression literature","AUTHOR":"Saupe, Dietmar and Hamzaoui, Raouf","JOURNAL":"ACM SIGGRAPH Computer Graphics","VOLUME":"28","NUMBER":"4","PAGES":"268--276","YEAR":"1994","PUBLISHER":"ACM"}},{"citationKey":"GNEITING2012ESTIMATORS","entryType":"ARTICLE","entryTags":{"TITLE":"Estimators of fractal dimension: Assessing the roughness of time series and spatial data","AUTHOR":"Gneiting, Tilmann and Å evÄÃ­kovÃ¡, Hana and Percival, Donald B","JOURNAL":"Statistical Science","PAGES":"247--277","YEAR":"2012","PUBLISHER":"JSTOR"}},{"citationKey":"HUTCHINSON1981FRACTALS","entryType":"ARTICLE","entryTags":{"TITLE":"Fractals and self similarity","AUTHOR":"Hutchinson, John E","JOURNAL":"Indiana University Mathematics Journal","VOLUME":"30","NUMBER":"5","PAGES":"713--747","YEAR":"1981","PUBLISHER":"JSTOR"}},{"citationKey":"HUTCHINSON-OPERATOR","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Hutchinson Operator","URL":"https://en.wikipedia.org/wiki/Hutchinson_operator","YEAR":"2019"}},{"citationKey":"CHAOS-GAME","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: Chaos Game","URL":"https://en.wikipedia.org/wiki/Chaos_game","YEAR":"2019"}},{"citationKey":"CHAOS-GAME-WOLF","entryType":"MISC","entryTags":{"TITLE":"Wolfram: Chaos Game","URL":"http://mathworld.wolfram.com/ChaosGame.html","YEAR":"2019"}},{"citationKey":"BARNSLEY2014FRACTALS","entryType":"BOOK","entryTags":{"TITLE":"Fractals everywhere","AUTHOR":"Barnsley, Michael F","YEAR":"2014","PUBLISHER":"Academic press"}},{"citationKey":"HSV","entryType":"MISC","entryTags":{"TITLE":"Wikipedia: HSL and HSV","URL":"https://en.wikipedia.org/wiki/HSL_and_HSV","YEAR":"2020"}},{"citationKey":"SCHLOSS2019","entryType":"ARTICLE","entryTags":{"TITLE":"Massively parallel split-step Fourier techniques for simulating quantum systems on graphics processing units","AUTHOR":"Schloss, James","YEAR":"2019"}},{"citationKey":"PETHICK2008","entryType":"BOOK","entryTags":{"TITLE":"Bose--Einstein condensation in dilute gases","AUTHOR":"Pethick, Christopher J and Smith, Henrik","YEAR":"2008","PUBLISHER":"Cambridge university press"}},{"citationKey":"WEGERT2012","entryType":"BOOK","entryTags":{"TITLE":"Visual complex functions: an introduction with phase portraits","AUTHOR":"Wegert, Elias","YEAR":"2012","PUBLISHER":"Springer Science \\& Business Media"}},{"citationKey":"POELKEDOMAIN","entryType":"ARTICLE","entryTags":{"TITLE":"Domain Coloring of Complex Functions","AUTHOR":"Poelke, Konstantin and Polthier, Konrad"}},{"citationKey":"LUNDMARK2004","entryType":"ARTICLE","entryTags":{"TITLE":"Visualizing complex analytic functions using domain coloring","AUTHOR":"Lundmark, Hans","JOURNAL":"Recuperado el","VOLUME":"24","YEAR":"2004"}},{"citationKey":"GIMP_BUCKET","entryType":"MISC","entryTags":{"TITLE":"Bucket Fill in Gimp","URL":"https://docs.gimp.org/2.10/en/gimp-tool-bucket-fill.html","YEAR":"2020"}},{"citationKey":"TORBERT2016","entryType":"BOOK","entryTags":{"TITLE":"Applied computer science","AUTHOR":"Torbert, Shane","YEAR":"2016","PAGES":"158","PUBLISHER":"Springer"}},{"citationKey":"CANNY1986COMPUTATIONAL","entryType":"ARTICLE","entryTags":{"TITLE":"A computational approach to edge detection","AUTHOR":"Canny, John","JOURNAL":"IEEE Transactions on pattern analysis and machine intelligence","NUMBER":"6","PAGES":"679--698","YEAR":"1986","PUBLISHER":"Ieee"}},{"citationKey":"MORRIS1978COUNTING","entryType":"ARTICLE","entryTags":{"TITLE":"Counting large numbers of events in small registers","AUTHOR":"Morris, R","JOURNAL":"Communications of the ACM","VOLUME":"21","NUMBER":"10","PAGES":"840--842","YEAR":"1978","PUBLISHER":"ACM New York, NY, USA"}},{"citationKey":"FLAJOLET1985APPROXIMATE","entryType":"ARTICLE","entryTags":{"TITLE":"Approximate counting: a detailed analysis","AUTHOR":"Flajolet, P","JOURNAL":"BIT Numerical Mathematics","VOLUME":"25","NUMBER":"1","PAGES":"113--134","YEAR":"1985","PUBLISHER":"Springer"}},{"citationKey":"ARPIT_COUNTING","entryType":"MISC","entryTags":{"TITLE":"Morris's Algorithm for Approximate Counting","AUTHOR":"Bhayani, A","URL":"https://arpitbhayani.me/blogs/morris-counter","YEAR":"2020"}},{"citationKey":"GREGGUNDERSON_COUNTING","entryType":"MISC","entryTags":{"TITLE":"Approximate Counting with Morris's Algorithm","AUTHOR":"Gundersen, G","URL":"http://gregorygundersen.com/blog/2019/11/11/morris-algorithm/","YEAR":"2019"}},{"citationKey":"3B1B_FINGER_COUNT","entryType":"MISC","entryTags":{"TITLE":"How to count to 1000 on two hands","AUTHOR":"Sanderson, G","URL":"https://youtu.be/1SMmc9gQmHQ","YEAR":"2015"}}],"gitbook":"*"},"file":{"path":"contents/forward_euler_method/forward_euler_method.md","mtime":"2021-09-06T21:50:00.537Z","type":"markdown"},"gitbook":{"version":"3.6.20","time":"2021-09-06T21:50:35.578Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-mathjax/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-api-language-selector/api-language-selector.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

