Import('files_to_compile env')
from pathlib import Path

for file in files_to_compile:
    chapter_name = file.parent.parent.parent.stem
    if (file.parent / 'Cargo.toml').exists():
        print(f"Building with cargo for {chapter_name}")
    else:
        env.rustc(f'#/build/rust/{chapter_name}', str(file))
